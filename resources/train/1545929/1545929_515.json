{"test_class": {"identifier": "JavadocBlockParserUtilTest", "superclass": "extends JavadocTestRoot", "interfaces": "", "fields": [], "file": "utils-project/javadoc-parser/src/test/java/com/asakusafw/utils/java/parser/javadoc/JavadocBlockParserUtilTest.java"}, "test_case": {"identifier": "testFetchType", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testFetchType() {\n        {\n            DefaultJavadocScanner scanner = string(\"double\");\n            IrDocType type = JavadocBlockParserUtil.fetchType(scanner, null);\n            assertNotNull(type);\n\n            assertEquals(IrDocElementKind.BASIC_TYPE, type.getKind());\n            IrDocBasicType elem = (IrDocBasicType) type;\n\n            assertEquals(IrBasicTypeKind.DOUBLE, elem.getTypeKind());\n            assertSameLocation(0, \"double\".length(), elem.getLocation());\n            assertEquals(EOF, scanner.lookahead(0).getKind());\n        }\n        {\n            DefaultJavadocScanner scanner = string(\"float[]\");\n            IrDocType type = JavadocBlockParserUtil.fetchType(scanner, null);\n            assertNotNull(type);\n\n            assertEquals(IrDocElementKind.ARRAY_TYPE, type.getKind());\n            IrDocArrayType array = (IrDocArrayType) type;\n            assertSameLocation(0, \"float[]\".length(), array.getLocation());\n\n            IrDocBasicType elem = (IrDocBasicType) array.getComponentType();\n            assertEquals(IrBasicTypeKind.FLOAT, elem.getTypeKind());\n            assertSameLocation(0, \"float\".length(), elem.getLocation());\n            assertEquals(EOF, scanner.lookahead(0).getKind());\n        }\n        {\n            DefaultJavadocScanner scanner = string(\"char[][]\");\n            IrDocType type = JavadocBlockParserUtil.fetchType(scanner, null);\n            assertNotNull(type);\n\n            assertEquals(IrDocElementKind.ARRAY_TYPE, type.getKind());\n            IrDocArrayType array = (IrDocArrayType) type;\n            assertSameLocation(0, \"char[][]\".length(), array.getLocation());\n\n            IrDocType component = array.getComponentType();\n            assertEquals(IrDocElementKind.ARRAY_TYPE, component.getKind());\n            IrDocArrayType array2 = (IrDocArrayType) component;\n            assertSameLocation(0, \"char[]\".length(), array2.getLocation());\n\n            IrDocBasicType elem = (IrDocBasicType) array2.getComponentType();\n            assertEquals(IrBasicTypeKind.CHAR, elem.getTypeKind());\n            assertSameLocation(0, \"char\".length(), elem.getLocation());\n            assertEquals(EOF, scanner.lookahead(0).getKind());\n        }\n        {\n            DefaultJavadocScanner scanner = string(\"java.lang.String\");\n            IrDocType type = JavadocBlockParserUtil.fetchType(scanner, null);\n            assertNotNull(type);\n            assertEquals(IrDocElementKind.NAMED_TYPE, type.getKind());\n            IrDocNamedType elem = (IrDocNamedType) type;\n            assertEquals(\"java.lang.String\", elem.getName().asString());\n            assertSameLocation(0, \"java.lang.String\".length(), elem.getLocation());\n            assertEquals(EOF, scanner.lookahead(0).getKind());\n        }\n        {\n            DefaultJavadocScanner scanner = string(\"java.lang.String[]\");\n            IrDocType type = JavadocBlockParserUtil.fetchType(scanner, null);\n            assertNotNull(type);\n\n            assertEquals(IrDocElementKind.ARRAY_TYPE, type.getKind());\n            IrDocArrayType array = (IrDocArrayType) type;\n            assertSameLocation(0, \"java.lang.String[]\".length(), array.getLocation());\n\n            IrDocNamedType elem = (IrDocNamedType) array.getComponentType();\n            assertEquals(\"java.lang.String\", elem.getName().asString());\n            assertSameLocation(0, \"java.lang.String\".length(), elem.getLocation());\n\n            assertEquals(EOF, scanner.lookahead(0).getKind());\n        }\n    }", "signature": "void testFetchType()", "full_signature": "@Test public void testFetchType()", "class_method_signature": "JavadocBlockParserUtilTest.testFetchType()", "testcase": true, "constructor": false, "invocations": ["string", "fetchType", "assertNotNull", "assertEquals", "getKind", "assertEquals", "getTypeKind", "assertSameLocation", "length", "getLocation", "assertEquals", "getKind", "lookahead", "string", "fetchType", "assertNotNull", "assertEquals", "getKind", "assertSameLocation", "length", "getLocation", "getComponentType", "assertEquals", "getTypeKind", "assertSameLocation", "length", "getLocation", "assertEquals", "getKind", "lookahead", "string", "fetchType", "assertNotNull", "assertEquals", "getKind", "assertSameLocation", "length", "getLocation", "getComponentType", "assertEquals", "getKind", "assertSameLocation", "length", "getLocation", "getComponentType", "assertEquals", "getTypeKind", "assertSameLocation", "length", "getLocation", "assertEquals", "getKind", "lookahead", "string", "fetchType", "assertNotNull", "assertEquals", "getKind", "assertEquals", "asString", "getName", "assertSameLocation", "length", "getLocation", "assertEquals", "getKind", "lookahead", "string", "fetchType", "assertNotNull", "assertEquals", "getKind", "assertSameLocation", "length", "getLocation", "getComponentType", "assertEquals", "asString", "getName", "assertSameLocation", "length", "getLocation", "assertEquals", "getKind", "lookahead"]}, "focal_class": {"identifier": "JavadocBlockParserUtil", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final Set<JavadocTokenKind> S_WHITE;", "modifier": "public static final", "type": "Set<JavadocTokenKind>", "declarator": "S_WHITE", "var_name": "S_WHITE"}, {"original_string": "private static final Set<JavadocTokenKind> S_TEXT_DELIM;", "modifier": "private static final", "type": "Set<JavadocTokenKind>", "declarator": "S_TEXT_DELIM", "var_name": "S_TEXT_DELIM"}, {"original_string": "private static final Set<JavadocTokenKind> S_TAG_NAME_DELIM;", "modifier": "private static final", "type": "Set<JavadocTokenKind>", "declarator": "S_TAG_NAME_DELIM", "var_name": "S_TAG_NAME_DELIM"}, {"original_string": "private static final Set<JavadocTokenKind> S_INLINE_BLOCK_DELIM;", "modifier": "private static final", "type": "Set<JavadocTokenKind>", "declarator": "S_INLINE_BLOCK_DELIM", "var_name": "S_INLINE_BLOCK_DELIM"}, {"original_string": "private static final Map<String, IrBasicTypeKind> BASIC_TYPE_NAMES;", "modifier": "private static final", "type": "Map<String, IrBasicTypeKind>", "declarator": "BASIC_TYPE_NAMES", "var_name": "BASIC_TYPE_NAMES"}], "methods": [{"identifier": "JavadocBlockParserUtil", "parameters": "()", "modifiers": "private", "return": "", "signature": " JavadocBlockParserUtil()", "full_signature": "private  JavadocBlockParserUtil()", "class_method_signature": "JavadocBlockParserUtil.JavadocBlockParserUtil()", "testcase": false, "constructor": true}, {"identifier": "setLocation", "parameters": "(T elem, JavadocToken start, JavadocToken stop)", "modifiers": "public static", "return": "T", "signature": "T setLocation(T elem, JavadocToken start, JavadocToken stop)", "full_signature": "public static T setLocation(T elem, JavadocToken start, JavadocToken stop)", "class_method_signature": "JavadocBlockParserUtil.setLocation(T elem, JavadocToken start, JavadocToken stop)", "testcase": false, "constructor": false}, {"identifier": "setLocation", "parameters": "(T elem, IrLocation start, IrLocation stop)", "modifiers": "public static", "return": "T", "signature": "T setLocation(T elem, IrLocation start, IrLocation stop)", "full_signature": "public static T setLocation(T elem, IrLocation start, IrLocation stop)", "class_method_signature": "JavadocBlockParserUtil.setLocation(T elem, IrLocation start, IrLocation stop)", "testcase": false, "constructor": false}, {"identifier": "fetchText", "parameters": "(JavadocScanner scanner, boolean trimHead, boolean trimTail)", "modifiers": "public static", "return": "IrDocText", "signature": "IrDocText fetchText(JavadocScanner scanner, boolean trimHead, boolean trimTail)", "full_signature": "public static IrDocText fetchText(JavadocScanner scanner, boolean trimHead, boolean trimTail)", "class_method_signature": "JavadocBlockParserUtil.fetchText(JavadocScanner scanner, boolean trimHead, boolean trimTail)", "testcase": false, "constructor": false}, {"identifier": "fetchBlockInfo", "parameters": "(JavadocScanner scanner)", "modifiers": "public static", "return": "JavadocBlockInfo", "signature": "JavadocBlockInfo fetchBlockInfo(JavadocScanner scanner)", "full_signature": "public static JavadocBlockInfo fetchBlockInfo(JavadocScanner scanner)", "class_method_signature": "JavadocBlockParserUtil.fetchBlockInfo(JavadocScanner scanner)", "testcase": false, "constructor": false}, {"identifier": "countWhileTagName", "parameters": "(JavadocScanner scanner, int start)", "modifiers": "public static", "return": "int", "signature": "int countWhileTagName(JavadocScanner scanner, int start)", "full_signature": "public static int countWhileTagName(JavadocScanner scanner, int start)", "class_method_signature": "JavadocBlockParserUtil.countWhileTagName(JavadocScanner scanner, int start)", "testcase": false, "constructor": false}, {"identifier": "fetchSimpleName", "parameters": "(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "modifiers": "public static", "return": "IrDocSimpleName", "signature": "IrDocSimpleName fetchSimpleName(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "full_signature": "public static IrDocSimpleName fetchSimpleName(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "class_method_signature": "JavadocBlockParserUtil.fetchSimpleName(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "testcase": false, "constructor": false}, {"identifier": "fetchName", "parameters": "(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "modifiers": "public static", "return": "IrDocName", "signature": "IrDocName fetchName(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "full_signature": "public static IrDocName fetchName(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "class_method_signature": "JavadocBlockParserUtil.fetchName(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "testcase": false, "constructor": false}, {"identifier": "fetchBasicType", "parameters": "(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "modifiers": "public static", "return": "IrDocBasicType", "signature": "IrDocBasicType fetchBasicType(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "full_signature": "public static IrDocBasicType fetchBasicType(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "class_method_signature": "JavadocBlockParserUtil.fetchBasicType(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "testcase": false, "constructor": false}, {"identifier": "fetchPrimitiveType", "parameters": "(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "modifiers": "public static", "return": "IrDocBasicType", "signature": "IrDocBasicType fetchPrimitiveType(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "full_signature": "public static IrDocBasicType fetchPrimitiveType(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "class_method_signature": "JavadocBlockParserUtil.fetchPrimitiveType(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "testcase": false, "constructor": false}, {"identifier": "fetchNamedType", "parameters": "(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "modifiers": "public static", "return": "IrDocNamedType", "signature": "IrDocNamedType fetchNamedType(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "full_signature": "public static IrDocNamedType fetchNamedType(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "class_method_signature": "JavadocBlockParserUtil.fetchNamedType(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "testcase": false, "constructor": false}, {"identifier": "fetchType", "parameters": "(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "modifiers": "public static", "return": "IrDocType", "signature": "IrDocType fetchType(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "full_signature": "public static IrDocType fetchType(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "class_method_signature": "JavadocBlockParserUtil.fetchType(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "testcase": false, "constructor": false}, {"identifier": "fetchField", "parameters": "(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "modifiers": "public static", "return": "IrDocField", "signature": "IrDocField fetchField(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "full_signature": "public static IrDocField fetchField(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "class_method_signature": "JavadocBlockParserUtil.fetchField(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "testcase": false, "constructor": false}, {"identifier": "fetchMethod", "parameters": "(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "modifiers": "public static", "return": "IrDocMethod", "signature": "IrDocMethod fetchMethod(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "full_signature": "public static IrDocMethod fetchMethod(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "class_method_signature": "JavadocBlockParserUtil.fetchMethod(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "testcase": false, "constructor": false}, {"identifier": "fetchLinkTarget", "parameters": "(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "modifiers": "public static", "return": "IrDocFragment", "signature": "IrDocFragment fetchLinkTarget(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "full_signature": "public static IrDocFragment fetchLinkTarget(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "class_method_signature": "JavadocBlockParserUtil.fetchLinkTarget(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "testcase": false, "constructor": false}, {"identifier": "fetchMethod", "parameters": "(JavadocTokenStream stream)", "modifiers": "private static", "return": "IrDocMethod", "signature": "IrDocMethod fetchMethod(JavadocTokenStream stream)", "full_signature": "private static IrDocMethod fetchMethod(JavadocTokenStream stream)", "class_method_signature": "JavadocBlockParserUtil.fetchMethod(JavadocTokenStream stream)", "testcase": false, "constructor": false}, {"identifier": "fetchMethodParameter", "parameters": "(JavadocTokenStream stream)", "modifiers": "private static", "return": "IrDocMethodParameter", "signature": "IrDocMethodParameter fetchMethodParameter(JavadocTokenStream stream)", "full_signature": "private static IrDocMethodParameter fetchMethodParameter(JavadocTokenStream stream)", "class_method_signature": "JavadocBlockParserUtil.fetchMethodParameter(JavadocTokenStream stream)", "testcase": false, "constructor": false}, {"identifier": "fetchField", "parameters": "(JavadocTokenStream stream)", "modifiers": "private static", "return": "IrDocField", "signature": "IrDocField fetchField(JavadocTokenStream stream)", "full_signature": "private static IrDocField fetchField(JavadocTokenStream stream)", "class_method_signature": "JavadocBlockParserUtil.fetchField(JavadocTokenStream stream)", "testcase": false, "constructor": false}, {"identifier": "fetchNamedType", "parameters": "(JavadocTokenStream stream)", "modifiers": "private static", "return": "IrDocNamedType", "signature": "IrDocNamedType fetchNamedType(JavadocTokenStream stream)", "full_signature": "private static IrDocNamedType fetchNamedType(JavadocTokenStream stream)", "class_method_signature": "JavadocBlockParserUtil.fetchNamedType(JavadocTokenStream stream)", "testcase": false, "constructor": false}, {"identifier": "fetchType", "parameters": "(JavadocTokenStream stream)", "modifiers": "private static", "return": "IrDocType", "signature": "IrDocType fetchType(JavadocTokenStream stream)", "full_signature": "private static IrDocType fetchType(JavadocTokenStream stream)", "class_method_signature": "JavadocBlockParserUtil.fetchType(JavadocTokenStream stream)", "testcase": false, "constructor": false}, {"identifier": "fetchName", "parameters": "(JavadocTokenStream stream)", "modifiers": "private static", "return": "IrDocName", "signature": "IrDocName fetchName(JavadocTokenStream stream)", "full_signature": "private static IrDocName fetchName(JavadocTokenStream stream)", "class_method_signature": "JavadocBlockParserUtil.fetchName(JavadocTokenStream stream)", "testcase": false, "constructor": false}, {"identifier": "fetchBasicType", "parameters": "(JavadocTokenStream stream)", "modifiers": "private static", "return": "IrDocBasicType", "signature": "IrDocBasicType fetchBasicType(JavadocTokenStream stream)", "full_signature": "private static IrDocBasicType fetchBasicType(JavadocTokenStream stream)", "class_method_signature": "JavadocBlockParserUtil.fetchBasicType(JavadocTokenStream stream)", "testcase": false, "constructor": false}, {"identifier": "fetchSimpleName", "parameters": "(JavadocTokenStream stream)", "modifiers": "private static", "return": "IrDocSimpleName", "signature": "IrDocSimpleName fetchSimpleName(JavadocTokenStream stream)", "full_signature": "private static IrDocSimpleName fetchSimpleName(JavadocTokenStream stream)", "class_method_signature": "JavadocBlockParserUtil.fetchSimpleName(JavadocTokenStream stream)", "testcase": false, "constructor": false}, {"identifier": "follows", "parameters": "(JavadocTokenStream stream,\n            Collection<JavadocTokenKind> set)", "modifiers": "private static", "return": "boolean", "signature": "boolean follows(JavadocTokenStream stream,\n            Collection<JavadocTokenKind> set)", "full_signature": "private static boolean follows(JavadocTokenStream stream,\n            Collection<JavadocTokenKind> set)", "class_method_signature": "JavadocBlockParserUtil.follows(JavadocTokenStream stream,\n            Collection<JavadocTokenKind> set)", "testcase": false, "constructor": false}, {"identifier": "consumeIfMatch", "parameters": "(JavadocTokenStream stream, JavadocTokenKind kind)", "modifiers": "private static", "return": "JavadocToken", "signature": "JavadocToken consumeIfMatch(JavadocTokenStream stream, JavadocTokenKind kind)", "full_signature": "private static JavadocToken consumeIfMatch(JavadocTokenStream stream, JavadocTokenKind kind)", "class_method_signature": "JavadocBlockParserUtil.consumeIfMatch(JavadocTokenStream stream, JavadocTokenKind kind)", "testcase": false, "constructor": false}, {"identifier": "consumeAsText", "parameters": "(JavadocScanner scanner, int count, boolean trimHead, boolean trimTail)", "modifiers": "private static", "return": "IrDocText", "signature": "IrDocText consumeAsText(JavadocScanner scanner, int count, boolean trimHead, boolean trimTail)", "full_signature": "private static IrDocText consumeAsText(JavadocScanner scanner, int count, boolean trimHead, boolean trimTail)", "class_method_signature": "JavadocBlockParserUtil.consumeAsText(JavadocScanner scanner, int count, boolean trimHead, boolean trimTail)", "testcase": false, "constructor": false}, {"identifier": "buildText", "parameters": "(List<? extends JavadocToken> tokens)", "modifiers": "private static", "return": "IrDocText", "signature": "IrDocText buildText(List<? extends JavadocToken> tokens)", "full_signature": "private static IrDocText buildText(List<? extends JavadocToken> tokens)", "class_method_signature": "JavadocBlockParserUtil.buildText(List<? extends JavadocToken> tokens)", "testcase": false, "constructor": false}, {"identifier": "buildString", "parameters": "(List<? extends JavadocToken> tokens)", "modifiers": "public static", "return": "String", "signature": "String buildString(List<? extends JavadocToken> tokens)", "full_signature": "public static String buildString(List<? extends JavadocToken> tokens)", "class_method_signature": "JavadocBlockParserUtil.buildString(List<? extends JavadocToken> tokens)", "testcase": false, "constructor": false}, {"identifier": "consumeTokens", "parameters": "(JavadocScanner scanner,\n            int count, boolean trimHead, boolean trimTail)", "modifiers": "private static", "return": "List<JavadocToken>", "signature": "List<JavadocToken> consumeTokens(JavadocScanner scanner,\n            int count, boolean trimHead, boolean trimTail)", "full_signature": "private static List<JavadocToken> consumeTokens(JavadocScanner scanner,\n            int count, boolean trimHead, boolean trimTail)", "class_method_signature": "JavadocBlockParserUtil.consumeTokens(JavadocScanner scanner,\n            int count, boolean trimHead, boolean trimTail)", "testcase": false, "constructor": false}], "file": "utils-project/javadoc-parser/src/main/java/com/asakusafw/utils/java/parser/javadoc/JavadocBlockParserUtil.java"}, "focal_method": {"identifier": "fetchType", "parameters": "(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "modifiers": "public static", "return": "IrDocType", "body": "public static IrDocType fetchType(JavadocScanner scanner, Set<JavadocTokenKind> follow) {\n        JavadocTokenStream stream = new DefaultJavadocTokenStream(scanner);\n        stream.mark();\n        IrDocType elem = fetchType(stream);\n        if (!follows(stream, follow)) {\n            stream.rewind();\n            return null;\n        } else {\n            stream.discard();\n            return elem;\n        }\n    }", "signature": "IrDocType fetchType(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "full_signature": "public static IrDocType fetchType(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "class_method_signature": "JavadocBlockParserUtil.fetchType(JavadocScanner scanner, Set<JavadocTokenKind> follow)", "testcase": false, "constructor": false, "invocations": ["mark", "fetchType", "follows", "rewind", "discard"]}, "repository": {"repo_id": 1545929, "url": "https://github.com/asakusafw/asakusafw", "language": "Java", "is_fork": false, "fork_count": 13, "stargazer_count": 113, "size": 35236, "license": "licensed"}}