{"test_class": {"identifier": "PersonLookupHelperImplTest", "superclass": "extends PersonLookupHelperImpl", "interfaces": "", "fields": [{"original_string": "private static final String GENERALLY_PERMITTED_ATTRIBUTE = \"generally.permitted.attribute\";", "modifier": "private static final", "type": "String", "declarator": "GENERALLY_PERMITTED_ATTRIBUTE = \"generally.permitted.attribute\"", "var_name": "GENERALLY_PERMITTED_ATTRIBUTE"}, {"original_string": "private static final String PERMITTED_OWN_ATTRIBUTE = \"permitted.own.attribute\";", "modifier": "private static final", "type": "String", "declarator": "PERMITTED_OWN_ATTRIBUTE = \"permitted.own.attribute\"", "var_name": "PERMITTED_OWN_ATTRIBUTE"}, {"original_string": "private static final String NEVER_PERMITTED_ATTRIBUTE = \"never.permitted.attribute\";", "modifier": "private static final", "type": "String", "declarator": "NEVER_PERMITTED_ATTRIBUTE = \"never.permitted.attribute\"", "var_name": "NEVER_PERMITTED_ATTRIBUTE"}, {"original_string": "private static final Set<String> ALL_ATTRIBUTES =\n            Collections.unmodifiableSet(\n                    new HashSet<>(\n                            Arrays.asList(\n                                    new String[] {\n                                        GENERALLY_PERMITTED_ATTRIBUTE,\n                                        PERMITTED_OWN_ATTRIBUTE,\n                                        NEVER_PERMITTED_ATTRIBUTE\n                                    })));", "modifier": "private static final", "type": "Set<String>", "declarator": "ALL_ATTRIBUTES =\n            Collections.unmodifiableSet(\n                    new HashSet<>(\n                            Arrays.asList(\n                                    new String[] {\n                                        GENERALLY_PERMITTED_ATTRIBUTE,\n                                        PERMITTED_OWN_ATTRIBUTE,\n                                        NEVER_PERMITTED_ATTRIBUTE\n                                    })))", "var_name": "ALL_ATTRIBUTES"}, {"original_string": "private IAuthorizationPrincipal principal;", "modifier": "private", "type": "IAuthorizationPrincipal", "declarator": "principal", "var_name": "principal"}], "file": "uPortal-api/uPortal-api-internal/src/test/java/org/apereo/portal/portlets/lookup/PersonLookupHelperImplTest.java"}, "test_case": {"identifier": "testGetPermittedAttributes", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetPermittedAttributes() {\n\n        final Set<String> permittedAttributes = getPermittedAttributes(principal, ALL_ATTRIBUTES);\n\n        assertTrue(permittedAttributes.contains(GENERALLY_PERMITTED_ATTRIBUTE));\n        assertFalse(permittedAttributes.contains(PERMITTED_OWN_ATTRIBUTE));\n        assertFalse(permittedAttributes.contains(NEVER_PERMITTED_ATTRIBUTE));\n    }", "signature": "void testGetPermittedAttributes()", "full_signature": "@Test public void testGetPermittedAttributes()", "class_method_signature": "PersonLookupHelperImplTest.testGetPermittedAttributes()", "testcase": true, "constructor": false, "invocations": ["getPermittedAttributes", "assertTrue", "contains", "assertFalse", "contains", "assertFalse", "contains"]}, "focal_class": {"identifier": "PersonLookupHelperImpl", "superclass": "", "interfaces": "implements IPersonLookupHelper", "fields": [{"original_string": "protected final Logger logger = LoggerFactory.getLogger(this.getClass());", "modifier": "protected final", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(this.getClass())", "var_name": "logger"}, {"original_string": "private IPersonAttributeDao personAttributeDao;", "modifier": "private", "type": "IPersonAttributeDao", "declarator": "personAttributeDao", "var_name": "personAttributeDao"}, {"original_string": "private int maxResults = 10;", "modifier": "private", "type": "int", "declarator": "maxResults = 10", "var_name": "maxResults"}, {"original_string": "private int searchThreadCount = 10;", "modifier": "private", "type": "int", "declarator": "searchThreadCount = 10", "var_name": "searchThreadCount"}, {"original_string": "private long searchThreadTimeoutSeconds = 60;", "modifier": "private", "type": "long", "declarator": "searchThreadTimeoutSeconds = 60", "var_name": "searchThreadTimeoutSeconds"}, {"original_string": "private ExecutorService executor;", "modifier": "private", "type": "ExecutorService", "declarator": "executor", "var_name": "executor"}], "methods": [{"identifier": "getPersonAttributeDao", "parameters": "()", "modifiers": "public", "return": "IPersonAttributeDao", "signature": "IPersonAttributeDao getPersonAttributeDao()", "full_signature": "public IPersonAttributeDao getPersonAttributeDao()", "class_method_signature": "PersonLookupHelperImpl.getPersonAttributeDao()", "testcase": false, "constructor": false}, {"identifier": "setPersonAttributeDao", "parameters": "(IPersonAttributeDao personLookupDao)", "modifiers": "public", "return": "void", "signature": "void setPersonAttributeDao(IPersonAttributeDao personLookupDao)", "full_signature": "public void setPersonAttributeDao(IPersonAttributeDao personLookupDao)", "class_method_signature": "PersonLookupHelperImpl.setPersonAttributeDao(IPersonAttributeDao personLookupDao)", "testcase": false, "constructor": false}, {"identifier": "setMaxResults", "parameters": "(int maxResults)", "modifiers": "public", "return": "void", "signature": "void setMaxResults(int maxResults)", "full_signature": "public void setMaxResults(int maxResults)", "class_method_signature": "PersonLookupHelperImpl.setMaxResults(int maxResults)", "testcase": false, "constructor": false}, {"identifier": "getMaxResults", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getMaxResults()", "full_signature": "public int getMaxResults()", "class_method_signature": "PersonLookupHelperImpl.getMaxResults()", "testcase": false, "constructor": false}, {"identifier": "setSearchThreadCount", "parameters": "(int searchThreadCount)", "modifiers": "public", "return": "void", "signature": "void setSearchThreadCount(int searchThreadCount)", "full_signature": "public void setSearchThreadCount(int searchThreadCount)", "class_method_signature": "PersonLookupHelperImpl.setSearchThreadCount(int searchThreadCount)", "testcase": false, "constructor": false}, {"identifier": "setSearchThreadTimeoutSeconds", "parameters": "(long searchThreadTimeoutSeconds)", "modifiers": "public", "return": "void", "signature": "void setSearchThreadTimeoutSeconds(long searchThreadTimeoutSeconds)", "full_signature": "public void setSearchThreadTimeoutSeconds(long searchThreadTimeoutSeconds)", "class_method_signature": "PersonLookupHelperImpl.setSearchThreadTimeoutSeconds(long searchThreadTimeoutSeconds)", "testcase": false, "constructor": false}, {"identifier": "initializeSearchExecutor", "parameters": "()", "modifiers": "@PostConstruct public", "return": "void", "signature": "void initializeSearchExecutor()", "full_signature": "@PostConstruct public void initializeSearchExecutor()", "class_method_signature": "PersonLookupHelperImpl.initializeSearchExecutor()", "testcase": false, "constructor": false}, {"identifier": "getQueryAttributes", "parameters": "(ExternalContext externalContext)", "modifiers": "@Override public", "return": "Set<String>", "signature": "Set<String> getQueryAttributes(ExternalContext externalContext)", "full_signature": "@Override public Set<String> getQueryAttributes(ExternalContext externalContext)", "class_method_signature": "PersonLookupHelperImpl.getQueryAttributes(ExternalContext externalContext)", "testcase": false, "constructor": false}, {"identifier": "getDisplayAttributes", "parameters": "(ExternalContext externalContext)", "modifiers": "@Override public", "return": "Set<String>", "signature": "Set<String> getDisplayAttributes(ExternalContext externalContext)", "full_signature": "@Override public Set<String> getDisplayAttributes(ExternalContext externalContext)", "class_method_signature": "PersonLookupHelperImpl.getDisplayAttributes(ExternalContext externalContext)", "testcase": false, "constructor": false}, {"identifier": "getSelf", "parameters": "(ExternalContext externalContext)", "modifiers": "@Override public", "return": "IPersonAttributes", "signature": "IPersonAttributes getSelf(ExternalContext externalContext)", "full_signature": "@Override public IPersonAttributes getSelf(ExternalContext externalContext)", "class_method_signature": "PersonLookupHelperImpl.getSelf(ExternalContext externalContext)", "testcase": false, "constructor": false}, {"identifier": "searchForPeople", "parameters": "(\n            final IPerson searcher, final Map<String, Object> query)", "modifiers": "@Override public", "return": "List<IPersonAttributes>", "signature": "List<IPersonAttributes> searchForPeople(\n            final IPerson searcher, final Map<String, Object> query)", "full_signature": "@Override public List<IPersonAttributes> searchForPeople(\n            final IPerson searcher, final Map<String, Object> query)", "class_method_signature": "PersonLookupHelperImpl.searchForPeople(\n            final IPerson searcher, final Map<String, Object> query)", "testcase": false, "constructor": false}, {"identifier": "getVisiblePersons", "parameters": "(\n            final IAuthorizationPrincipal principal,\n            final Set<String> permittedAttributes,\n            List<IPersonAttributes> peopleList)", "modifiers": "private", "return": "List<IPersonAttributes>", "signature": "List<IPersonAttributes> getVisiblePersons(\n            final IAuthorizationPrincipal principal,\n            final Set<String> permittedAttributes,\n            List<IPersonAttributes> peopleList)", "full_signature": "private List<IPersonAttributes> getVisiblePersons(\n            final IAuthorizationPrincipal principal,\n            final Set<String> permittedAttributes,\n            List<IPersonAttributes> peopleList)", "class_method_signature": "PersonLookupHelperImpl.getVisiblePersons(\n            final IAuthorizationPrincipal principal,\n            final Set<String> permittedAttributes,\n            List<IPersonAttributes> peopleList)", "testcase": false, "constructor": false}, {"identifier": "allListItemsHaveDisplayName", "parameters": "(List<IPersonAttributes> people)", "modifiers": "private", "return": "boolean", "signature": "boolean allListItemsHaveDisplayName(List<IPersonAttributes> people)", "full_signature": "private boolean allListItemsHaveDisplayName(List<IPersonAttributes> people)", "class_method_signature": "PersonLookupHelperImpl.allListItemsHaveDisplayName(List<IPersonAttributes> people)", "testcase": false, "constructor": false}, {"identifier": "findPerson", "parameters": "(final IPerson searcher, final String username)", "modifiers": "@Override public", "return": "IPersonAttributes", "signature": "IPersonAttributes findPerson(final IPerson searcher, final String username)", "full_signature": "@Override public IPersonAttributes findPerson(final IPerson searcher, final String username)", "class_method_signature": "PersonLookupHelperImpl.findPerson(final IPerson searcher, final String username)", "testcase": false, "constructor": false}, {"identifier": "getPrincipalForUser", "parameters": "(final IPerson person)", "modifiers": "protected", "return": "IAuthorizationPrincipal", "signature": "IAuthorizationPrincipal getPrincipalForUser(final IPerson person)", "full_signature": "protected IAuthorizationPrincipal getPrincipalForUser(final IPerson person)", "class_method_signature": "PersonLookupHelperImpl.getPrincipalForUser(final IPerson person)", "testcase": false, "constructor": false}, {"identifier": "getPermittedAttributes", "parameters": "(final IAuthorizationPrincipal principal)", "modifiers": "protected", "return": "Set<String>", "signature": "Set<String> getPermittedAttributes(final IAuthorizationPrincipal principal)", "full_signature": "protected Set<String> getPermittedAttributes(final IAuthorizationPrincipal principal)", "class_method_signature": "PersonLookupHelperImpl.getPermittedAttributes(final IAuthorizationPrincipal principal)", "testcase": false, "constructor": false}, {"identifier": "getPermittedAttributes", "parameters": "(\n            final IAuthorizationPrincipal principal, final Set<String> attributeNames)", "modifiers": "protected", "return": "Set<String>", "signature": "Set<String> getPermittedAttributes(\n            final IAuthorizationPrincipal principal, final Set<String> attributeNames)", "full_signature": "protected Set<String> getPermittedAttributes(\n            final IAuthorizationPrincipal principal, final Set<String> attributeNames)", "class_method_signature": "PersonLookupHelperImpl.getPermittedAttributes(\n            final IAuthorizationPrincipal principal, final Set<String> attributeNames)", "testcase": false, "constructor": false}, {"identifier": "getPermittedOwnAttributes", "parameters": "(\n            final IAuthorizationPrincipal principal,\n            final Set<String> generallyPermittedAttributes)", "modifiers": "protected", "return": "Set<String>", "signature": "Set<String> getPermittedOwnAttributes(\n            final IAuthorizationPrincipal principal,\n            final Set<String> generallyPermittedAttributes)", "full_signature": "protected Set<String> getPermittedOwnAttributes(\n            final IAuthorizationPrincipal principal,\n            final Set<String> generallyPermittedAttributes)", "class_method_signature": "PersonLookupHelperImpl.getPermittedOwnAttributes(\n            final IAuthorizationPrincipal principal,\n            final Set<String> generallyPermittedAttributes)", "testcase": false, "constructor": false}, {"identifier": "getVisiblePerson", "parameters": "(\n            final IAuthorizationPrincipal principal,\n            final IPersonAttributes person,\n            final Set<String> generallyPermittedAttributes)", "modifiers": "protected", "return": "IPersonAttributes", "signature": "IPersonAttributes getVisiblePerson(\n            final IAuthorizationPrincipal principal,\n            final IPersonAttributes person,\n            final Set<String> generallyPermittedAttributes)", "full_signature": "protected IPersonAttributes getVisiblePerson(\n            final IAuthorizationPrincipal principal,\n            final IPersonAttributes person,\n            final Set<String> generallyPermittedAttributes)", "class_method_signature": "PersonLookupHelperImpl.getVisiblePerson(\n            final IAuthorizationPrincipal principal,\n            final IPersonAttributes person,\n            final Set<String> generallyPermittedAttributes)", "testcase": false, "constructor": false}], "file": "uPortal-api/uPortal-api-internal/src/main/java/org/apereo/portal/portlets/lookup/PersonLookupHelperImpl.java"}, "focal_method": {"identifier": "getPermittedAttributes", "parameters": "(final IAuthorizationPrincipal principal)", "modifiers": "protected", "return": "Set<String>", "body": "protected Set<String> getPermittedAttributes(final IAuthorizationPrincipal principal) {\n        final Set<String> attributeNames = personAttributeDao.getPossibleUserAttributeNames();\n        return getPermittedAttributes(principal, attributeNames);\n    }", "signature": "Set<String> getPermittedAttributes(final IAuthorizationPrincipal principal)", "full_signature": "protected Set<String> getPermittedAttributes(final IAuthorizationPrincipal principal)", "class_method_signature": "PersonLookupHelperImpl.getPermittedAttributes(final IAuthorizationPrincipal principal)", "testcase": false, "constructor": false, "invocations": ["getPossibleUserAttributeNames", "getPermittedAttributes"]}, "repository": {"repo_id": 2614085, "url": "https://github.com/Jasig/uPortal", "stars": 195, "created": "10/20/2011 3:34:22 PM +00:00", "updates": "2020-01-22T16:02:00+00:00", "fork": "False", "license": "licensed"}}