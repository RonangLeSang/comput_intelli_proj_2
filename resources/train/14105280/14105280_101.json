{"test_class": {"identifier": "WorkflowConfigurationParserTest", "superclass": "", "interfaces": "", "fields": [], "file": "celos-server/src/test/java/com/collective/celos/WorkflowConfigurationParserTest.java"}, "test_case": {"identifier": "workflowInfoNoEmail", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void workflowInfoNoEmail() throws Exception {\n        WorkflowConfiguration cfg = parseFile(\"workflow-info-test\");\n\n        WorkflowInfo workflowInfo = cfg.findWorkflow(new WorkflowID(\"workflow-4\")).getWorkflowInfo();\n        Assert.assertEquals(new URL(\"http://collective.com/workflow\"), workflowInfo.getUrl());\n        Assert.assertEquals(1, workflowInfo.getContacts().size());\n        Assert.assertEquals(\"John Doe\", workflowInfo.getContacts().get(0).getName());\n        Assert.assertNull(workflowInfo.getContacts().get(0).getEmail());\n    }", "signature": "void workflowInfoNoEmail()", "full_signature": "@Test public void workflowInfoNoEmail()", "class_method_signature": "WorkflowConfigurationParserTest.workflowInfoNoEmail()", "testcase": true, "constructor": false, "invocations": ["parseFile", "getWorkflowInfo", "findWorkflow", "assertEquals", "getUrl", "assertEquals", "size", "getContacts", "assertEquals", "getName", "get", "getContacts", "assertNull", "getEmail", "get", "getContacts"]}, "focal_class": {"identifier": "WorkflowConfigurationParser", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final String WORKFLOW_FILE_EXTENSION = \"js\";", "modifier": "public static final", "type": "String", "declarator": "WORKFLOW_FILE_EXTENSION = \"js\"", "var_name": "WORKFLOW_FILE_EXTENSION"}, {"original_string": "private static final Logger LOGGER = Logger.getLogger(WorkflowConfigurationParser.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = Logger.getLogger(WorkflowConfigurationParser.class)", "var_name": "LOGGER"}, {"original_string": "private static final String CELOS_SCRIPTS_FILENAME = \"celos-scripts.js\";", "modifier": "private static final", "type": "String", "declarator": "CELOS_SCRIPTS_FILENAME = \"celos-scripts.js\"", "var_name": "CELOS_SCRIPTS_FILENAME"}, {"original_string": "private final WorkflowConfiguration cfg = new WorkflowConfiguration();", "modifier": "private final", "type": "WorkflowConfiguration", "declarator": "cfg = new WorkflowConfiguration()", "var_name": "cfg"}, {"original_string": "private final JSConfigParser jsConfigParser = new JSConfigParser();", "modifier": "private final", "type": "JSConfigParser", "declarator": "jsConfigParser = new JSConfigParser()", "var_name": "jsConfigParser"}, {"original_string": "private final File defaultsDir;", "modifier": "private final", "type": "File", "declarator": "defaultsDir", "var_name": "defaultsDir"}, {"original_string": "private final Map<String, String> additionalJsVariables;", "modifier": "private final", "type": "Map<String, String>", "declarator": "additionalJsVariables", "var_name": "additionalJsVariables"}], "methods": [{"identifier": "WorkflowConfigurationParser", "parameters": "(File defaultsDir, Map<String, String> additionalJsVariables)", "modifiers": "public", "return": "", "signature": " WorkflowConfigurationParser(File defaultsDir, Map<String, String> additionalJsVariables)", "full_signature": "public  WorkflowConfigurationParser(File defaultsDir, Map<String, String> additionalJsVariables)", "class_method_signature": "WorkflowConfigurationParser.WorkflowConfigurationParser(File defaultsDir, Map<String, String> additionalJsVariables)", "testcase": false, "constructor": true}, {"identifier": "parseConfiguration", "parameters": "(File workflowsDir, StateDatabaseConnection connection)", "modifiers": "public", "return": "WorkflowConfigurationParser", "signature": "WorkflowConfigurationParser parseConfiguration(File workflowsDir, StateDatabaseConnection connection)", "full_signature": "public WorkflowConfigurationParser parseConfiguration(File workflowsDir, StateDatabaseConnection connection)", "class_method_signature": "WorkflowConfigurationParser.parseConfiguration(File workflowsDir, StateDatabaseConnection connection)", "testcase": false, "constructor": false}, {"identifier": "parseFile", "parameters": "(File f, StateDatabaseConnection connection)", "modifiers": "", "return": "void", "signature": "void parseFile(File f, StateDatabaseConnection connection)", "full_signature": " void parseFile(File f, StateDatabaseConnection connection)", "class_method_signature": "WorkflowConfigurationParser.parseFile(File f, StateDatabaseConnection connection)", "testcase": false, "constructor": false}, {"identifier": "evaluateReader", "parameters": "(Reader r, String fileName, StateDatabaseConnection connection)", "modifiers": "", "return": "Object", "signature": "Object evaluateReader(Reader r, String fileName, StateDatabaseConnection connection)", "full_signature": " Object evaluateReader(Reader r, String fileName, StateDatabaseConnection connection)", "class_method_signature": "WorkflowConfigurationParser.evaluateReader(Reader r, String fileName, StateDatabaseConnection connection)", "testcase": false, "constructor": false}, {"identifier": "getWorkflowConfiguration", "parameters": "()", "modifiers": "public", "return": "WorkflowConfiguration", "signature": "WorkflowConfiguration getWorkflowConfiguration()", "full_signature": "public WorkflowConfiguration getWorkflowConfiguration()", "class_method_signature": "WorkflowConfigurationParser.getWorkflowConfiguration()", "testcase": false, "constructor": false}, {"identifier": "importDefaultsIntoScope", "parameters": "(String label, Global scope)", "modifiers": "public", "return": "void", "signature": "void importDefaultsIntoScope(String label, Global scope)", "full_signature": "public void importDefaultsIntoScope(String label, Global scope)", "class_method_signature": "WorkflowConfigurationParser.importDefaultsIntoScope(String label, Global scope)", "testcase": false, "constructor": false}, {"identifier": "addWorkflow", "parameters": "(Workflow wf)", "modifiers": "public", "return": "void", "signature": "void addWorkflow(Workflow wf)", "full_signature": "public void addWorkflow(Workflow wf)", "class_method_signature": "WorkflowConfigurationParser.addWorkflow(Workflow wf)", "testcase": false, "constructor": false}], "file": "celos-server/src/main/java/com/collective/celos/WorkflowConfigurationParser.java"}, "focal_method": {"identifier": "parseFile", "parameters": "(File f, StateDatabaseConnection connection)", "modifiers": "", "return": "void", "body": "void parseFile(File f, StateDatabaseConnection connection) throws Exception {\n        LOGGER.info(\"Loading file: \" + f);\n        FileReader fileReader = new FileReader(f);\n        String fileName = f.toString();\n        evaluateReader(fileReader, fileName, connection);\n    }", "signature": "void parseFile(File f, StateDatabaseConnection connection)", "full_signature": " void parseFile(File f, StateDatabaseConnection connection)", "class_method_signature": "WorkflowConfigurationParser.parseFile(File f, StateDatabaseConnection connection)", "testcase": false, "constructor": false, "invocations": ["info", "toString", "evaluateReader"]}, "repository": {"repo_id": 14105280, "url": "https://github.com/collectivemedia/celos", "language": "Java", "is_fork": false, "fork_count": 9, "stargazer_count": 23, "size": 8863, "license": "licensed"}}