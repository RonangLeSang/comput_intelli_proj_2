{"test_class": {"identifier": "VaccineColumnTemplateServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mock\n  VaccineColumnTemplateRepository repository;", "modifier": "@Mock", "type": "VaccineColumnTemplateRepository", "declarator": "repository", "var_name": "repository"}, {"original_string": "@InjectMocks\n  VaccineColumnTemplateService service;", "modifier": "@InjectMocks", "type": "VaccineColumnTemplateService", "declarator": "service", "var_name": "service"}], "file": "modules/vaccine/src/test/java/org/openlmis/vaccine/service/VaccineColumnTemplateServiceTest.java"}, "test_case": {"identifier": "shouldGetTemplateForNewProgram", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void shouldGetTemplateForNewProgram() throws Exception {\n    List<LogisticsColumn> masterColumns = new ArrayList<LogisticsColumn>();\n    masterColumns.add(new LogisticsColumn());\n    List<LogisticsColumn> emptyList = new ArrayList<>();\n    ProgramColumnTemplateDTO dto = new ProgramColumnTemplateDTO();\n    dto.setProgramId(1L);\n    dto.setColumns(emptyList);\n    when(repository.getTemplateForProgram(1L)).thenReturn(emptyList);\n    when(repository.getMasterColumns()).thenReturn(masterColumns);\n\n    ProgramColumnTemplateDTO columnsDto = service.getTemplate(1L);\n    assertThat(columnsDto.getColumns().size(), is(1));\n    assertThat(columnsDto.getProgramId(), is(1L));\n  }", "signature": "void shouldGetTemplateForNewProgram()", "full_signature": "@Test public void shouldGetTemplateForNewProgram()", "class_method_signature": "VaccineColumnTemplateServiceTest.shouldGetTemplateForNewProgram()", "testcase": true, "constructor": false, "invocations": ["add", "setProgramId", "setColumns", "thenReturn", "when", "getTemplateForProgram", "thenReturn", "when", "getMasterColumns", "getTemplate", "assertThat", "size", "getColumns", "is", "assertThat", "getProgramId", "is"]}, "focal_class": {"identifier": "VaccineColumnTemplateService", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Autowired\n  private VaccineColumnTemplateRepository repository;", "modifier": "@Autowired\n  private", "type": "VaccineColumnTemplateRepository", "declarator": "repository", "var_name": "repository"}], "methods": [{"identifier": "getTemplate", "parameters": "(Long programId)", "modifiers": "public", "return": "ProgramColumnTemplateDTO", "signature": "ProgramColumnTemplateDTO getTemplate(Long programId)", "full_signature": "public ProgramColumnTemplateDTO getTemplate(Long programId)", "class_method_signature": "VaccineColumnTemplateService.getTemplate(Long programId)", "testcase": false, "constructor": false}, {"identifier": "saveChanges", "parameters": "(List<LogisticsColumn> columns)", "modifiers": "public", "return": "void", "signature": "void saveChanges(List<LogisticsColumn> columns)", "full_signature": "public void saveChanges(List<LogisticsColumn> columns)", "class_method_signature": "VaccineColumnTemplateService.saveChanges(List<LogisticsColumn> columns)", "testcase": false, "constructor": false}], "file": "modules/vaccine/src/main/java/org/openlmis/vaccine/service/VaccineColumnTemplateService.java"}, "focal_method": {"identifier": "getTemplate", "parameters": "(Long programId)", "modifiers": "public", "return": "ProgramColumnTemplateDTO", "body": "public ProgramColumnTemplateDTO getTemplate(Long programId) {\n    List<LogisticsColumn> columns = repository.getTemplateForProgram(programId);\n    if(columns == null || columns.isEmpty()){\n      columns = repository.getMasterColumns();\n      for(LogisticsColumn column: columns){\n        column.setProgramId(programId);\n        column.setId(null);\n        column.setVisible(true);\n      }\n    }\n    ProgramColumnTemplateDTO dto = new ProgramColumnTemplateDTO();\n    dto.setProgramId(programId);\n    dto.setColumns(columns);\n    return dto;\n  }", "signature": "ProgramColumnTemplateDTO getTemplate(Long programId)", "full_signature": "public ProgramColumnTemplateDTO getTemplate(Long programId)", "class_method_signature": "VaccineColumnTemplateService.getTemplate(Long programId)", "testcase": false, "constructor": false, "invocations": ["getTemplateForProgram", "isEmpty", "getMasterColumns", "setProgramId", "setId", "setVisible", "setProgramId", "setColumns"]}, "repository": {"repo_id": 6172406, "url": "https://github.com/OpenLMIS/open-lmis", "language": "Java", "is_fork": false, "fork_count": 54, "stargazer_count": 89, "size": 125128, "license": "licensed"}}