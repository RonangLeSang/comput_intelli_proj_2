{"test_class": {"identifier": "SupervisoryNodeServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mock\n  SupervisoryNodeRepository supervisoryNodeRepository;", "modifier": "@Mock", "type": "SupervisoryNodeRepository", "declarator": "supervisoryNodeRepository", "var_name": "supervisoryNodeRepository"}, {"original_string": "@Mock\n  private FacilityRepository facilityRepository;", "modifier": "@Mock\n  private", "type": "FacilityRepository", "declarator": "facilityRepository", "var_name": "facilityRepository"}, {"original_string": "@Mock\n  private UserRepository userRepository;", "modifier": "@Mock\n  private", "type": "UserRepository", "declarator": "userRepository", "var_name": "userRepository"}, {"original_string": "@Rule\n  public ExpectedException expectedEx = ExpectedException.none();", "modifier": "@Rule\n  public", "type": "ExpectedException", "declarator": "expectedEx = ExpectedException.none()", "var_name": "expectedEx"}, {"original_string": "@InjectMocks\n  SupervisoryNodeService supervisoryNodeService;", "modifier": "@InjectMocks", "type": "SupervisoryNodeService", "declarator": "supervisoryNodeService", "var_name": "supervisoryNodeService"}, {"original_string": "private SupervisoryNode supervisoryNodeWithParent;", "modifier": "private", "type": "SupervisoryNode", "declarator": "supervisoryNodeWithParent", "var_name": "supervisoryNodeWithParent"}, {"original_string": "private Integer pageSize = 100;", "modifier": "private", "type": "Integer", "declarator": "pageSize = 100", "var_name": "pageSize"}], "file": "modules/core/src/test/java/org/openlmis/core/service/SupervisoryNodeServiceTest.java"}, "test_case": {"identifier": "shouldGetSupervisoryNodesSearchCriteria", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void shouldGetSupervisoryNodesSearchCriteria() throws Exception {\n    String searchCriteria = \"nodeName\";\n    int page = 10;\n    Pagination pagination = new Pagination(0, 0);\n    whenNew(Pagination.class).withArguments(page, pageSize).thenReturn(pagination);\n\n    when(supervisoryNodeRepository.getSupervisoryNodesBy(pagination, searchCriteria)).thenReturn(Collections.EMPTY_LIST);\n    List<SupervisoryNode> searchResult = supervisoryNodeService.getSupervisoryNodesBy(page, searchCriteria, true);\n    verify(supervisoryNodeRepository).getSupervisoryNodesByParent(pagination, searchCriteria);\n    assertThat(searchResult, is(Collections.EMPTY_LIST));\n  }", "signature": "void shouldGetSupervisoryNodesSearchCriteria()", "full_signature": "@Test public void shouldGetSupervisoryNodesSearchCriteria()", "class_method_signature": "SupervisoryNodeServiceTest.shouldGetSupervisoryNodesSearchCriteria()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "withArguments", "whenNew", "thenReturn", "when", "getSupervisoryNodesBy", "getSupervisoryNodesBy", "getSupervisoryNodesByParent", "verify", "assertThat", "is"]}, "focal_class": {"identifier": "SupervisoryNodeService", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Autowired\n  private SupervisoryNodeRepository supervisoryNodeRepository;", "modifier": "@Autowired\n  private", "type": "SupervisoryNodeRepository", "declarator": "supervisoryNodeRepository", "var_name": "supervisoryNodeRepository"}, {"original_string": "@Autowired\n  private UserRepository userRepository;", "modifier": "@Autowired\n  private", "type": "UserRepository", "declarator": "userRepository", "var_name": "userRepository"}, {"original_string": "@Autowired\n  private FacilityRepository facilityRepository;", "modifier": "@Autowired\n  private", "type": "FacilityRepository", "declarator": "facilityRepository", "var_name": "facilityRepository"}, {"original_string": "private Integer pageSize;", "modifier": "private", "type": "Integer", "declarator": "pageSize", "var_name": "pageSize"}], "methods": [{"identifier": "setPageSize", "parameters": "(@Value(\"${search.page.size}\") String pageSize)", "modifiers": "@Autowired public", "return": "void", "signature": "void setPageSize(@Value(\"${search.page.size}\") String pageSize)", "full_signature": "@Autowired public void setPageSize(@Value(\"${search.page.size}\") String pageSize)", "class_method_signature": "SupervisoryNodeService.setPageSize(@Value(\"${search.page.size}\") String pageSize)", "testcase": false, "constructor": false}, {"identifier": "save", "parameters": "(SupervisoryNode supervisoryNode)", "modifiers": "public", "return": "void", "signature": "void save(SupervisoryNode supervisoryNode)", "full_signature": "public void save(SupervisoryNode supervisoryNode)", "class_method_signature": "SupervisoryNodeService.save(SupervisoryNode supervisoryNode)", "testcase": false, "constructor": false}, {"identifier": "getSupervisoryNodesBy", "parameters": "(Integer page, String nameSearchCriteria, Boolean parent)", "modifiers": "public", "return": "List<SupervisoryNode>", "signature": "List<SupervisoryNode> getSupervisoryNodesBy(Integer page, String nameSearchCriteria, Boolean parent)", "full_signature": "public List<SupervisoryNode> getSupervisoryNodesBy(Integer page, String nameSearchCriteria, Boolean parent)", "class_method_signature": "SupervisoryNodeService.getSupervisoryNodesBy(Integer page, String nameSearchCriteria, Boolean parent)", "testcase": false, "constructor": false}, {"identifier": "validateParentNode", "parameters": "(SupervisoryNode supervisoryNode)", "modifiers": "private", "return": "void", "signature": "void validateParentNode(SupervisoryNode supervisoryNode)", "full_signature": "private void validateParentNode(SupervisoryNode supervisoryNode)", "class_method_signature": "SupervisoryNodeService.validateParentNode(SupervisoryNode supervisoryNode)", "testcase": false, "constructor": false}, {"identifier": "getAllSupervisoryNodesInHierarchyBy", "parameters": "(Long userId, Long programId, String... rightNames)", "modifiers": "public", "return": "List<SupervisoryNode>", "signature": "List<SupervisoryNode> getAllSupervisoryNodesInHierarchyBy(Long userId, Long programId, String... rightNames)", "full_signature": "public List<SupervisoryNode> getAllSupervisoryNodesInHierarchyBy(Long userId, Long programId, String... rightNames)", "class_method_signature": "SupervisoryNodeService.getAllSupervisoryNodesInHierarchyBy(Long userId, Long programId, String... rightNames)", "testcase": false, "constructor": false}, {"identifier": "getAllSupervisoryNodesInHierarchyBy", "parameters": "(Long userId, String... rightNames)", "modifiers": "public", "return": "List<SupervisoryNode>", "signature": "List<SupervisoryNode> getAllSupervisoryNodesInHierarchyBy(Long userId, String... rightNames)", "full_signature": "public List<SupervisoryNode> getAllSupervisoryNodesInHierarchyBy(Long userId, String... rightNames)", "class_method_signature": "SupervisoryNodeService.getAllSupervisoryNodesInHierarchyBy(Long userId, String... rightNames)", "testcase": false, "constructor": false}, {"identifier": "getFor", "parameters": "(Facility facility, Program program)", "modifiers": "public", "return": "SupervisoryNode", "signature": "SupervisoryNode getFor(Facility facility, Program program)", "full_signature": "public SupervisoryNode getFor(Facility facility, Program program)", "class_method_signature": "SupervisoryNodeService.getFor(Facility facility, Program program)", "testcase": false, "constructor": false}, {"identifier": "getApproverFor", "parameters": "(Facility facility, Program program)", "modifiers": "public", "return": "User", "signature": "User getApproverFor(Facility facility, Program program)", "full_signature": "public User getApproverFor(Facility facility, Program program)", "class_method_signature": "SupervisoryNodeService.getApproverFor(Facility facility, Program program)", "testcase": false, "constructor": false}, {"identifier": "getParent", "parameters": "(Long id)", "modifiers": "public", "return": "SupervisoryNode", "signature": "SupervisoryNode getParent(Long id)", "full_signature": "public SupervisoryNode getParent(Long id)", "class_method_signature": "SupervisoryNodeService.getParent(Long id)", "testcase": false, "constructor": false}, {"identifier": "getApproverForGivenSupervisoryNodeAndProgram", "parameters": "(SupervisoryNode supervisoryNode, Program program)", "modifiers": "public", "return": "User", "signature": "User getApproverForGivenSupervisoryNodeAndProgram(SupervisoryNode supervisoryNode, Program program)", "full_signature": "public User getApproverForGivenSupervisoryNodeAndProgram(SupervisoryNode supervisoryNode, Program program)", "class_method_signature": "SupervisoryNodeService.getApproverForGivenSupervisoryNodeAndProgram(SupervisoryNode supervisoryNode, Program program)", "testcase": false, "constructor": false}, {"identifier": "getAll", "parameters": "()", "modifiers": "public", "return": "List<SupervisoryNode>", "signature": "List<SupervisoryNode> getAll()", "full_signature": "public List<SupervisoryNode> getAll()", "class_method_signature": "SupervisoryNodeService.getAll()", "testcase": false, "constructor": false}, {"identifier": "getAllParentSupervisoryNodesInHierarchy", "parameters": "(SupervisoryNode supervisoryNode)", "modifiers": "public", "return": "List<SupervisoryNode>", "signature": "List<SupervisoryNode> getAllParentSupervisoryNodesInHierarchy(SupervisoryNode supervisoryNode)", "full_signature": "public List<SupervisoryNode> getAllParentSupervisoryNodesInHierarchy(SupervisoryNode supervisoryNode)", "class_method_signature": "SupervisoryNodeService.getAllParentSupervisoryNodesInHierarchy(SupervisoryNode supervisoryNode)", "testcase": false, "constructor": false}, {"identifier": "getByCode", "parameters": "(SupervisoryNode supervisoryNode)", "modifiers": "public", "return": "SupervisoryNode", "signature": "SupervisoryNode getByCode(SupervisoryNode supervisoryNode)", "full_signature": "public SupervisoryNode getByCode(SupervisoryNode supervisoryNode)", "class_method_signature": "SupervisoryNodeService.getByCode(SupervisoryNode supervisoryNode)", "testcase": false, "constructor": false}, {"identifier": "getPagination", "parameters": "(Integer page)", "modifiers": "public", "return": "Pagination", "signature": "Pagination getPagination(Integer page)", "full_signature": "public Pagination getPagination(Integer page)", "class_method_signature": "SupervisoryNodeService.getPagination(Integer page)", "testcase": false, "constructor": false}, {"identifier": "getTotalSearchResultCount", "parameters": "(String param, Boolean parent)", "modifiers": "public", "return": "Integer", "signature": "Integer getTotalSearchResultCount(String param, Boolean parent)", "full_signature": "public Integer getTotalSearchResultCount(String param, Boolean parent)", "class_method_signature": "SupervisoryNodeService.getTotalSearchResultCount(String param, Boolean parent)", "testcase": false, "constructor": false}, {"identifier": "getSupervisoryNode", "parameters": "(Long id)", "modifiers": "public", "return": "SupervisoryNode", "signature": "SupervisoryNode getSupervisoryNode(Long id)", "full_signature": "public SupervisoryNode getSupervisoryNode(Long id)", "class_method_signature": "SupervisoryNodeService.getSupervisoryNode(Long id)", "testcase": false, "constructor": false}, {"identifier": "getFilteredSupervisoryNodesByName", "parameters": "(String param)", "modifiers": "public", "return": "List<SupervisoryNode>", "signature": "List<SupervisoryNode> getFilteredSupervisoryNodesByName(String param)", "full_signature": "public List<SupervisoryNode> getFilteredSupervisoryNodesByName(String param)", "class_method_signature": "SupervisoryNodeService.getFilteredSupervisoryNodesByName(String param)", "testcase": false, "constructor": false}, {"identifier": "searchTopLevelSupervisoryNodesByName", "parameters": "(String param)", "modifiers": "public", "return": "List<SupervisoryNode>", "signature": "List<SupervisoryNode> searchTopLevelSupervisoryNodesByName(String param)", "full_signature": "public List<SupervisoryNode> searchTopLevelSupervisoryNodesByName(String param)", "class_method_signature": "SupervisoryNodeService.searchTopLevelSupervisoryNodesByName(String param)", "testcase": false, "constructor": false}, {"identifier": "getTotalUnassignedSupervisoryNodeOfUserBy", "parameters": "(Long userId, Long programId)", "modifiers": "public", "return": "Long", "signature": "Long getTotalUnassignedSupervisoryNodeOfUserBy(Long userId, Long programId)", "full_signature": "public Long getTotalUnassignedSupervisoryNodeOfUserBy(Long userId, Long programId)", "class_method_signature": "SupervisoryNodeService.getTotalUnassignedSupervisoryNodeOfUserBy(Long userId, Long programId)", "testcase": false, "constructor": false}], "file": "modules/core/src/main/java/org/openlmis/core/service/SupervisoryNodeService.java"}, "focal_method": {"identifier": "getSupervisoryNodesBy", "parameters": "(Integer page, String nameSearchCriteria, Boolean parent)", "modifiers": "public", "return": "List<SupervisoryNode>", "body": "public List<SupervisoryNode> getSupervisoryNodesBy(Integer page, String nameSearchCriteria, Boolean parent) {\n    if (parent) {\n      return supervisoryNodeRepository.getSupervisoryNodesByParent(getPagination(page), nameSearchCriteria);\n    }\n    return supervisoryNodeRepository.getSupervisoryNodesBy(getPagination(page), nameSearchCriteria);\n  }", "signature": "List<SupervisoryNode> getSupervisoryNodesBy(Integer page, String nameSearchCriteria, Boolean parent)", "full_signature": "public List<SupervisoryNode> getSupervisoryNodesBy(Integer page, String nameSearchCriteria, Boolean parent)", "class_method_signature": "SupervisoryNodeService.getSupervisoryNodesBy(Integer page, String nameSearchCriteria, Boolean parent)", "testcase": false, "constructor": false, "invocations": ["getSupervisoryNodesByParent", "getPagination", "getSupervisoryNodesBy", "getPagination"]}, "repository": {"repo_id": 6172406, "url": "https://github.com/OpenLMIS/open-lmis", "language": "Java", "is_fork": false, "fork_count": 54, "stargazer_count": 89, "size": 125128, "license": "licensed"}}