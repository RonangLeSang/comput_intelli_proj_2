{"test_class": {"identifier": "CopyStrategyHandlerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private ReadWriteCopyStrategy<Element> copyStrategy;", "modifier": "private", "type": "ReadWriteCopyStrategy<Element>", "declarator": "copyStrategy", "var_name": "copyStrategy"}, {"original_string": "private ClassLoader loader = getClass().getClassLoader();", "modifier": "private", "type": "ClassLoader", "declarator": "loader = getClass().getClassLoader()", "var_name": "loader"}], "file": "tags/ehcache-2.10.0-16-pipeline/ehcache-core/src/test/java/net/sf/ehcache/store/CopyStrategyHandlerTest.java"}, "test_case": {"identifier": "given_no_copy_when_copyElementForReadIfNeeded_with_null_then_returns_null", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void given_no_copy_when_copyElementForReadIfNeeded_with_null_then_returns_null() {\n        CopyStrategyHandler copyStrategyHandler = new CopyStrategyHandler(false, false, null, loader);\n        assertThat(copyStrategyHandler.copyElementForReadIfNeeded(null), nullValue());\n    }", "signature": "void given_no_copy_when_copyElementForReadIfNeeded_with_null_then_returns_null()", "full_signature": "@Test public void given_no_copy_when_copyElementForReadIfNeeded_with_null_then_returns_null()", "class_method_signature": "CopyStrategyHandlerTest.given_no_copy_when_copyElementForReadIfNeeded_with_null_then_returns_null()", "testcase": true, "constructor": false, "invocations": ["assertThat", "copyElementForReadIfNeeded", "nullValue"]}, "focal_class": {"identifier": "CopyStrategyHandler", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final boolean copyOnRead;", "modifier": "private final", "type": "boolean", "declarator": "copyOnRead", "var_name": "copyOnRead"}, {"original_string": "private final boolean copyOnWrite;", "modifier": "private final", "type": "boolean", "declarator": "copyOnWrite", "var_name": "copyOnWrite"}, {"original_string": "private final ReadWriteCopyStrategy<Element> copyStrategy;", "modifier": "private final", "type": "ReadWriteCopyStrategy<Element>", "declarator": "copyStrategy", "var_name": "copyStrategy"}, {"original_string": "private final ClassLoader loader;", "modifier": "private final", "type": "ClassLoader", "declarator": "loader", "var_name": "loader"}], "methods": [{"identifier": "CopyStrategyHandler", "parameters": "(boolean copyOnRead, boolean copyOnWrite, ReadWriteCopyStrategy<Element> copyStrategy, ClassLoader loader)", "modifiers": "public", "return": "", "signature": " CopyStrategyHandler(boolean copyOnRead, boolean copyOnWrite, ReadWriteCopyStrategy<Element> copyStrategy, ClassLoader loader)", "full_signature": "public  CopyStrategyHandler(boolean copyOnRead, boolean copyOnWrite, ReadWriteCopyStrategy<Element> copyStrategy, ClassLoader loader)", "class_method_signature": "CopyStrategyHandler.CopyStrategyHandler(boolean copyOnRead, boolean copyOnWrite, ReadWriteCopyStrategy<Element> copyStrategy, ClassLoader loader)", "testcase": false, "constructor": true}, {"identifier": "copyElementForReadIfNeeded", "parameters": "(Element element)", "modifiers": "public", "return": "Element", "signature": "Element copyElementForReadIfNeeded(Element element)", "full_signature": "public Element copyElementForReadIfNeeded(Element element)", "class_method_signature": "CopyStrategyHandler.copyElementForReadIfNeeded(Element element)", "testcase": false, "constructor": false}, {"identifier": "copyElementForWriteIfNeeded", "parameters": "(Element element)", "modifiers": "", "return": "Element", "signature": "Element copyElementForWriteIfNeeded(Element element)", "full_signature": " Element copyElementForWriteIfNeeded(Element element)", "class_method_signature": "CopyStrategyHandler.copyElementForWriteIfNeeded(Element element)", "testcase": false, "constructor": false}, {"identifier": "copyElementForRemovalIfNeeded", "parameters": "(Element element)", "modifiers": "", "return": "Element", "signature": "Element copyElementForRemovalIfNeeded(Element element)", "full_signature": " Element copyElementForRemovalIfNeeded(Element element)", "class_method_signature": "CopyStrategyHandler.copyElementForRemovalIfNeeded(Element element)", "testcase": false, "constructor": false}, {"identifier": "isCopyActive", "parameters": "()", "modifiers": "", "return": "boolean", "signature": "boolean isCopyActive()", "full_signature": " boolean isCopyActive()", "class_method_signature": "CopyStrategyHandler.isCopyActive()", "testcase": false, "constructor": false}], "file": "tags/ehcache-2.10.0-16-pipeline/ehcache-core/src/main/java/net/sf/ehcache/store/CopyStrategyHandler.java"}, "focal_method": {"identifier": "copyElementForReadIfNeeded", "parameters": "(Element element)", "modifiers": "public", "return": "Element", "body": "public Element copyElementForReadIfNeeded(Element element) {\n        if (element == null) {\n            return null;\n        }\n\n        if (copyOnRead && copyOnWrite) {\n            return copyStrategy.copyForRead(element, loader);\n        } else if (copyOnRead) {\n            return copyStrategy.copyForRead(copyStrategy.copyForWrite(element, loader), loader);\n        } else {\n            return element;\n        }\n    }", "signature": "Element copyElementForReadIfNeeded(Element element)", "full_signature": "public Element copyElementForReadIfNeeded(Element element)", "class_method_signature": "CopyStrategyHandler.copyElementForReadIfNeeded(Element element)", "testcase": false, "constructor": false, "invocations": ["copyForRead", "copyForRead", "copyForWrite"]}, "repository": {"repo_id": 10597460, "url": "https://github.com/svn2github/ehcache", "language": "Java", "is_fork": false, "fork_count": 25, "stargazer_count": 12, "size": 128373, "license": "licensed"}}