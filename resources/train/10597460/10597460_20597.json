{"test_class": {"identifier": "StatisticsTest", "superclass": "extends AbstractCacheTest", "interfaces": "", "fields": [{"original_string": "private static final Logger LOG = LoggerFactory.getLogger(StatisticsTest.class.getName());", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(StatisticsTest.class.getName())", "var_name": "LOG"}], "file": "branches/teck/ehcache-core/src/test/java/net/sf/ehcache/StatisticsTest.java"}, "test_case": {"identifier": "testClearStatistics", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testClearStatistics() throws InterruptedException {\n        // Set size so the second element overflows to disk.\n        Cache cache = new Cache(\"test\", 1, true, false, 5, 2);\n        manager.addCache(cache);\n\n        cache.setStatisticsEnabled(true);\n\n        cache.put(new Element(\"key1\", \"value1\"));\n        cache.put(new Element(\"key2\", \"value1\"));\n\n        // allow disk write thread to complete\n        Thread.sleep(100);\n\n        cache.get(\"key2\");\n        cache.get(\"key1\");\n\n        Statistics statistics = cache.getStatistics();\n        assertEquals(2, statistics.getCacheHits());\n        assertEquals(1, statistics.getOnDiskHits());\n        assertEquals(1, statistics.getInMemoryHits());\n        assertEquals(0, statistics.getCacheMisses());\n\n        // clear stats\n        statistics.clearStatistics();\n        statistics = cache.getStatistics();\n        assertEquals(0, statistics.getCacheHits());\n        assertEquals(0, statistics.getOnDiskHits());\n        assertEquals(0, statistics.getInMemoryHits());\n        assertEquals(0, statistics.getCacheMisses());\n    }", "signature": "void testClearStatistics()", "full_signature": "@Test public void testClearStatistics()", "class_method_signature": "StatisticsTest.testClearStatistics()", "testcase": true, "constructor": false, "invocations": ["addCache", "setStatisticsEnabled", "put", "put", "sleep", "get", "get", "getStatistics", "assertEquals", "getCacheHits", "assertEquals", "getOnDiskHits", "assertEquals", "getInMemoryHits", "assertEquals", "getCacheMisses", "clearStatistics", "getStatistics", "assertEquals", "getCacheHits", "assertEquals", "getOnDiskHits", "assertEquals", "getInMemoryHits", "assertEquals", "getCacheMisses"]}, "focal_class": {"identifier": "Statistics", "superclass": "", "interfaces": "implements Serializable", "fields": [{"original_string": "public static final int STATISTICS_ACCURACY_NONE = 0;", "modifier": "public static final", "type": "int", "declarator": "STATISTICS_ACCURACY_NONE = 0", "var_name": "STATISTICS_ACCURACY_NONE"}, {"original_string": "public static final int STATISTICS_ACCURACY_BEST_EFFORT = 1;", "modifier": "public static final", "type": "int", "declarator": "STATISTICS_ACCURACY_BEST_EFFORT = 1", "var_name": "STATISTICS_ACCURACY_BEST_EFFORT"}, {"original_string": "public static final int STATISTICS_ACCURACY_GUARANTEED = 2;", "modifier": "public static final", "type": "int", "declarator": "STATISTICS_ACCURACY_GUARANTEED = 2", "var_name": "STATISTICS_ACCURACY_GUARANTEED"}, {"original_string": "private static final long serialVersionUID = 3606940454221918725L;", "modifier": "private static final", "type": "long", "declarator": "serialVersionUID = 3606940454221918725L", "var_name": "serialVersionUID"}, {"original_string": "private transient Ehcache cache;", "modifier": "private transient", "type": "Ehcache", "declarator": "cache", "var_name": "cache"}, {"original_string": "private final String cacheName;", "modifier": "private final", "type": "String", "declarator": "cacheName", "var_name": "cacheName"}, {"original_string": "private final int statisticsAccuracy;", "modifier": "private final", "type": "int", "declarator": "statisticsAccuracy", "var_name": "statisticsAccuracy"}, {"original_string": "private final long cacheHits;", "modifier": "private final", "type": "long", "declarator": "cacheHits", "var_name": "cacheHits"}, {"original_string": "private final long onDiskHits;", "modifier": "private final", "type": "long", "declarator": "onDiskHits", "var_name": "onDiskHits"}, {"original_string": "private final long offHeapHits;", "modifier": "private final", "type": "long", "declarator": "offHeapHits", "var_name": "offHeapHits"}, {"original_string": "private final long inMemoryHits;", "modifier": "private final", "type": "long", "declarator": "inMemoryHits", "var_name": "inMemoryHits"}, {"original_string": "private final long misses;", "modifier": "private final", "type": "long", "declarator": "misses", "var_name": "misses"}, {"original_string": "private final long onDiskMisses;", "modifier": "private final", "type": "long", "declarator": "onDiskMisses", "var_name": "onDiskMisses"}, {"original_string": "private final long offHeapMisses;", "modifier": "private final", "type": "long", "declarator": "offHeapMisses", "var_name": "offHeapMisses"}, {"original_string": "private final long inMemoryMisses;", "modifier": "private final", "type": "long", "declarator": "inMemoryMisses", "var_name": "inMemoryMisses"}, {"original_string": "private final long size;", "modifier": "private final", "type": "long", "declarator": "size", "var_name": "size"}, {"original_string": "private final long memoryStoreSize;", "modifier": "private final", "type": "long", "declarator": "memoryStoreSize", "var_name": "memoryStoreSize"}, {"original_string": "private final long offHeapStoreSize;", "modifier": "private final", "type": "long", "declarator": "offHeapStoreSize", "var_name": "offHeapStoreSize"}, {"original_string": "private final long diskStoreSize;", "modifier": "private final", "type": "long", "declarator": "diskStoreSize", "var_name": "diskStoreSize"}, {"original_string": "private final float averageGetTime;", "modifier": "private final", "type": "float", "declarator": "averageGetTime", "var_name": "averageGetTime"}, {"original_string": "private final long evictionCount;", "modifier": "private final", "type": "long", "declarator": "evictionCount", "var_name": "evictionCount"}, {"original_string": "private final long searchesPerSecond;", "modifier": "private final", "type": "long", "declarator": "searchesPerSecond", "var_name": "searchesPerSecond"}, {"original_string": "private final long averageSearchTime;", "modifier": "private final", "type": "long", "declarator": "averageSearchTime", "var_name": "averageSearchTime"}, {"original_string": "private long writerQueueLength;", "modifier": "private", "type": "long", "declarator": "writerQueueLength", "var_name": "writerQueueLength"}], "methods": [{"identifier": "Statistics", "parameters": "(Ehcache cache, int statisticsAccuracy, long cacheHits, long onDiskHits, long offHeapHits,\n                      long inMemoryHits, long misses, long onDiskMisses, long offHeapMisses,\n                      long inMemoryMisses, long size, float averageGetTime, long evictionCount,\n                      long memoryStoreSize, long offHeapStoreSize, long diskStoreSize, long searchesPerSecond,\n                      long averageSearchTime, long writerQueueLength)", "modifiers": "public", "return": "", "signature": " Statistics(Ehcache cache, int statisticsAccuracy, long cacheHits, long onDiskHits, long offHeapHits,\n                      long inMemoryHits, long misses, long onDiskMisses, long offHeapMisses,\n                      long inMemoryMisses, long size, float averageGetTime, long evictionCount,\n                      long memoryStoreSize, long offHeapStoreSize, long diskStoreSize, long searchesPerSecond,\n                      long averageSearchTime, long writerQueueLength)", "full_signature": "public  Statistics(Ehcache cache, int statisticsAccuracy, long cacheHits, long onDiskHits, long offHeapHits,\n                      long inMemoryHits, long misses, long onDiskMisses, long offHeapMisses,\n                      long inMemoryMisses, long size, float averageGetTime, long evictionCount,\n                      long memoryStoreSize, long offHeapStoreSize, long diskStoreSize, long searchesPerSecond,\n                      long averageSearchTime, long writerQueueLength)", "class_method_signature": "Statistics.Statistics(Ehcache cache, int statisticsAccuracy, long cacheHits, long onDiskHits, long offHeapHits,\n                      long inMemoryHits, long misses, long onDiskMisses, long offHeapMisses,\n                      long inMemoryMisses, long size, float averageGetTime, long evictionCount,\n                      long memoryStoreSize, long offHeapStoreSize, long diskStoreSize, long searchesPerSecond,\n                      long averageSearchTime, long writerQueueLength)", "testcase": false, "constructor": true}, {"identifier": "clearStatistics", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void clearStatistics()", "full_signature": "public void clearStatistics()", "class_method_signature": "Statistics.clearStatistics()", "testcase": false, "constructor": false}, {"identifier": "getCacheHits", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getCacheHits()", "full_signature": "public long getCacheHits()", "class_method_signature": "Statistics.getCacheHits()", "testcase": false, "constructor": false}, {"identifier": "getInMemoryHits", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getInMemoryHits()", "full_signature": "public long getInMemoryHits()", "class_method_signature": "Statistics.getInMemoryHits()", "testcase": false, "constructor": false}, {"identifier": "getOffHeapHits", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getOffHeapHits()", "full_signature": "public long getOffHeapHits()", "class_method_signature": "Statistics.getOffHeapHits()", "testcase": false, "constructor": false}, {"identifier": "getOnDiskHits", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getOnDiskHits()", "full_signature": "public long getOnDiskHits()", "class_method_signature": "Statistics.getOnDiskHits()", "testcase": false, "constructor": false}, {"identifier": "getCacheMisses", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getCacheMisses()", "full_signature": "public long getCacheMisses()", "class_method_signature": "Statistics.getCacheMisses()", "testcase": false, "constructor": false}, {"identifier": "getInMemoryMisses", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getInMemoryMisses()", "full_signature": "public long getInMemoryMisses()", "class_method_signature": "Statistics.getInMemoryMisses()", "testcase": false, "constructor": false}, {"identifier": "getOffHeapMisses", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getOffHeapMisses()", "full_signature": "public long getOffHeapMisses()", "class_method_signature": "Statistics.getOffHeapMisses()", "testcase": false, "constructor": false}, {"identifier": "getOnDiskMisses", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getOnDiskMisses()", "full_signature": "public long getOnDiskMisses()", "class_method_signature": "Statistics.getOnDiskMisses()", "testcase": false, "constructor": false}, {"identifier": "getObjectCount", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getObjectCount()", "full_signature": "public long getObjectCount()", "class_method_signature": "Statistics.getObjectCount()", "testcase": false, "constructor": false}, {"identifier": "getMemoryStoreObjectCount", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getMemoryStoreObjectCount()", "full_signature": "public long getMemoryStoreObjectCount()", "class_method_signature": "Statistics.getMemoryStoreObjectCount()", "testcase": false, "constructor": false}, {"identifier": "getOffHeapStoreObjectCount", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getOffHeapStoreObjectCount()", "full_signature": "public long getOffHeapStoreObjectCount()", "class_method_signature": "Statistics.getOffHeapStoreObjectCount()", "testcase": false, "constructor": false}, {"identifier": "getDiskStoreObjectCount", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getDiskStoreObjectCount()", "full_signature": "public long getDiskStoreObjectCount()", "class_method_signature": "Statistics.getDiskStoreObjectCount()", "testcase": false, "constructor": false}, {"identifier": "getStatisticsAccuracy", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getStatisticsAccuracy()", "full_signature": "public int getStatisticsAccuracy()", "class_method_signature": "Statistics.getStatisticsAccuracy()", "testcase": false, "constructor": false}, {"identifier": "getStatisticsAccuracyDescription", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getStatisticsAccuracyDescription()", "full_signature": "public String getStatisticsAccuracyDescription()", "class_method_signature": "Statistics.getStatisticsAccuracyDescription()", "testcase": false, "constructor": false}, {"identifier": "getAssociatedCacheName", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getAssociatedCacheName()", "full_signature": "public String getAssociatedCacheName()", "class_method_signature": "Statistics.getAssociatedCacheName()", "testcase": false, "constructor": false}, {"identifier": "getAssociatedCache", "parameters": "()", "modifiers": "public", "return": "Ehcache", "signature": "Ehcache getAssociatedCache()", "full_signature": "public Ehcache getAssociatedCache()", "class_method_signature": "Statistics.getAssociatedCache()", "testcase": false, "constructor": false}, {"identifier": "toString", "parameters": "()", "modifiers": "@Override public final", "return": "String", "signature": "String toString()", "full_signature": "@Override public final String toString()", "class_method_signature": "Statistics.toString()", "testcase": false, "constructor": false}, {"identifier": "getAverageGetTime", "parameters": "()", "modifiers": "public", "return": "float", "signature": "float getAverageGetTime()", "full_signature": "public float getAverageGetTime()", "class_method_signature": "Statistics.getAverageGetTime()", "testcase": false, "constructor": false}, {"identifier": "getEvictionCount", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getEvictionCount()", "full_signature": "public long getEvictionCount()", "class_method_signature": "Statistics.getEvictionCount()", "testcase": false, "constructor": false}, {"identifier": "getAverageSearchTime", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getAverageSearchTime()", "full_signature": "public long getAverageSearchTime()", "class_method_signature": "Statistics.getAverageSearchTime()", "testcase": false, "constructor": false}, {"identifier": "getSearchesPerSecond", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getSearchesPerSecond()", "full_signature": "public long getSearchesPerSecond()", "class_method_signature": "Statistics.getSearchesPerSecond()", "testcase": false, "constructor": false}, {"identifier": "isValidStatisticsAccuracy", "parameters": "(int statisticsAccuracy)", "modifiers": "public static", "return": "boolean", "signature": "boolean isValidStatisticsAccuracy(int statisticsAccuracy)", "full_signature": "public static boolean isValidStatisticsAccuracy(int statisticsAccuracy)", "class_method_signature": "Statistics.isValidStatisticsAccuracy(int statisticsAccuracy)", "testcase": false, "constructor": false}, {"identifier": "getWriterQueueSize", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getWriterQueueSize()", "full_signature": "public long getWriterQueueSize()", "class_method_signature": "Statistics.getWriterQueueSize()", "testcase": false, "constructor": false}], "file": "branches/teck/ehcache-core/src/main/java/net/sf/ehcache/Statistics.java"}, "focal_method": {"identifier": "clearStatistics", "parameters": "()", "modifiers": "public", "return": "void", "body": "public void clearStatistics() {\n        if (cache == null) {\n            throw new IllegalStateException(\"This statistics object no longer references a Cache.\");\n        }\n        cache.clearStatistics();\n    }", "signature": "void clearStatistics()", "full_signature": "public void clearStatistics()", "class_method_signature": "Statistics.clearStatistics()", "testcase": false, "constructor": false, "invocations": ["clearStatistics"]}, "repository": {"repo_id": 10597460, "url": "https://github.com/svn2github/ehcache", "language": "Java", "is_fork": false, "fork_count": 25, "stargazer_count": 12, "size": 128373, "license": "licensed"}}