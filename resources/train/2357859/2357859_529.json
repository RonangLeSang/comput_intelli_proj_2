{"test_class": {"identifier": "DatastreamUtilTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final static String ENDPOINT_URL = \"services/api/\";", "modifier": "private final static", "type": "String", "declarator": "ENDPOINT_URL = \"services/api/\"", "var_name": "ENDPOINT_URL"}, {"original_string": "private final static String ORIGINAL_DS = ORIGINAL_FILE.getId() + \"|image/jpg|image|jpg|555||\";", "modifier": "private final static", "type": "String", "declarator": "ORIGINAL_DS = ORIGINAL_FILE.getId() + \"|image/jpg|image|jpg|555||\"", "var_name": "ORIGINAL_DS"}, {"original_string": "private final static String ORIGINAL_INDEXABLE = ORIGINAL_FILE.getId() + \"|application/pdf|doc.pdf|pdf|5555||\";", "modifier": "private final static", "type": "String", "declarator": "ORIGINAL_INDEXABLE = ORIGINAL_FILE.getId() + \"|application/pdf|doc.pdf|pdf|5555||\"", "var_name": "ORIGINAL_INDEXABLE"}, {"original_string": "private final static String FITS_DS = TECHNICAL_METADATA.getId() + \"|text/xml|fits.xml|xml|5555||\";", "modifier": "private final static", "type": "String", "declarator": "FITS_DS = TECHNICAL_METADATA.getId() + \"|text/xml|fits.xml|xml|5555||\"", "var_name": "FITS_DS"}, {"original_string": "private final static String THUMB_SMALL_DS = THUMBNAIL_SMALL.getId() + \"|image/png|small|png|3333||\";", "modifier": "private final static", "type": "String", "declarator": "THUMB_SMALL_DS = THUMBNAIL_SMALL.getId() + \"|image/png|small|png|3333||\"", "var_name": "THUMB_SMALL_DS"}], "file": "access-common/src/test/java/edu/unc/lib/dl/ui/util/DatastreamUtilTest.java"}, "test_case": {"identifier": "testGetOriginalFileUrl", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetOriginalFileUrl() {\n        PID pid = makePid();\n        BriefObjectMetadataBean mdObj = new BriefObjectMetadataBean();\n        mdObj.setId(pid.getId());\n        mdObj.setDatastream(asList(ORIGINAL_DS));\n\n        String url = DatastreamUtil.getOriginalFileUrl(mdObj);\n        assertEquals(\"content/\" + pid.getId(), url);\n    }", "signature": "void testGetOriginalFileUrl()", "full_signature": "@Test public void testGetOriginalFileUrl()", "class_method_signature": "DatastreamUtilTest.testGetOriginalFileUrl()", "testcase": true, "constructor": false, "invocations": ["makePid", "setId", "getId", "setDatastream", "asList", "getOriginalFileUrl", "assertEquals", "getId"]}, "focal_class": {"identifier": "DatastreamUtil", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static String datastreamEndpoint;", "modifier": "private static", "type": "String", "declarator": "datastreamEndpoint", "var_name": "datastreamEndpoint"}, {"original_string": "private static final List<String> INDEXABLE_EXTENSIONS = asList(\n            \"doc\", \"docx\", \"htm\", \"html\", \"pdf\", \"ppt\", \"pptx\", \"rtf\", \"txt\", \"xls\", \"xlsx\", \"xml\");", "modifier": "private static final", "type": "List<String>", "declarator": "INDEXABLE_EXTENSIONS = asList(\n            \"doc\", \"docx\", \"htm\", \"html\", \"pdf\", \"ppt\", \"pptx\", \"rtf\", \"txt\", \"xls\", \"xlsx\", \"xml\")", "var_name": "INDEXABLE_EXTENSIONS"}], "methods": [{"identifier": "DatastreamUtil", "parameters": "()", "modifiers": "private", "return": "", "signature": " DatastreamUtil()", "full_signature": "private  DatastreamUtil()", "class_method_signature": "DatastreamUtil.DatastreamUtil()", "testcase": false, "constructor": true}, {"identifier": "setDatastreamEndpoint", "parameters": "(String uri)", "modifiers": "public static", "return": "void", "signature": "void setDatastreamEndpoint(String uri)", "full_signature": "public static void setDatastreamEndpoint(String uri)", "class_method_signature": "DatastreamUtil.setDatastreamEndpoint(String uri)", "testcase": false, "constructor": false}, {"identifier": "getDatastreamUrl", "parameters": "(BriefObjectMetadata metadata, String datastreamName)", "modifiers": "public static", "return": "String", "signature": "String getDatastreamUrl(BriefObjectMetadata metadata, String datastreamName)", "full_signature": "public static String getDatastreamUrl(BriefObjectMetadata metadata, String datastreamName)", "class_method_signature": "DatastreamUtil.getDatastreamUrl(BriefObjectMetadata metadata, String datastreamName)", "testcase": false, "constructor": false}, {"identifier": "getOriginalFileUrl", "parameters": "(BriefObjectMetadata metadata)", "modifiers": "public static", "return": "String", "signature": "String getOriginalFileUrl(BriefObjectMetadata metadata)", "full_signature": "public static String getOriginalFileUrl(BriefObjectMetadata metadata)", "class_method_signature": "DatastreamUtil.getOriginalFileUrl(BriefObjectMetadata metadata)", "testcase": false, "constructor": false}, {"identifier": "getPreferredDatastream", "parameters": "(BriefObjectMetadata metadata, String datastreamName)", "modifiers": "public static", "return": "Datastream", "signature": "Datastream getPreferredDatastream(BriefObjectMetadata metadata, String datastreamName)", "full_signature": "public static Datastream getPreferredDatastream(BriefObjectMetadata metadata, String datastreamName)", "class_method_signature": "DatastreamUtil.getPreferredDatastream(BriefObjectMetadata metadata, String datastreamName)", "testcase": false, "constructor": false}, {"identifier": "getThumbnailUrl", "parameters": "(BriefObjectMetadata metadata, String size)", "modifiers": "public static", "return": "String", "signature": "String getThumbnailUrl(BriefObjectMetadata metadata, String size)", "full_signature": "public static String getThumbnailUrl(BriefObjectMetadata metadata, String size)", "class_method_signature": "DatastreamUtil.getThumbnailUrl(BriefObjectMetadata metadata, String size)", "testcase": false, "constructor": false}], "file": "access-common/src/main/java/edu/unc/lib/dl/ui/util/DatastreamUtil.java"}, "focal_method": {"identifier": "getOriginalFileUrl", "parameters": "(BriefObjectMetadata metadata)", "modifiers": "public static", "return": "String", "body": "public static String getOriginalFileUrl(BriefObjectMetadata metadata) {\n        return getDatastreamUrl(metadata, ORIGINAL_FILE.getId());\n    }", "signature": "String getOriginalFileUrl(BriefObjectMetadata metadata)", "full_signature": "public static String getOriginalFileUrl(BriefObjectMetadata metadata)", "class_method_signature": "DatastreamUtil.getOriginalFileUrl(BriefObjectMetadata metadata)", "testcase": false, "constructor": false, "invocations": ["getDatastreamUrl", "getId"]}, "repository": {"repo_id": 2357859, "url": "https://github.com/UNC-Libraries/Carolina-Digital-Repository", "stars": 10, "created": "9/9/2011 8:22:21 PM +00:00", "updates": "2020-01-24T19:34:45+00:00", "fork": "False", "license": "licensed"}}