{"test_class": {"identifier": "PrincipalClassifierTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String STAFF_PRINC = \"staff\";", "modifier": "private static final", "type": "String", "declarator": "STAFF_PRINC = \"staff\"", "var_name": "STAFF_PRINC"}], "file": "security/src/test/java/edu/unc/lib/dl/acl/util/PrincipalClassifierTest.java"}, "test_case": {"identifier": "classifyPrincipalsTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void classifyPrincipalsTest() {\n        Set<String> principals = new HashSet<>(Arrays.asList(PUBLIC_PRINC,\n                AUTHENTICATED_PRINC, STAFF_PRINC));\n\n        Set<String> patronPrincipals = new HashSet<>();\n        Set<String> staffPrincipals = new HashSet<>();\n        classifyPrincipals(principals, patronPrincipals, staffPrincipals);\n\n        assertEquals(2, patronPrincipals.size());\n        assertTrue(patronPrincipals.contains(PUBLIC_PRINC));\n        assertTrue(patronPrincipals.contains(AUTHENTICATED_PRINC));\n\n        assertEquals(1, staffPrincipals.size());\n        assertTrue(staffPrincipals.contains(STAFF_PRINC));\n    }", "signature": "void classifyPrincipalsTest()", "full_signature": "@Test public void classifyPrincipalsTest()", "class_method_signature": "PrincipalClassifierTest.classifyPrincipalsTest()", "testcase": true, "constructor": false, "invocations": ["asList", "classifyPrincipals", "assertEquals", "size", "assertTrue", "contains", "assertTrue", "contains", "assertEquals", "size", "assertTrue", "contains"]}, "focal_class": {"identifier": "PrincipalClassifier", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Pattern PATRON_PRINC_PATTERN\n            = Pattern.compile(\"(everyone|authenticated)\");", "modifier": "private static final", "type": "Pattern", "declarator": "PATRON_PRINC_PATTERN\n            = Pattern.compile(\"(everyone|authenticated)\")", "var_name": "PATRON_PRINC_PATTERN"}], "methods": [{"identifier": "PrincipalClassifier", "parameters": "()", "modifiers": "private", "return": "", "signature": " PrincipalClassifier()", "full_signature": "private  PrincipalClassifier()", "class_method_signature": "PrincipalClassifier.PrincipalClassifier()", "testcase": false, "constructor": true}, {"identifier": "isPatronPrincipal", "parameters": "(String principal)", "modifiers": "public static", "return": "boolean", "signature": "boolean isPatronPrincipal(String principal)", "full_signature": "public static boolean isPatronPrincipal(String principal)", "class_method_signature": "PrincipalClassifier.isPatronPrincipal(String principal)", "testcase": false, "constructor": false}, {"identifier": "classifyPrincipals", "parameters": "(Set<String> principals, Set<String> patronPrincipals,\n            Set<String> staffPrincipals)", "modifiers": "public static", "return": "void", "signature": "void classifyPrincipals(Set<String> principals, Set<String> patronPrincipals,\n            Set<String> staffPrincipals)", "full_signature": "public static void classifyPrincipals(Set<String> principals, Set<String> patronPrincipals,\n            Set<String> staffPrincipals)", "class_method_signature": "PrincipalClassifier.classifyPrincipals(Set<String> principals, Set<String> patronPrincipals,\n            Set<String> staffPrincipals)", "testcase": false, "constructor": false}, {"identifier": "getPatronPrincipals", "parameters": "(Set<String> principals)", "modifiers": "public static", "return": "Set<String>", "signature": "Set<String> getPatronPrincipals(Set<String> principals)", "full_signature": "public static Set<String> getPatronPrincipals(Set<String> principals)", "class_method_signature": "PrincipalClassifier.getPatronPrincipals(Set<String> principals)", "testcase": false, "constructor": false}], "file": "security/src/main/java/edu/unc/lib/dl/acl/util/PrincipalClassifier.java"}, "focal_method": {"identifier": "classifyPrincipals", "parameters": "(Set<String> principals, Set<String> patronPrincipals,\n            Set<String> staffPrincipals)", "modifiers": "public static", "return": "void", "body": "public static void classifyPrincipals(Set<String> principals, Set<String> patronPrincipals,\n            Set<String> staffPrincipals) {\n        principals.forEach(agent -> {\n            if (PATRON_PRINC_PATTERN.matcher(agent).matches()) {\n                patronPrincipals.add(agent);\n            } else {\n                staffPrincipals.add(agent);\n            }\n        });\n    }", "signature": "void classifyPrincipals(Set<String> principals, Set<String> patronPrincipals,\n            Set<String> staffPrincipals)", "full_signature": "public static void classifyPrincipals(Set<String> principals, Set<String> patronPrincipals,\n            Set<String> staffPrincipals)", "class_method_signature": "PrincipalClassifier.classifyPrincipals(Set<String> principals, Set<String> patronPrincipals,\n            Set<String> staffPrincipals)", "testcase": false, "constructor": false, "invocations": ["forEach", "matches", "matcher", "add", "add"]}, "repository": {"repo_id": 2357859, "url": "https://github.com/UNC-Libraries/Carolina-Digital-Repository", "stars": 10, "created": "9/9/2011 8:22:21 PM +00:00", "updates": "2020-01-24T19:34:45+00:00", "fork": "False", "license": "licensed"}}