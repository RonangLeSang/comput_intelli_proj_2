{"test_class": {"identifier": "CanonicalizeArticleTitleTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private TupleFactory tupleFactory = TupleFactory.getInstance();", "modifier": "private", "type": "TupleFactory", "declarator": "tupleFactory = TupleFactory.getInstance()", "var_name": "tupleFactory"}, {"original_string": "private Tuple input;", "modifier": "private", "type": "Tuple", "declarator": "input", "var_name": "input"}, {"original_string": "private Tuple output;", "modifier": "private", "type": "Tuple", "declarator": "output", "var_name": "output"}, {"original_string": "private CanonicalizeArticleTitle canonicalizeArticleTitle = new CanonicalizeArticleTitle();", "modifier": "private", "type": "CanonicalizeArticleTitle", "declarator": "canonicalizeArticleTitle = new CanonicalizeArticleTitle()", "var_name": "canonicalizeArticleTitle"}], "file": "kraken-pig/src/test/java/org/wikimedia/analytics/kraken/pig/CanonicalizeArticleTitleTest.java"}, "test_case": {"identifier": "testIndexPhpTitle", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testIndexPhpTitle() throws IOException {\n        input = tupleFactory.newTuple(1);\n        input.set(0, \"http://en.wikipedia.org/w/index.php?title=Wikipedia:Village_pump_(technical)\");\n        output = tupleFactory.newTuple(1);\n        output = canonicalizeArticleTitle.exec(input);\n        assertEquals(\"Wikipedia:Village_pump_(technical)\", output.get(0));\n    }", "signature": "void testIndexPhpTitle()", "full_signature": "@Test public void testIndexPhpTitle()", "class_method_signature": "CanonicalizeArticleTitleTest.testIndexPhpTitle()", "testcase": true, "constructor": false, "invocations": ["newTuple", "set", "newTuple", "exec", "assertEquals", "get"]}, "focal_class": {"identifier": "CanonicalizeArticleTitle", "superclass": "extends EvalFunc<Tuple>", "interfaces": "", "fields": [{"original_string": "private TupleFactory tupleFactory = TupleFactory.getInstance();", "modifier": "private", "type": "TupleFactory", "declarator": "tupleFactory = TupleFactory.getInstance()", "var_name": "tupleFactory"}, {"original_string": "private Tuple output;", "modifier": "private", "type": "Tuple", "declarator": "output", "var_name": "output"}, {"original_string": "private URL url;", "modifier": "private", "type": "URL", "declarator": "url", "var_name": "url"}, {"original_string": "private PageviewCanonical pageviewCanonical;", "modifier": "private", "type": "PageviewCanonical", "declarator": "pageviewCanonical", "var_name": "pageviewCanonical"}, {"original_string": "private String mode;", "modifier": "private", "type": "String", "declarator": "mode", "var_name": "mode"}], "methods": [{"identifier": "CanonicalizeArticleTitle", "parameters": "()", "modifiers": "public", "return": "", "signature": " CanonicalizeArticleTitle()", "full_signature": "public  CanonicalizeArticleTitle()", "class_method_signature": "CanonicalizeArticleTitle.CanonicalizeArticleTitle()", "testcase": false, "constructor": true}, {"identifier": "CanonicalizeArticleTitle", "parameters": "(String mode)", "modifiers": "public", "return": "", "signature": " CanonicalizeArticleTitle(String mode)", "full_signature": "public  CanonicalizeArticleTitle(String mode)", "class_method_signature": "CanonicalizeArticleTitle.CanonicalizeArticleTitle(String mode)", "testcase": false, "constructor": true}, {"identifier": "exec", "parameters": "(final Tuple input)", "modifiers": "@Override public", "return": "Tuple", "signature": "Tuple exec(final Tuple input)", "full_signature": "@Override public Tuple exec(final Tuple input)", "class_method_signature": "CanonicalizeArticleTitle.exec(final Tuple input)", "testcase": false, "constructor": false}], "file": "kraken-pig/src/main/java/org/wikimedia/analytics/kraken/pig/CanonicalizeArticleTitle.java"}, "focal_method": {"identifier": "exec", "parameters": "(final Tuple input)", "modifiers": "@Override public", "return": "Tuple", "body": "@Override\n    public Tuple exec(final Tuple input) throws IOException {\n        if (input == null || input.get(0) == null) {\n            return null;\n        }\n\n        output = tupleFactory.newTuple(3);\n        ProjectInfo projectInfo;\n        try {\n            url = new URL((String) input.get(0));\n            pageviewCanonical = new PageviewCanonical(url);\n            pageviewCanonical.canonicalize(mode);\n            projectInfo = new ProjectInfo(url.getHost());\n\n        } catch (MalformedURLException e) {\n            return null;\n        }\n        output.set(0, pageviewCanonical.getArticleTitle());\n        output.set(1, projectInfo.getLanguage());\n        output.set(2, projectInfo.getProjectDomain());\n        return output;\n    }", "signature": "Tuple exec(final Tuple input)", "full_signature": "@Override public Tuple exec(final Tuple input)", "class_method_signature": "CanonicalizeArticleTitle.exec(final Tuple input)", "testcase": false, "constructor": false, "invocations": ["get", "newTuple", "get", "canonicalize", "getHost", "set", "getArticleTitle", "set", "getLanguage", "set", "getProjectDomain"]}, "repository": {"repo_id": 7826526, "url": "https://github.com/wikimedia/kraken", "language": "Java", "is_fork": false, "fork_count": 10, "stargazer_count": 19, "size": 7151, "license": "licensed"}}