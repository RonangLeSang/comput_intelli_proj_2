{"test_class": {"identifier": "ZeroFilterFuncTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private TupleFactory tupleFactory = TupleFactory.getInstance();", "modifier": "private", "type": "TupleFactory", "declarator": "tupleFactory = TupleFactory.getInstance()", "var_name": "tupleFactory"}], "file": "kraken-pig/src/test/java/org/wikimedia/analytics/kraken/pig/ZeroFilterFuncTest.java"}, "test_case": {"identifier": "testCountEitherMobileOrZeroDomainZero", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testCountEitherMobileOrZeroDomainZero() throws IOException {\n        Tuple input = tupleFactory.newTuple(2);\n        input.set(0, \"http://en.zero.wikipedia.org/wiki/James_Ingram\");\n        input.set(1, \"zero-saudi-telecom.tab\");\n        ZeroFilterFunc zero = new ZeroFilterFunc(\"legacy\");\n        assertTrue(zero.exec(input));\n    }", "signature": "void testCountEitherMobileOrZeroDomainZero()", "full_signature": "@Test public void testCountEitherMobileOrZeroDomainZero()", "class_method_signature": "ZeroFilterFuncTest.testCountEitherMobileOrZeroDomainZero()", "testcase": true, "constructor": false, "invocations": ["newTuple", "set", "set", "assertTrue", "exec"]}, "focal_class": {"identifier": "ZeroFilterFunc", "superclass": "extends FilterFunc", "interfaces": "", "fields": [{"original_string": "private String mode = null;", "modifier": "private", "type": "String", "declarator": "mode = null", "var_name": "mode"}, {"original_string": "private String xCS = null;", "modifier": "private", "type": "String", "declarator": "xCS = null", "var_name": "xCS"}, {"original_string": "private HashMap<String, ZeroConfig> config;", "modifier": "private", "type": "HashMap<String, ZeroConfig>", "declarator": "config", "var_name": "config"}, {"original_string": "private HashMap<String, String> xCSCarrierMap;", "modifier": "private", "type": "HashMap<String, String>", "declarator": "xCSCarrierMap", "var_name": "xCSCarrierMap"}], "methods": [{"identifier": "ZeroFilterFunc", "parameters": "()", "modifiers": "public", "return": "", "signature": " ZeroFilterFunc()", "full_signature": "public  ZeroFilterFunc()", "class_method_signature": "ZeroFilterFunc.ZeroFilterFunc()", "testcase": false, "constructor": true}, {"identifier": "ZeroFilterFunc", "parameters": "(final String mode)", "modifiers": "public", "return": "", "signature": " ZeroFilterFunc(final String mode)", "full_signature": "public  ZeroFilterFunc(final String mode)", "class_method_signature": "ZeroFilterFunc.ZeroFilterFunc(final String mode)", "testcase": false, "constructor": true}, {"identifier": "exec", "parameters": "(final Tuple input)", "modifiers": "public final", "return": "Boolean", "signature": "Boolean exec(final Tuple input)", "full_signature": "public final Boolean exec(final Tuple input)", "class_method_signature": "ZeroFilterFunc.exec(final Tuple input)", "testcase": false, "constructor": false}, {"identifier": "outputSchema", "parameters": "(final Schema input)", "modifiers": "public final", "return": "Schema", "signature": "Schema outputSchema(final Schema input)", "full_signature": "public final Schema outputSchema(final Schema input)", "class_method_signature": "ZeroFilterFunc.outputSchema(final Schema input)", "testcase": false, "constructor": false}, {"identifier": "containsXcsValue", "parameters": "(final String rawString)", "modifiers": "private", "return": "boolean", "signature": "boolean containsXcsValue(final String rawString)", "full_signature": "private boolean containsXcsValue(final String rawString)", "class_method_signature": "ZeroFilterFunc.containsXcsValue(final String rawString)", "testcase": false, "constructor": false}, {"identifier": "isValidZeroRequest", "parameters": "(final String requestedURL, final ZeroConfig zeroConfig)", "modifiers": "private", "return": "boolean", "signature": "boolean isValidZeroRequest(final String requestedURL, final ZeroConfig zeroConfig)", "full_signature": "private boolean isValidZeroRequest(final String requestedURL, final ZeroConfig zeroConfig)", "class_method_signature": "ZeroFilterFunc.isValidZeroRequest(final String requestedURL, final ZeroConfig zeroConfig)", "testcase": false, "constructor": false}, {"identifier": "hasValidSubDomain", "parameters": "(final URL url, final ZeroConfig zeroConfig)", "modifiers": "private", "return": "boolean", "signature": "boolean hasValidSubDomain(final URL url, final ZeroConfig zeroConfig)", "full_signature": "private boolean hasValidSubDomain(final URL url, final ZeroConfig zeroConfig)", "class_method_signature": "ZeroFilterFunc.hasValidSubDomain(final URL url, final ZeroConfig zeroConfig)", "testcase": false, "constructor": false}, {"identifier": "hasValidLanguage", "parameters": "(final URL url, final ZeroConfig zeroConfig)", "modifiers": "private", "return": "boolean", "signature": "boolean hasValidLanguage(final URL url, final ZeroConfig zeroConfig)", "full_signature": "private boolean hasValidLanguage(final URL url, final ZeroConfig zeroConfig)", "class_method_signature": "ZeroFilterFunc.hasValidLanguage(final URL url, final ZeroConfig zeroConfig)", "testcase": false, "constructor": false}, {"identifier": "getMode", "parameters": "()", "modifiers": "public final", "return": "String", "signature": "String getMode()", "full_signature": "public final String getMode()", "class_method_signature": "ZeroFilterFunc.getMode()", "testcase": false, "constructor": false}, {"identifier": "createStartDate", "parameters": "(final int year, final int month, final int day)", "modifiers": "private", "return": "Calendar", "signature": "Calendar createStartDate(final int year, final int month, final int day)", "full_signature": "private Calendar createStartDate(final int year, final int month, final int day)", "class_method_signature": "ZeroFilterFunc.createStartDate(final int year, final int month, final int day)", "testcase": false, "constructor": false}, {"identifier": "simplifyFilename", "parameters": "(final String filename)", "modifiers": "private", "return": "String", "signature": "String simplifyFilename(final String filename)", "full_signature": "private String simplifyFilename(final String filename)", "class_method_signature": "ZeroFilterFunc.simplifyFilename(final String filename)", "testcase": false, "constructor": false}, {"identifier": "getZeroConfig", "parameters": "(final String key)", "modifiers": "public final", "return": "ZeroConfig", "signature": "ZeroConfig getZeroConfig(final String key)", "full_signature": "public final ZeroConfig getZeroConfig(final String key)", "class_method_signature": "ZeroFilterFunc.getZeroConfig(final String key)", "testcase": false, "constructor": false}], "file": "kraken-pig/src/main/java/org/wikimedia/analytics/kraken/pig/ZeroFilterFunc.java"}, "focal_method": {"identifier": "exec", "parameters": "(final Tuple input)", "modifiers": "public final", "return": "Boolean", "body": "public final Boolean exec(final Tuple input) throws ExecException {\n        if (input == null || input.get(0) == null) {\n            return false;\n        }\n\n        if (mode.equals(\"default\")) {\n            String xCS = (String) input.get(1);\n            if (containsXcsValue(xCS)) {\n                String carrierName = xCSCarrierMap.get(this.xCS);\n                ZeroConfig zeroConfig = carrierName != null ? getZeroConfig(carrierName) : getZeroConfig(\"default\");\n                return isValidZeroRequest((String) input.get(0), zeroConfig);\n            } else {\n                return false;\n            }\n        } else {\n            String simpleFilename = simplifyFilename((String) input.get(1));\n            ZeroConfig zeroConfig = getZeroConfig(simpleFilename);\n            return isValidZeroRequest((String) input.get(0), zeroConfig);\n        }\n    }", "signature": "Boolean exec(final Tuple input)", "full_signature": "public final Boolean exec(final Tuple input)", "class_method_signature": "ZeroFilterFunc.exec(final Tuple input)", "testcase": false, "constructor": false, "invocations": ["get", "equals", "get", "containsXcsValue", "get", "getZeroConfig", "getZeroConfig", "isValidZeroRequest", "get", "simplifyFilename", "get", "getZeroConfig", "isValidZeroRequest", "get"]}, "repository": {"repo_id": 7826526, "url": "https://github.com/wikimedia/kraken", "language": "Java", "is_fork": false, "fork_count": 10, "stargazer_count": 19, "size": 7151, "license": "licensed"}}