{"test_class": {"identifier": "RestServiceImplTest", "superclass": "extends BaseContextMockTest", "interfaces": "", "fields": [{"original_string": "@Mock\n\tRestHelperService restHelperService;", "modifier": "@Mock", "type": "RestHelperService", "declarator": "restHelperService", "var_name": "restHelperService"}, {"original_string": "@Mock\n\tOpenmrsClassScanner openmrsClassScanner;", "modifier": "@Mock", "type": "OpenmrsClassScanner", "declarator": "openmrsClassScanner", "var_name": "openmrsClassScanner"}, {"original_string": "@InjectMocks\n\tRestService restService = new RestServiceImpl();", "modifier": "@InjectMocks", "type": "RestService", "declarator": "restService = new RestServiceImpl()", "var_name": "restService"}, {"original_string": "@Rule\n\tpublic ExpectedException expectedException = ExpectedException.none();", "modifier": "@Rule\n\tpublic", "type": "ExpectedException", "declarator": "expectedException = ExpectedException.none()", "var_name": "expectedException"}], "file": "omod-common/src/test/java/org/openmrs/module/webservices/rest/web/api/impl/RestServiceImplTest.java"}, "test_case": {"identifier": "getRepresentation_shouldReturnAnInstanceOfCustomRepresentationIfGivenStringStartsWithTheCustomRepresentationPrefix", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void getRepresentation_shouldReturnAnInstanceOfCustomRepresentationIfGivenStringStartsWithTheCustomRepresentationPrefix()\n\t        throws Exception {\n\t\t\n\t\tRestUtil.disableContext(); //to avoid a Context call\n\t\tRepresentation representation = restService.getRepresentation(\"custom:datatableslist\");\n\t\tassertThat(representation, instanceOf(CustomRepresentation.class));\n\t\tassertThat(representation.getRepresentation(), is(\"datatableslist\"));\n\t}", "signature": "void getRepresentation_shouldReturnAnInstanceOfCustomRepresentationIfGivenStringStartsWithTheCustomRepresentationPrefix()", "full_signature": "@Test public void getRepresentation_shouldReturnAnInstanceOfCustomRepresentationIfGivenStringStartsWithTheCustomRepresentationPrefix()", "class_method_signature": "RestServiceImplTest.getRepresentation_shouldReturnAnInstanceOfCustomRepresentationIfGivenStringStartsWithTheCustomRepresentationPrefix()", "testcase": true, "constructor": false, "invocations": ["disableContext", "getRepresentation", "assertThat", "instanceOf", "assertThat", "getRepresentation", "is"]}, "focal_class": {"identifier": "RestServiceImpl", "superclass": "", "interfaces": "implements RestService", "fields": [{"original_string": "volatile Map<String, ResourceDefinition> resourceDefinitionsByNames;", "modifier": "volatile", "type": "Map<String, ResourceDefinition>", "declarator": "resourceDefinitionsByNames", "var_name": "resourceDefinitionsByNames"}, {"original_string": "volatile Map<Class<?>, Resource> resourcesBySupportedClasses;", "modifier": "volatile", "type": "Map<Class<?>, Resource>", "declarator": "resourcesBySupportedClasses", "var_name": "resourcesBySupportedClasses"}, {"original_string": "private volatile Map<CompositeSearchHandlerKeyValue, Set<SearchHandler>> searchHandlersByParameter;", "modifier": "private volatile", "type": "Map<CompositeSearchHandlerKeyValue, Set<SearchHandler>>", "declarator": "searchHandlersByParameter", "var_name": "searchHandlersByParameter"}, {"original_string": "private volatile Map<CompositeSearchHandlerKeyValue, SearchHandler> searchHandlersByIds;", "modifier": "private volatile", "type": "Map<CompositeSearchHandlerKeyValue, SearchHandler>", "declarator": "searchHandlersByIds", "var_name": "searchHandlersByIds"}, {"original_string": "private volatile Map<String, Set<SearchHandler>> searchHandlersByResource;", "modifier": "private volatile", "type": "Map<String, Set<SearchHandler>>", "declarator": "searchHandlersByResource", "var_name": "searchHandlersByResource"}, {"original_string": "private volatile List<SearchHandler> allSearchHandlers;", "modifier": "private volatile", "type": "List<SearchHandler>", "declarator": "allSearchHandlers", "var_name": "allSearchHandlers"}, {"original_string": "private RestHelperService restHelperService;", "modifier": "private", "type": "RestHelperService", "declarator": "restHelperService", "var_name": "restHelperService"}, {"original_string": "private OpenmrsClassScanner openmrsClassScanner;", "modifier": "private", "type": "OpenmrsClassScanner", "declarator": "openmrsClassScanner", "var_name": "openmrsClassScanner"}], "methods": [{"identifier": "getRestHelperService", "parameters": "()", "modifiers": "public", "return": "RestHelperService", "signature": "RestHelperService getRestHelperService()", "full_signature": "public RestHelperService getRestHelperService()", "class_method_signature": "RestServiceImpl.getRestHelperService()", "testcase": false, "constructor": false}, {"identifier": "setRestHelperService", "parameters": "(RestHelperService restHelperService)", "modifiers": "public", "return": "void", "signature": "void setRestHelperService(RestHelperService restHelperService)", "full_signature": "public void setRestHelperService(RestHelperService restHelperService)", "class_method_signature": "RestServiceImpl.setRestHelperService(RestHelperService restHelperService)", "testcase": false, "constructor": false}, {"identifier": "getOpenmrsClassScanner", "parameters": "()", "modifiers": "public", "return": "OpenmrsClassScanner", "signature": "OpenmrsClassScanner getOpenmrsClassScanner()", "full_signature": "public OpenmrsClassScanner getOpenmrsClassScanner()", "class_method_signature": "RestServiceImpl.getOpenmrsClassScanner()", "testcase": false, "constructor": false}, {"identifier": "setOpenmrsClassScanner", "parameters": "(OpenmrsClassScanner openmrsClassScanner)", "modifiers": "public", "return": "void", "signature": "void setOpenmrsClassScanner(OpenmrsClassScanner openmrsClassScanner)", "full_signature": "public void setOpenmrsClassScanner(OpenmrsClassScanner openmrsClassScanner)", "class_method_signature": "RestServiceImpl.setOpenmrsClassScanner(OpenmrsClassScanner openmrsClassScanner)", "testcase": false, "constructor": false}, {"identifier": "RestServiceImpl", "parameters": "()", "modifiers": "public", "return": "", "signature": " RestServiceImpl()", "full_signature": "public  RestServiceImpl()", "class_method_signature": "RestServiceImpl.RestServiceImpl()", "testcase": false, "constructor": true}, {"identifier": "initializeResources", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void initializeResources()", "full_signature": "private void initializeResources()", "class_method_signature": "RestServiceImpl.initializeResources()", "testcase": false, "constructor": false}, {"identifier": "isResourceToBeAdded", "parameters": "(ResourceMetadata resourceMetadata, ResourceDefinition existingResourceDefinition)", "modifiers": "private", "return": "boolean", "signature": "boolean isResourceToBeAdded(ResourceMetadata resourceMetadata, ResourceDefinition existingResourceDefinition)", "full_signature": "private boolean isResourceToBeAdded(ResourceMetadata resourceMetadata, ResourceDefinition existingResourceDefinition)", "class_method_signature": "RestServiceImpl.isResourceToBeAdded(ResourceMetadata resourceMetadata, ResourceDefinition existingResourceDefinition)", "testcase": false, "constructor": false}, {"identifier": "getResourceMetadata", "parameters": "(Class<? extends Resource> resource)", "modifiers": "private", "return": "ResourceMetadata", "signature": "ResourceMetadata getResourceMetadata(Class<? extends Resource> resource)", "full_signature": "private ResourceMetadata getResourceMetadata(Class<? extends Resource> resource)", "class_method_signature": "RestServiceImpl.getResourceMetadata(Class<? extends Resource> resource)", "testcase": false, "constructor": false}, {"identifier": "isOpenmrsVersionInVersions", "parameters": "(String[] versions)", "modifiers": "private", "return": "boolean", "signature": "boolean isOpenmrsVersionInVersions(String[] versions)", "full_signature": "private boolean isOpenmrsVersionInVersions(String[] versions)", "class_method_signature": "RestServiceImpl.isOpenmrsVersionInVersions(String[] versions)", "testcase": false, "constructor": false}, {"identifier": "initializeSearchHandlers", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void initializeSearchHandlers()", "full_signature": "private void initializeSearchHandlers()", "class_method_signature": "RestServiceImpl.initializeSearchHandlers()", "testcase": false, "constructor": false}, {"identifier": "addSearchHandler", "parameters": "(Map<CompositeSearchHandlerKeyValue, SearchHandler> tempSearchHandlersByIds,\n\t        Map<CompositeSearchHandlerKeyValue, Set<SearchHandler>> tempSearchHandlersByParameters,\n\t        Map<String, Set<SearchHandler>> tempSearchHandlersByResource, SearchHandler searchHandler)", "modifiers": "private", "return": "void", "signature": "void addSearchHandler(Map<CompositeSearchHandlerKeyValue, SearchHandler> tempSearchHandlersByIds,\n\t        Map<CompositeSearchHandlerKeyValue, Set<SearchHandler>> tempSearchHandlersByParameters,\n\t        Map<String, Set<SearchHandler>> tempSearchHandlersByResource, SearchHandler searchHandler)", "full_signature": "private void addSearchHandler(Map<CompositeSearchHandlerKeyValue, SearchHandler> tempSearchHandlersByIds,\n\t        Map<CompositeSearchHandlerKeyValue, Set<SearchHandler>> tempSearchHandlersByParameters,\n\t        Map<String, Set<SearchHandler>> tempSearchHandlersByResource, SearchHandler searchHandler)", "class_method_signature": "RestServiceImpl.addSearchHandler(Map<CompositeSearchHandlerKeyValue, SearchHandler> tempSearchHandlersByIds,\n\t        Map<CompositeSearchHandlerKeyValue, Set<SearchHandler>> tempSearchHandlersByParameters,\n\t        Map<String, Set<SearchHandler>> tempSearchHandlersByResource, SearchHandler searchHandler)", "testcase": false, "constructor": false}, {"identifier": "addSupportedSearchHandler", "parameters": "(Map<CompositeSearchHandlerKeyValue, SearchHandler> tempSearchHandlersByIds,\n\t        Map<CompositeSearchHandlerKeyValue, Set<SearchHandler>> tempSearchHandlersByParameters,\n\t        SearchHandler searchHandler)", "modifiers": "private", "return": "void", "signature": "void addSupportedSearchHandler(Map<CompositeSearchHandlerKeyValue, SearchHandler> tempSearchHandlersByIds,\n\t        Map<CompositeSearchHandlerKeyValue, Set<SearchHandler>> tempSearchHandlersByParameters,\n\t        SearchHandler searchHandler)", "full_signature": "private void addSupportedSearchHandler(Map<CompositeSearchHandlerKeyValue, SearchHandler> tempSearchHandlersByIds,\n\t        Map<CompositeSearchHandlerKeyValue, Set<SearchHandler>> tempSearchHandlersByParameters,\n\t        SearchHandler searchHandler)", "class_method_signature": "RestServiceImpl.addSupportedSearchHandler(Map<CompositeSearchHandlerKeyValue, SearchHandler> tempSearchHandlersByIds,\n\t        Map<CompositeSearchHandlerKeyValue, Set<SearchHandler>> tempSearchHandlersByParameters,\n\t        SearchHandler searchHandler)", "testcase": false, "constructor": false}, {"identifier": "addSearchHandlerToParametersMap", "parameters": "(\n\t        Map<CompositeSearchHandlerKeyValue, Set<SearchHandler>> tempSearchHandlersByParameters,\n\t        SearchHandler searchHandler)", "modifiers": "private", "return": "void", "signature": "void addSearchHandlerToParametersMap(\n\t        Map<CompositeSearchHandlerKeyValue, Set<SearchHandler>> tempSearchHandlersByParameters,\n\t        SearchHandler searchHandler)", "full_signature": "private void addSearchHandlerToParametersMap(\n\t        Map<CompositeSearchHandlerKeyValue, Set<SearchHandler>> tempSearchHandlersByParameters,\n\t        SearchHandler searchHandler)", "class_method_signature": "RestServiceImpl.addSearchHandlerToParametersMap(\n\t        Map<CompositeSearchHandlerKeyValue, Set<SearchHandler>> tempSearchHandlersByParameters,\n\t        SearchHandler searchHandler)", "testcase": false, "constructor": false}, {"identifier": "addSearchHandlerToResourceMap", "parameters": "(Map<String, Set<SearchHandler>> tempSearchHandlersByResource,\n\t        SearchHandler searchHandler)", "modifiers": "private", "return": "void", "signature": "void addSearchHandlerToResourceMap(Map<String, Set<SearchHandler>> tempSearchHandlersByResource,\n\t        SearchHandler searchHandler)", "full_signature": "private void addSearchHandlerToResourceMap(Map<String, Set<SearchHandler>> tempSearchHandlersByResource,\n\t        SearchHandler searchHandler)", "class_method_signature": "RestServiceImpl.addSearchHandlerToResourceMap(Map<String, Set<SearchHandler>> tempSearchHandlersByResource,\n\t        SearchHandler searchHandler)", "testcase": false, "constructor": false}, {"identifier": "getRepresentation", "parameters": "(String requested)", "modifiers": "@Override public", "return": "Representation", "signature": "Representation getRepresentation(String requested)", "full_signature": "@Override public Representation getRepresentation(String requested)", "class_method_signature": "RestServiceImpl.getRepresentation(String requested)", "testcase": false, "constructor": false}, {"identifier": "getResourceByName", "parameters": "(String name)", "modifiers": "@Override public", "return": "Resource", "signature": "Resource getResourceByName(String name)", "full_signature": "@Override public Resource getResourceByName(String name)", "class_method_signature": "RestServiceImpl.getResourceByName(String name)", "testcase": false, "constructor": false}, {"identifier": "getResourceBySupportedClass", "parameters": "(Class<?> resourceClass)", "modifiers": "@Override public", "return": "Resource", "signature": "Resource getResourceBySupportedClass(Class<?> resourceClass)", "full_signature": "@Override public Resource getResourceBySupportedClass(Class<?> resourceClass)", "class_method_signature": "RestServiceImpl.getResourceBySupportedClass(Class<?> resourceClass)", "testcase": false, "constructor": false}, {"identifier": "newResource", "parameters": "(Class<? extends Resource> resourceClass)", "modifiers": "private", "return": "Resource", "signature": "Resource newResource(Class<? extends Resource> resourceClass)", "full_signature": "private Resource newResource(Class<? extends Resource> resourceClass)", "class_method_signature": "RestServiceImpl.newResource(Class<? extends Resource> resourceClass)", "testcase": false, "constructor": false}, {"identifier": "getSearchHandler", "parameters": "(String resourceName, Map<String, String[]> parameters)", "modifiers": "@Override public", "return": "SearchHandler", "signature": "SearchHandler getSearchHandler(String resourceName, Map<String, String[]> parameters)", "full_signature": "@Override public SearchHandler getSearchHandler(String resourceName, Map<String, String[]> parameters)", "class_method_signature": "RestServiceImpl.getSearchHandler(String resourceName, Map<String, String[]> parameters)", "testcase": false, "constructor": false}, {"identifier": "eliminateCandidateSearchHandlersWithMissingRequiredParameters", "parameters": "(Set<SearchHandler> candidateSearchHandlers,\n\t        Set<SearchParameter> searchParameters)", "modifiers": "private", "return": "void", "signature": "void eliminateCandidateSearchHandlersWithMissingRequiredParameters(Set<SearchHandler> candidateSearchHandlers,\n\t        Set<SearchParameter> searchParameters)", "full_signature": "private void eliminateCandidateSearchHandlersWithMissingRequiredParameters(Set<SearchHandler> candidateSearchHandlers,\n\t        Set<SearchParameter> searchParameters)", "class_method_signature": "RestServiceImpl.eliminateCandidateSearchHandlersWithMissingRequiredParameters(Set<SearchHandler> candidateSearchHandlers,\n\t        Set<SearchParameter> searchParameters)", "testcase": false, "constructor": false}, {"identifier": "getResourceHandlers", "parameters": "()", "modifiers": "@Override public", "return": "List<DelegatingResourceHandler<?>>", "signature": "List<DelegatingResourceHandler<?>> getResourceHandlers()", "full_signature": "@Override public List<DelegatingResourceHandler<?>> getResourceHandlers()", "class_method_signature": "RestServiceImpl.getResourceHandlers()", "testcase": false, "constructor": false}, {"identifier": "getAllSearchHandlers", "parameters": "()", "modifiers": "public", "return": "List<SearchHandler>", "signature": "List<SearchHandler> getAllSearchHandlers()", "full_signature": "public List<SearchHandler> getAllSearchHandlers()", "class_method_signature": "RestServiceImpl.getAllSearchHandlers()", "testcase": false, "constructor": false}, {"identifier": "getSearchHandlers", "parameters": "(String resourceName)", "modifiers": "@Override public", "return": "Set<SearchHandler>", "signature": "Set<SearchHandler> getSearchHandlers(String resourceName)", "full_signature": "@Override public Set<SearchHandler> getSearchHandlers(String resourceName)", "class_method_signature": "RestServiceImpl.getSearchHandlers(String resourceName)", "testcase": false, "constructor": false}, {"identifier": "initialize", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void initialize()", "full_signature": "@Override public void initialize()", "class_method_signature": "RestServiceImpl.initialize()", "testcase": false, "constructor": false}], "file": "omod-common/src/main/java/org/openmrs/module/webservices/rest/web/api/impl/RestServiceImpl.java"}, "focal_method": {"identifier": "getRepresentation", "parameters": "(String requested)", "modifiers": "@Override public", "return": "Representation", "body": "@Override\n\tpublic Representation getRepresentation(String requested) {\n\t\tif (StringUtils.isEmpty(requested)) {\n\t\t\treturn Representation.DEFAULT;\n\t\t}\n\t\t\n\t\tif (RestConstants.REPRESENTATION_REF.equals(requested)) {\n\t\t\treturn Representation.REF;\n\t\t} else if (RestConstants.REPRESENTATION_DEFAULT.equals(requested)) {\n\t\t\treturn Representation.DEFAULT;\n\t\t} else if (RestConstants.REPRESENTATION_FULL.equals(requested)) {\n\t\t\treturn Representation.FULL;\n\t\t} else if (requested.startsWith(RestConstants.REPRESENTATION_CUSTOM_PREFIX)) {\n\t\t\treturn new CustomRepresentation(requested.replace(RestConstants.REPRESENTATION_CUSTOM_PREFIX, \"\"));\n\t\t}\n\t\t\n\t\treturn new NamedRepresentation(requested);\n\t}", "signature": "Representation getRepresentation(String requested)", "full_signature": "@Override public Representation getRepresentation(String requested)", "class_method_signature": "RestServiceImpl.getRepresentation(String requested)", "testcase": false, "constructor": false, "invocations": ["isEmpty", "equals", "equals", "equals", "startsWith", "replace"]}, "repository": {"repo_id": 6951233, "url": "https://github.com/openmrs/openmrs-module-webservices.rest", "language": "Java", "is_fork": false, "fork_count": 383, "stargazer_count": 46, "size": 7213, "license": "licensed"}}