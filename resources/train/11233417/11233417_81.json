{"test_class": {"identifier": "SVDeletionAnnotationBuilderTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "static String dbPath;", "modifier": "static", "type": "String", "declarator": "dbPath", "var_name": "dbPath"}, {"original_string": "static JannovarData jvData;", "modifier": "static", "type": "JannovarData", "declarator": "jvData", "var_name": "jvData"}, {"original_string": "static TranscriptModel oma1;", "modifier": "static", "type": "TranscriptModel", "declarator": "oma1", "var_name": "oma1"}], "file": "jannovar-core/src/test/java/de/charite/compbio/jannovar/annotation/builders/SVDeletionAnnotationBuilderTest.java"}, "test_case": {"identifier": "testDownstreamOma1", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testDownstreamOma1() {\n\t\tfinal SVDeletion svDel = new SVDeletion(\n\t\t\tnew GenomePosition(jvData.getRefDict(), Strand.FWD, oma1.getChr(), 58942733),\n\t\t\tnew GenomePosition(jvData.getRefDict(), Strand.FWD, oma1.getChr(), 58946074),\n\t\t\t0, 0, 0, 0\n\t\t);\n\t\tfinal SVAnnotation anno = new SVDeletionAnnotationBuilder(oma1, svDel).build();\n\n\t\tAssert.assertEquals(anno.getTranscript().toString(), \"NM_145243.3(1:g.58946391_59012446)\");\n\t\tAssert.assertEquals(\n\t\t\t\"SVDeletion{genomePos=1:g.58942734, genomePos2=1:g.58946075, posCILowerBound=0, \" +\n\t\t\t\t\"posCIUpperBound=0, pos2CILowerBound=0, pos2CIUpperBound=0}\",\n\t\t\tanno.getVariant().toString()\n\t\t);\n\t\tAssert.assertEquals(\n\t\t\t\"[DOWNSTREAM_GENE_VARIANT, CODING_TRANSCRIPT_VARIANT]\",\n\t\t\tanno.getEffects().toString()\n\t\t);\n\t}", "signature": "void testDownstreamOma1()", "full_signature": "@Test public void testDownstreamOma1()", "class_method_signature": "SVDeletionAnnotationBuilderTest.testDownstreamOma1()", "testcase": true, "constructor": false, "invocations": ["getRefDict", "getChr", "getRefDict", "getChr", "build", "assertEquals", "toString", "getTranscript", "assertEquals", "toString", "getVariant", "assertEquals", "toString", "getEffects"]}, "focal_class": {"identifier": "SVDeletionAnnotationBuilder", "superclass": "extends SVAnnotationBuilder", "interfaces": "", "fields": [{"original_string": "private final SVDeletion svDel;", "modifier": "private final", "type": "SVDeletion", "declarator": "svDel", "var_name": "svDel"}], "methods": [{"identifier": "SVDeletionAnnotationBuilder", "parameters": "(TranscriptModel transcript, SVDeletion svDel)", "modifiers": "public", "return": "", "signature": " SVDeletionAnnotationBuilder(TranscriptModel transcript, SVDeletion svDel)", "full_signature": "public  SVDeletionAnnotationBuilder(TranscriptModel transcript, SVDeletion svDel)", "class_method_signature": "SVDeletionAnnotationBuilder.SVDeletionAnnotationBuilder(TranscriptModel transcript, SVDeletion svDel)", "testcase": false, "constructor": true}, {"identifier": "build", "parameters": "()", "modifiers": "@Override public", "return": "SVAnnotation", "signature": "SVAnnotation build()", "full_signature": "@Override public SVAnnotation build()", "class_method_signature": "SVDeletionAnnotationBuilder.build()", "testcase": false, "constructor": false}, {"identifier": "buildAnnotation", "parameters": "(VariantEffect effect)", "modifiers": "private", "return": "SVAnnotation", "signature": "SVAnnotation buildAnnotation(VariantEffect effect)", "full_signature": "private SVAnnotation buildAnnotation(VariantEffect effect)", "class_method_signature": "SVDeletionAnnotationBuilder.buildAnnotation(VariantEffect effect)", "testcase": false, "constructor": false}, {"identifier": "buildExonOverlapAnnotation", "parameters": "(GenomeInterval changeInterval)", "modifiers": "private", "return": "SVAnnotation", "signature": "SVAnnotation buildExonOverlapAnnotation(GenomeInterval changeInterval)", "full_signature": "private SVAnnotation buildExonOverlapAnnotation(GenomeInterval changeInterval)", "class_method_signature": "SVDeletionAnnotationBuilder.buildExonOverlapAnnotation(GenomeInterval changeInterval)", "testcase": false, "constructor": false}, {"identifier": "buildExonLossAnnotation", "parameters": "(GenomeInterval changeInterval)", "modifiers": "private", "return": "SVAnnotation", "signature": "SVAnnotation buildExonLossAnnotation(GenomeInterval changeInterval)", "full_signature": "private SVAnnotation buildExonLossAnnotation(GenomeInterval changeInterval)", "class_method_signature": "SVDeletionAnnotationBuilder.buildExonLossAnnotation(GenomeInterval changeInterval)", "testcase": false, "constructor": false}, {"identifier": "buildEffectSet", "parameters": "(Collection<VariantEffect> effects)", "modifiers": "private", "return": "ImmutableSet<VariantEffect>", "signature": "ImmutableSet<VariantEffect> buildEffectSet(Collection<VariantEffect> effects)", "full_signature": "private ImmutableSet<VariantEffect> buildEffectSet(Collection<VariantEffect> effects)", "class_method_signature": "SVDeletionAnnotationBuilder.buildEffectSet(Collection<VariantEffect> effects)", "testcase": false, "constructor": false}], "file": "jannovar-core/src/main/java/de/charite/compbio/jannovar/annotation/builders/SVDeletionAnnotationBuilder.java"}, "focal_method": {"identifier": "build", "parameters": "()", "modifiers": "@Override public", "return": "SVAnnotation", "body": "@Override\n\tpublic SVAnnotation build() {\n\t\tfinal GenomeInterval changeInterval = svDel.getGenomeInterval();\n\n\t\t// Go over the different cases from most to least pathogenic step and return most pathogenic one.\n\n\t\tif (changeInterval.contains(transcript.getTXRegion())) {\n\t\t\treturn buildAnnotation(VariantEffect.TRANSCRIPT_ABLATION);\n\t\t} else if (so.containsExon(changeInterval)) {\n\t\t\treturn buildExonLossAnnotation(changeInterval);\n\t\t} else if (so.overlapsWithExon(changeInterval)) {\n\t\t\treturn buildExonOverlapAnnotation(changeInterval);\n\t\t} else if (changeInterval.overlapsWith(transcript.getTXRegion())) {\n\t\t\t// Overlaps with transcript but no exon, must be intronic.\n\t\t\treturn buildAnnotation(transcript.isCoding() ?\n\t\t\t\tVariantEffect.CODING_TRANSCRIPT_INTRON_VARIANT :\n\t\t\t\tVariantEffect.NON_CODING_TRANSCRIPT_INTRON_VARIANT);\n\t\t} else if (so.overlapsWithUpstreamRegion(changeInterval)) {\n\t\t\treturn buildAnnotation(VariantEffect.UPSTREAM_GENE_VARIANT);\n\t\t} else if (so.overlapsWithDownstreamRegion(changeInterval)) {\n\t\t\treturn buildAnnotation(VariantEffect.DOWNSTREAM_GENE_VARIANT);\n\t\t} else {\n\t\t\treturn buildAnnotation(VariantEffect.INTERGENIC_VARIANT);\n\t\t}\n\t}", "signature": "SVAnnotation build()", "full_signature": "@Override public SVAnnotation build()", "class_method_signature": "SVDeletionAnnotationBuilder.build()", "testcase": false, "constructor": false, "invocations": ["getGenomeInterval", "contains", "getTXRegion", "buildAnnotation", "containsExon", "buildExonLossAnnotation", "overlapsWithExon", "buildExonOverlapAnnotation", "overlapsWith", "getTXRegion", "buildAnnotation", "isCoding", "overlapsWithUpstreamRegion", "buildAnnotation", "overlapsWithDownstreamRegion", "buildAnnotation", "buildAnnotation"]}, "repository": {"repo_id": 11233417, "url": "https://github.com/charite/jannovar", "language": "Java", "is_fork": false, "fork_count": 32, "stargazer_count": 35, "size": 23934, "license": "licensed"}}