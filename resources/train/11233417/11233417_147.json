{"test_class": {"identifier": "SVTandemDuplicationAnnotationBuilderTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "static String dbPath;", "modifier": "static", "type": "String", "declarator": "dbPath", "var_name": "dbPath"}, {"original_string": "static JannovarData jvData;", "modifier": "static", "type": "JannovarData", "declarator": "jvData", "var_name": "jvData"}, {"original_string": "static TranscriptModel oma1;", "modifier": "static", "type": "TranscriptModel", "declarator": "oma1", "var_name": "oma1"}], "file": "jannovar-core/src/test/java/de/charite/compbio/jannovar/annotation/builders/SVTandemDuplicationAnnotationBuilderTest.java"}, "test_case": {"identifier": "testTranscriptDuplicationOma1", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testTranscriptDuplicationOma1() {\n\t\tfinal SVTandemDuplication svDup = new SVTandemDuplication(\n\t\t\tnew GenomePosition(jvData.getRefDict(), Strand.FWD, oma1.getChr(), 58929877),\n\t\t\tnew GenomePosition(jvData.getRefDict(), Strand.FWD, oma1.getChr(), 59028960),\n\t\t\t0, 0, 0, 0\n\t\t);\n\t\tfinal SVAnnotation anno = new SVTandemDuplicationAnnotationBuilder(oma1, svDup).build();\n\n\t\tAssert.assertEquals(anno.getTranscript().toString(), \"NM_145243.3(1:g.58946391_59012446)\");\n\t\tAssert.assertEquals(\n\t\t\t\"SVTandemDuplication{genomePos=1:g.58929878, genomePos2=1:g.59028961, posCILowerBound=0, \" +\n\t\t\t\t\"posCIUpperBound=0, pos2CILowerBound=0, pos2CIUpperBound=0}\",\n\t\t\tanno.getVariant().toString()\n\t\t);\n\t\tAssert.assertEquals(\n\t\t\t\"[TRANSCRIPT_AMPLIFICATION, DIRECT_TANDEM_DUPLICATION, STRUCTURAL_VARIANT, \" +\n\t\t\t\t\"CODING_TRANSCRIPT_VARIANT]\",\n\t\t\tanno.getEffects().toString()\n\t\t);\n\t}", "signature": "void testTranscriptDuplicationOma1()", "full_signature": "@Test public void testTranscriptDuplicationOma1()", "class_method_signature": "SVTandemDuplicationAnnotationBuilderTest.testTranscriptDuplicationOma1()", "testcase": true, "constructor": false, "invocations": ["getRefDict", "getChr", "getRefDict", "getChr", "build", "assertEquals", "toString", "getTranscript", "assertEquals", "toString", "getVariant", "assertEquals", "toString", "getEffects"]}, "focal_class": {"identifier": "SVTandemDuplicationAnnotationBuilder", "superclass": "extends SVAnnotationBuilder", "interfaces": "", "fields": [{"original_string": "private final SVTandemDuplication svTandemDup;", "modifier": "private final", "type": "SVTandemDuplication", "declarator": "svTandemDup", "var_name": "svTandemDup"}], "methods": [{"identifier": "SVTandemDuplicationAnnotationBuilder", "parameters": "(TranscriptModel transcript, SVTandemDuplication svTandemDup)", "modifiers": "public", "return": "", "signature": " SVTandemDuplicationAnnotationBuilder(TranscriptModel transcript, SVTandemDuplication svTandemDup)", "full_signature": "public  SVTandemDuplicationAnnotationBuilder(TranscriptModel transcript, SVTandemDuplication svTandemDup)", "class_method_signature": "SVTandemDuplicationAnnotationBuilder.SVTandemDuplicationAnnotationBuilder(TranscriptModel transcript, SVTandemDuplication svTandemDup)", "testcase": false, "constructor": true}, {"identifier": "build", "parameters": "()", "modifiers": "@Override public", "return": "SVAnnotation", "signature": "SVAnnotation build()", "full_signature": "@Override public SVAnnotation build()", "class_method_signature": "SVTandemDuplicationAnnotationBuilder.build()", "testcase": false, "constructor": false}, {"identifier": "buildEffectSet", "parameters": "(Collection<VariantEffect> effects)", "modifiers": "private", "return": "ImmutableSet<VariantEffect>", "signature": "ImmutableSet<VariantEffect> buildEffectSet(Collection<VariantEffect> effects)", "full_signature": "private ImmutableSet<VariantEffect> buildEffectSet(Collection<VariantEffect> effects)", "class_method_signature": "SVTandemDuplicationAnnotationBuilder.buildEffectSet(Collection<VariantEffect> effects)", "testcase": false, "constructor": false}], "file": "jannovar-core/src/main/java/de/charite/compbio/jannovar/annotation/builders/SVTandemDuplicationAnnotationBuilder.java"}, "focal_method": {"identifier": "build", "parameters": "()", "modifiers": "@Override public", "return": "SVAnnotation", "body": "@Override\n\tpublic SVAnnotation build() {\n\t\tfinal GenomeInterval changeInterval = svTandemDup.getGenomeInterval();\n\n\t\t// Go over the different cases from most to least pathogenic step and return most pathogenic one.\n\n\t\tif (changeInterval.overlapsWith(transcript.getTXRegion())) {\n\t\t\treturn new SVAnnotation(svTandemDup, transcript, buildEffectSet(Sets.immutableEnumSet(\n\t\t\t\tVariantEffect.TRANSCRIPT_AMPLIFICATION, VariantEffect.STRUCTURAL_VARIANT,\n\t\t\t\tVariantEffect.DIRECT_TANDEM_DUPLICATION\n\t\t\t)));\n\t\t} else if (so.overlapsWithUpstreamRegion(changeInterval)) {\n\t\t\treturn new SVAnnotation(svTandemDup, transcript, buildEffectSet(Sets.immutableEnumSet(\n\t\t\t\tVariantEffect.STRUCTURAL_VARIANT, VariantEffect.UPSTREAM_GENE_VARIANT\n\t\t\t)));\n\t\t} else if (so.overlapsWithDownstreamRegion(changeInterval)) {\n\t\t\treturn new SVAnnotation(svTandemDup, transcript, buildEffectSet(Sets.immutableEnumSet(\n\t\t\t\tVariantEffect.STRUCTURAL_VARIANT, VariantEffect.DOWNSTREAM_GENE_VARIANT\n\t\t\t)));\n\t\t} else {\n\t\t\treturn new SVAnnotation(svTandemDup, transcript, buildEffectSet(Sets.immutableEnumSet(\n\t\t\t\tVariantEffect.STRUCTURAL_VARIANT, VariantEffect.INTERGENIC_VARIANT\n\t\t\t)));\n\t\t}\n\t}", "signature": "SVAnnotation build()", "full_signature": "@Override public SVAnnotation build()", "class_method_signature": "SVTandemDuplicationAnnotationBuilder.build()", "testcase": false, "constructor": false, "invocations": ["getGenomeInterval", "overlapsWith", "getTXRegion", "buildEffectSet", "immutableEnumSet", "overlapsWithUpstreamRegion", "buildEffectSet", "immutableEnumSet", "overlapsWithDownstreamRegion", "buildEffectSet", "immutableEnumSet", "buildEffectSet", "immutableEnumSet"]}, "repository": {"repo_id": 11233417, "url": "https://github.com/charite/jannovar", "language": "Java", "is_fork": false, "fork_count": 32, "stargazer_count": 35, "size": 23934, "license": "licensed"}}