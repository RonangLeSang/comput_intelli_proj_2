{"test_class": {"identifier": "JAXBElementProviderTest", "superclass": "extends Assert", "interfaces": "", "fields": [], "file": "webserviceCXF/WebContent/officaldoc/apache-cxf-2.7.0-src/rt/frontend/jaxrs/src/test/java/org/apache/cxf/jaxrs/provider/JAXBElementProviderTest.java"}, "test_case": {"identifier": "testWriteWithoutXmlRootElementDerived", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testWriteWithoutXmlRootElementDerived() throws Exception {\n        JAXBElementProvider<org.apache.cxf.jaxrs.fortest.jaxb.Book> provider \n            = new JAXBElementProvider<org.apache.cxf.jaxrs.fortest.jaxb.Book>();\n        provider.setJaxbElementClassMap(Collections.singletonMap(\n            org.apache.cxf.jaxrs.fortest.jaxb.Book.class.getName(), \"Book\"));\n        org.apache.cxf.jaxrs.fortest.jaxb.Book b = \n            new org.apache.cxf.jaxrs.fortest.jaxb.SuperBook(\"CXF in Action\", 123L, 124L);\n        \n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        provider.writeTo(b, org.apache.cxf.jaxrs.fortest.jaxb.Book.class, \n                         org.apache.cxf.jaxrs.fortest.jaxb.Book.class,\n                         new Annotation[0], MediaType.TEXT_XML_TYPE, \n                         new MetadataMap<String, Object>(), bos);\n        readSuperBook2(bos.toString(), false);\n    }", "signature": "void testWriteWithoutXmlRootElementDerived()", "full_signature": "@Test public void testWriteWithoutXmlRootElementDerived()", "class_method_signature": "JAXBElementProviderTest.testWriteWithoutXmlRootElementDerived()", "testcase": true, "constructor": false, "invocations": ["setJaxbElementClassMap", "singletonMap", "getName", "writeTo", "readSuperBook2", "toString"]}, "focal_class": {"identifier": "JAXBElementProvider", "superclass": "extends AbstractJAXBProvider<T>", "interfaces": "", "fields": [{"original_string": "private static final String XML_PI_START = \"<?xml version=\\\"1.0\\\" encoding=\\\"\";", "modifier": "private static final", "type": "String", "declarator": "XML_PI_START = \"<?xml version=\\\"1.0\\\" encoding=\\\"\"", "var_name": "XML_PI_START"}, {"original_string": "private static final String XML_PI_PROPERTY = \"com.sun.xml.bind.xmlHeaders\";", "modifier": "private static final", "type": "String", "declarator": "XML_PI_PROPERTY = \"com.sun.xml.bind.xmlHeaders\"", "var_name": "XML_PI_PROPERTY"}, {"original_string": "private static final String XML_PI_PROPERTY_INT = \"com.sun.xml.internal.bind.xmlHeaders\";", "modifier": "private static final", "type": "String", "declarator": "XML_PI_PROPERTY_INT = \"com.sun.xml.internal.bind.xmlHeaders\"", "var_name": "XML_PI_PROPERTY_INT"}, {"original_string": "private static final List<String> MARSHALLER_PROPERTIES =\n        Arrays.asList(new String[] {Marshaller.JAXB_ENCODING,\n                                    Marshaller.JAXB_FORMATTED_OUTPUT,\n                                    Marshaller.JAXB_FRAGMENT,\n                                    Marshaller.JAXB_NO_NAMESPACE_SCHEMA_LOCATION,\n                                    Marshaller.JAXB_SCHEMA_LOCATION,\n                                    NS_MAPPER_PROPERTY,\n                                    NS_MAPPER_PROPERTY_INT,\n                                    XML_PI_PROPERTY,\n                                    XML_PI_PROPERTY_INT});", "modifier": "private static final", "type": "List<String>", "declarator": "MARSHALLER_PROPERTIES =\n        Arrays.asList(new String[] {Marshaller.JAXB_ENCODING,\n                                    Marshaller.JAXB_FORMATTED_OUTPUT,\n                                    Marshaller.JAXB_FRAGMENT,\n                                    Marshaller.JAXB_NO_NAMESPACE_SCHEMA_LOCATION,\n                                    Marshaller.JAXB_SCHEMA_LOCATION,\n                                    NS_MAPPER_PROPERTY,\n                                    NS_MAPPER_PROPERTY_INT,\n                                    XML_PI_PROPERTY,\n                                    XML_PI_PROPERTY_INT})", "var_name": "MARSHALLER_PROPERTIES"}, {"original_string": "private Map<String, Object> mProperties = Collections.emptyMap();", "modifier": "private", "type": "Map<String, Object>", "declarator": "mProperties = Collections.emptyMap()", "var_name": "mProperties"}, {"original_string": "private Map<String, String> nsPrefixes = Collections.emptyMap();", "modifier": "private", "type": "Map<String, String>", "declarator": "nsPrefixes = Collections.emptyMap()", "var_name": "nsPrefixes"}, {"original_string": "private String xmlResourceOffset = \"\";", "modifier": "private", "type": "String", "declarator": "xmlResourceOffset = \"\"", "var_name": "xmlResourceOffset"}], "methods": [{"identifier": "JAXBElementProvider", "parameters": "()", "modifiers": "public", "return": "", "signature": " JAXBElementProvider()", "full_signature": "public  JAXBElementProvider()", "class_method_signature": "JAXBElementProvider.JAXBElementProvider()", "testcase": false, "constructor": true}, {"identifier": "setXmlResourceOffset", "parameters": "(String value)", "modifiers": "public", "return": "void", "signature": "void setXmlResourceOffset(String value)", "full_signature": "public void setXmlResourceOffset(String value)", "class_method_signature": "JAXBElementProvider.setXmlResourceOffset(String value)", "testcase": false, "constructor": false}, {"identifier": "setNamespacePrefixes", "parameters": "(Map<String, String> prefixes)", "modifiers": "public", "return": "void", "signature": "void setNamespacePrefixes(Map<String, String> prefixes)", "full_signature": "public void setNamespacePrefixes(Map<String, String> prefixes)", "class_method_signature": "JAXBElementProvider.setNamespacePrefixes(Map<String, String> prefixes)", "testcase": false, "constructor": false}, {"identifier": "canBeReadAsJaxbElement", "parameters": "(Class<?> type)", "modifiers": "@Override protected", "return": "boolean", "signature": "boolean canBeReadAsJaxbElement(Class<?> type)", "full_signature": "@Override protected boolean canBeReadAsJaxbElement(Class<?> type)", "class_method_signature": "JAXBElementProvider.canBeReadAsJaxbElement(Class<?> type)", "testcase": false, "constructor": false}, {"identifier": "setMessageContext", "parameters": "(MessageContext mc)", "modifiers": "@Context public", "return": "void", "signature": "void setMessageContext(MessageContext mc)", "full_signature": "@Context public void setMessageContext(MessageContext mc)", "class_method_signature": "JAXBElementProvider.setMessageContext(MessageContext mc)", "testcase": false, "constructor": false}, {"identifier": "setEnableBuffering", "parameters": "(boolean enableBuf)", "modifiers": "public", "return": "void", "signature": "void setEnableBuffering(boolean enableBuf)", "full_signature": "public void setEnableBuffering(boolean enableBuf)", "class_method_signature": "JAXBElementProvider.setEnableBuffering(boolean enableBuf)", "testcase": false, "constructor": false}, {"identifier": "setConsumeMediaTypes", "parameters": "(List<String> types)", "modifiers": "public", "return": "void", "signature": "void setConsumeMediaTypes(List<String> types)", "full_signature": "public void setConsumeMediaTypes(List<String> types)", "class_method_signature": "JAXBElementProvider.setConsumeMediaTypes(List<String> types)", "testcase": false, "constructor": false}, {"identifier": "setProduceMediaTypes", "parameters": "(List<String> types)", "modifiers": "public", "return": "void", "signature": "void setProduceMediaTypes(List<String> types)", "full_signature": "public void setProduceMediaTypes(List<String> types)", "class_method_signature": "JAXBElementProvider.setProduceMediaTypes(List<String> types)", "testcase": false, "constructor": false}, {"identifier": "setMarshallerProperties", "parameters": "(Map<String, Object> marshallProperties)", "modifiers": "public", "return": "void", "signature": "void setMarshallerProperties(Map<String, Object> marshallProperties)", "full_signature": "public void setMarshallerProperties(Map<String, Object> marshallProperties)", "class_method_signature": "JAXBElementProvider.setMarshallerProperties(Map<String, Object> marshallProperties)", "testcase": false, "constructor": false}, {"identifier": "setSchemaLocation", "parameters": "(String schemaLocation)", "modifiers": "public", "return": "void", "signature": "void setSchemaLocation(String schemaLocation)", "full_signature": "public void setSchemaLocation(String schemaLocation)", "class_method_signature": "JAXBElementProvider.setSchemaLocation(String schemaLocation)", "testcase": false, "constructor": false}, {"identifier": "readFrom", "parameters": "(Class<T> type, Type genericType, Annotation[] anns, MediaType mt, \n        MultivaluedMap<String, String> headers, InputStream is)", "modifiers": "public", "return": "T", "signature": "T readFrom(Class<T> type, Type genericType, Annotation[] anns, MediaType mt, \n        MultivaluedMap<String, String> headers, InputStream is)", "full_signature": "public T readFrom(Class<T> type, Type genericType, Annotation[] anns, MediaType mt, \n        MultivaluedMap<String, String> headers, InputStream is)", "class_method_signature": "JAXBElementProvider.readFrom(Class<T> type, Type genericType, Annotation[] anns, MediaType mt, \n        MultivaluedMap<String, String> headers, InputStream is)", "testcase": false, "constructor": false}, {"identifier": "doUnmarshal", "parameters": "(Unmarshaller unmarshaller, Class<?> type, InputStream is, MediaType mt)", "modifiers": "protected", "return": "Object", "signature": "Object doUnmarshal(Unmarshaller unmarshaller, Class<?> type, InputStream is, MediaType mt)", "full_signature": "protected Object doUnmarshal(Unmarshaller unmarshaller, Class<?> type, InputStream is, MediaType mt)", "class_method_signature": "JAXBElementProvider.doUnmarshal(Unmarshaller unmarshaller, Class<?> type, InputStream is, MediaType mt)", "testcase": false, "constructor": false}, {"identifier": "getStreamReader", "parameters": "(InputStream is, Class<?> type, MediaType mt)", "modifiers": "protected", "return": "XMLStreamReader", "signature": "XMLStreamReader getStreamReader(InputStream is, Class<?> type, MediaType mt)", "full_signature": "protected XMLStreamReader getStreamReader(InputStream is, Class<?> type, MediaType mt)", "class_method_signature": "JAXBElementProvider.getStreamReader(InputStream is, Class<?> type, MediaType mt)", "testcase": false, "constructor": false}, {"identifier": "unmarshalFromInputStream", "parameters": "(Unmarshaller unmarshaller, InputStream is, MediaType mt)", "modifiers": "protected", "return": "Object", "signature": "Object unmarshalFromInputStream(Unmarshaller unmarshaller, InputStream is, MediaType mt)", "full_signature": "protected Object unmarshalFromInputStream(Unmarshaller unmarshaller, InputStream is, MediaType mt)", "class_method_signature": "JAXBElementProvider.unmarshalFromInputStream(Unmarshaller unmarshaller, InputStream is, MediaType mt)", "testcase": false, "constructor": false}, {"identifier": "unmarshalFromReader", "parameters": "(Unmarshaller unmarshaller, XMLStreamReader reader, MediaType mt)", "modifiers": "protected", "return": "Object", "signature": "Object unmarshalFromReader(Unmarshaller unmarshaller, XMLStreamReader reader, MediaType mt)", "full_signature": "protected Object unmarshalFromReader(Unmarshaller unmarshaller, XMLStreamReader reader, MediaType mt)", "class_method_signature": "JAXBElementProvider.unmarshalFromReader(Unmarshaller unmarshaller, XMLStreamReader reader, MediaType mt)", "testcase": false, "constructor": false}, {"identifier": "writeTo", "parameters": "(T obj, Class<?> cls, Type genericType, Annotation[] anns,  \n        MediaType m, MultivaluedMap<String, Object> headers, OutputStream os)", "modifiers": "public", "return": "void", "signature": "void writeTo(T obj, Class<?> cls, Type genericType, Annotation[] anns,  \n        MediaType m, MultivaluedMap<String, Object> headers, OutputStream os)", "full_signature": "public void writeTo(T obj, Class<?> cls, Type genericType, Annotation[] anns,  \n        MediaType m, MultivaluedMap<String, Object> headers, OutputStream os)", "class_method_signature": "JAXBElementProvider.writeTo(T obj, Class<?> cls, Type genericType, Annotation[] anns,  \n        MediaType m, MultivaluedMap<String, Object> headers, OutputStream os)", "testcase": false, "constructor": false}, {"identifier": "marshalCollection", "parameters": "(Class<?> originalCls, Object collection, \n                                     Type genericType, String enc, OutputStream os, \n                                     MediaType m, Annotation[] anns)", "modifiers": "protected", "return": "void", "signature": "void marshalCollection(Class<?> originalCls, Object collection, \n                                     Type genericType, String enc, OutputStream os, \n                                     MediaType m, Annotation[] anns)", "full_signature": "protected void marshalCollection(Class<?> originalCls, Object collection, \n                                     Type genericType, String enc, OutputStream os, \n                                     MediaType m, Annotation[] anns)", "class_method_signature": "JAXBElementProvider.marshalCollection(Class<?> originalCls, Object collection, \n                                     Type genericType, String enc, OutputStream os, \n                                     MediaType m, Annotation[] anns)", "testcase": false, "constructor": false}, {"identifier": "marshalCollectionMember", "parameters": "(Object obj, \n                                           Class<?> cls, \n                                           Type genericType, \n                                           String enc, \n                                           OutputStream os, \n                                           MediaType mt, \n                                           String ns)", "modifiers": "protected", "return": "void", "signature": "void marshalCollectionMember(Object obj, \n                                           Class<?> cls, \n                                           Type genericType, \n                                           String enc, \n                                           OutputStream os, \n                                           MediaType mt, \n                                           String ns)", "full_signature": "protected void marshalCollectionMember(Object obj, \n                                           Class<?> cls, \n                                           Type genericType, \n                                           String enc, \n                                           OutputStream os, \n                                           MediaType mt, \n                                           String ns)", "class_method_signature": "JAXBElementProvider.marshalCollectionMember(Object obj, \n                                           Class<?> cls, \n                                           Type genericType, \n                                           String enc, \n                                           OutputStream os, \n                                           MediaType mt, \n                                           String ns)", "testcase": false, "constructor": false}, {"identifier": "marshal", "parameters": "(Object obj, Class<?> cls, Type genericType, \n                           String enc, OutputStream os, MediaType mt)", "modifiers": "protected", "return": "void", "signature": "void marshal(Object obj, Class<?> cls, Type genericType, \n                           String enc, OutputStream os, MediaType mt)", "full_signature": "protected void marshal(Object obj, Class<?> cls, Type genericType, \n                           String enc, OutputStream os, MediaType mt)", "class_method_signature": "JAXBElementProvider.marshal(Object obj, Class<?> cls, Type genericType, \n                           String enc, OutputStream os, MediaType mt)", "testcase": false, "constructor": false}, {"identifier": "marshal", "parameters": "(Object obj, Class<?> cls, Type genericType, \n                           String enc, OutputStream os, MediaType mt,\n                           Annotation[] anns)", "modifiers": "protected", "return": "void", "signature": "void marshal(Object obj, Class<?> cls, Type genericType, \n                           String enc, OutputStream os, MediaType mt,\n                           Annotation[] anns)", "full_signature": "protected void marshal(Object obj, Class<?> cls, Type genericType, \n                           String enc, OutputStream os, MediaType mt,\n                           Annotation[] anns)", "class_method_signature": "JAXBElementProvider.marshal(Object obj, Class<?> cls, Type genericType, \n                           String enc, OutputStream os, MediaType mt,\n                           Annotation[] anns)", "testcase": false, "constructor": false}, {"identifier": "addProcessingInstructions", "parameters": "(Marshaller ms, Annotation[] anns)", "modifiers": "private", "return": "void", "signature": "void addProcessingInstructions(Marshaller ms, Annotation[] anns)", "full_signature": "private void addProcessingInstructions(Marshaller ms, Annotation[] anns)", "class_method_signature": "JAXBElementProvider.addProcessingInstructions(Marshaller ms, Annotation[] anns)", "testcase": false, "constructor": false}, {"identifier": "addSchemaLocation", "parameters": "(Marshaller ms, Annotation[] anns)", "modifiers": "private", "return": "void", "signature": "void addSchemaLocation(Marshaller ms, Annotation[] anns)", "full_signature": "private void addSchemaLocation(Marshaller ms, Annotation[] anns)", "class_method_signature": "JAXBElementProvider.addSchemaLocation(Marshaller ms, Annotation[] anns)", "testcase": false, "constructor": false}, {"identifier": "buildAbsoluteXMLResourceURI", "parameters": "(String path)", "modifiers": "private", "return": "String", "signature": "String buildAbsoluteXMLResourceURI(String path)", "full_signature": "private String buildAbsoluteXMLResourceURI(String path)", "class_method_signature": "JAXBElementProvider.buildAbsoluteXMLResourceURI(String path)", "testcase": false, "constructor": false}, {"identifier": "addAttachmentMarshaller", "parameters": "(Marshaller ms)", "modifiers": "protected", "return": "void", "signature": "void addAttachmentMarshaller(Marshaller ms)", "full_signature": "protected void addAttachmentMarshaller(Marshaller ms)", "class_method_signature": "JAXBElementProvider.addAttachmentMarshaller(Marshaller ms)", "testcase": false, "constructor": false}, {"identifier": "addAttachmentUnmarshaller", "parameters": "(Unmarshaller um)", "modifiers": "protected", "return": "void", "signature": "void addAttachmentUnmarshaller(Unmarshaller um)", "full_signature": "protected void addAttachmentUnmarshaller(Unmarshaller um)", "class_method_signature": "JAXBElementProvider.addAttachmentUnmarshaller(Unmarshaller um)", "testcase": false, "constructor": false}, {"identifier": "getAttachments", "parameters": "(boolean write)", "modifiers": "private", "return": "Collection<Attachment>", "signature": "Collection<Attachment> getAttachments(boolean write)", "full_signature": "private Collection<Attachment> getAttachments(boolean write)", "class_method_signature": "JAXBElementProvider.getAttachments(boolean write)", "testcase": false, "constructor": false}, {"identifier": "marshal", "parameters": "(Object obj, Class<?> cls, Type genericType, \n                           String enc, OutputStream os, MediaType mt, Marshaller ms)", "modifiers": "protected", "return": "void", "signature": "void marshal(Object obj, Class<?> cls, Type genericType, \n                           String enc, OutputStream os, MediaType mt, Marshaller ms)", "full_signature": "protected void marshal(Object obj, Class<?> cls, Type genericType, \n                           String enc, OutputStream os, MediaType mt, Marshaller ms)", "class_method_signature": "JAXBElementProvider.marshal(Object obj, Class<?> cls, Type genericType, \n                           String enc, OutputStream os, MediaType mt, Marshaller ms)", "testcase": false, "constructor": false}, {"identifier": "getStreamWriter", "parameters": "(Object obj, OutputStream os, MediaType mt)", "modifiers": "protected", "return": "XMLStreamWriter", "signature": "XMLStreamWriter getStreamWriter(Object obj, OutputStream os, MediaType mt)", "full_signature": "protected XMLStreamWriter getStreamWriter(Object obj, OutputStream os, MediaType mt)", "class_method_signature": "JAXBElementProvider.getStreamWriter(Object obj, OutputStream os, MediaType mt)", "testcase": false, "constructor": false}, {"identifier": "marshalToOutputStream", "parameters": "(Marshaller ms, Object obj, OutputStream os, MediaType mt)", "modifiers": "protected", "return": "void", "signature": "void marshalToOutputStream(Marshaller ms, Object obj, OutputStream os, MediaType mt)", "full_signature": "protected void marshalToOutputStream(Marshaller ms, Object obj, OutputStream os, MediaType mt)", "class_method_signature": "JAXBElementProvider.marshalToOutputStream(Marshaller ms, Object obj, OutputStream os, MediaType mt)", "testcase": false, "constructor": false}, {"identifier": "marshalToWriter", "parameters": "(Marshaller ms, Object obj, XMLStreamWriter writer, MediaType mt)", "modifiers": "protected", "return": "void", "signature": "void marshalToWriter(Marshaller ms, Object obj, XMLStreamWriter writer, MediaType mt)", "full_signature": "protected void marshalToWriter(Marshaller ms, Object obj, XMLStreamWriter writer, MediaType mt)", "class_method_signature": "JAXBElementProvider.marshalToWriter(Marshaller ms, Object obj, XMLStreamWriter writer, MediaType mt)", "testcase": false, "constructor": false}], "file": "webserviceCXF/WebContent/officaldoc/apache-cxf-2.7.0-src/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/JAXBElementProvider.java"}, "focal_method": {"identifier": "writeTo", "parameters": "(T obj, Class<?> cls, Type genericType, Annotation[] anns,  \n        MediaType m, MultivaluedMap<String, Object> headers, OutputStream os)", "modifiers": "public", "return": "void", "body": "public void writeTo(T obj, Class<?> cls, Type genericType, Annotation[] anns,  \n        MediaType m, MultivaluedMap<String, Object> headers, OutputStream os) \n        throws IOException {\n        try {\n            String encoding = HttpUtils.getSetEncoding(m, headers, null);\n            if (InjectionUtils.isSupportedCollectionOrArray(cls)) {\n                marshalCollection(cls, obj, genericType, encoding, os, m, anns);\n            } else {\n                Object actualObject = checkAdapter(obj, cls, anns, true);\n                Class<?> actualClass = obj != actualObject || cls.isInterface() \n                    ? actualObject.getClass() : cls;\n                marshal(actualObject, actualClass, genericType, encoding, os, m, anns);\n            }\n        } catch (JAXBException e) {\n            handleJAXBException(e, true);\n        }  catch (WebApplicationException e) {\n            throw e;\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new WebApplicationException(e);        \n        }\n    }", "signature": "void writeTo(T obj, Class<?> cls, Type genericType, Annotation[] anns,  \n        MediaType m, MultivaluedMap<String, Object> headers, OutputStream os)", "full_signature": "public void writeTo(T obj, Class<?> cls, Type genericType, Annotation[] anns,  \n        MediaType m, MultivaluedMap<String, Object> headers, OutputStream os)", "class_method_signature": "JAXBElementProvider.writeTo(T obj, Class<?> cls, Type genericType, Annotation[] anns,  \n        MediaType m, MultivaluedMap<String, Object> headers, OutputStream os)", "testcase": false, "constructor": false, "invocations": ["getSetEncoding", "isSupportedCollectionOrArray", "marshalCollection", "checkAdapter", "isInterface", "getClass", "marshal", "handleJAXBException", "printStackTrace"]}, "repository": {"repo_id": 6822394, "url": "https://github.com/jerrtop/Java_demo_set", "language": "Java", "is_fork": false, "fork_count": 22, "stargazer_count": 13, "size": 123833, "license": "licensed"}}