{"test_class": {"identifier": "AttributeRepositoryValidationDecoratorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private AttributeRepositoryValidationDecorator attributeRepoValidationDecorator;", "modifier": "private", "type": "AttributeRepositoryValidationDecorator", "declarator": "attributeRepoValidationDecorator", "var_name": "attributeRepoValidationDecorator"}, {"original_string": "private Repository<Attribute> delegateRepository;", "modifier": "private", "type": "Repository<Attribute>", "declarator": "delegateRepository", "var_name": "delegateRepository"}, {"original_string": "private AttributeValidator attributeValidator;", "modifier": "private", "type": "AttributeValidator", "declarator": "attributeValidator", "var_name": "attributeValidator"}], "file": "molgenis-data-validation/src/test/java/org/molgenis/data/validation/meta/AttributeRepositoryValidationDecoratorTest.java"}, "test_case": {"identifier": "updateEntityStreamInvalid", "parameters": "()", "modifiers": "@Test", "return": "void", "body": "@Test\n  void updateEntityStreamInvalid() {\n    Attribute attribute0 = mock(Attribute.class);\n    Attribute attribute1 = mock(Attribute.class);\n    doNothing().when(attributeValidator).validate(attribute0, ValidationMode.UPDATE);\n    doThrow(mock(MolgenisValidationException.class))\n        .when(attributeValidator)\n        .validate(attribute1, ValidationMode.UPDATE);\n    attributeRepoValidationDecorator.update(Stream.of(attribute0, attribute1));\n    @SuppressWarnings(\"unchecked\")\n    ArgumentCaptor<Stream<Attribute>> captor = ArgumentCaptor.forClass(Stream.class);\n    verify(delegateRepository).update(captor.capture());\n    assertThrows(\n        MolgenisValidationException.class,\n        () -> captor.getValue().count()); // process all entities in stream\n  }", "signature": "void updateEntityStreamInvalid()", "full_signature": "@Test void updateEntityStreamInvalid()", "class_method_signature": "AttributeRepositoryValidationDecoratorTest.updateEntityStreamInvalid()", "testcase": true, "constructor": false, "invocations": ["mock", "mock", "validate", "when", "doNothing", "validate", "when", "doThrow", "mock", "update", "of", "forClass", "update", "verify", "capture", "assertThrows", "count", "getValue"]}, "focal_class": {"identifier": "AttributeRepositoryValidationDecorator", "superclass": "extends AbstractRepositoryDecorator<Attribute>", "interfaces": "", "fields": [{"original_string": "private final AttributeValidator attributeValidator;", "modifier": "private final", "type": "AttributeValidator", "declarator": "attributeValidator", "var_name": "attributeValidator"}], "methods": [{"identifier": "AttributeRepositoryValidationDecorator", "parameters": "(\n      Repository<Attribute> delegateRepository, AttributeValidator attributeValidator)", "modifiers": "public", "return": "", "signature": " AttributeRepositoryValidationDecorator(\n      Repository<Attribute> delegateRepository, AttributeValidator attributeValidator)", "full_signature": "public  AttributeRepositoryValidationDecorator(\n      Repository<Attribute> delegateRepository, AttributeValidator attributeValidator)", "class_method_signature": "AttributeRepositoryValidationDecorator.AttributeRepositoryValidationDecorator(\n      Repository<Attribute> delegateRepository, AttributeValidator attributeValidator)", "testcase": false, "constructor": true}, {"identifier": "update", "parameters": "(Attribute attr)", "modifiers": "@Override public", "return": "void", "signature": "void update(Attribute attr)", "full_signature": "@Override public void update(Attribute attr)", "class_method_signature": "AttributeRepositoryValidationDecorator.update(Attribute attr)", "testcase": false, "constructor": false}, {"identifier": "update", "parameters": "(Stream<Attribute> attrs)", "modifiers": "@Override public", "return": "void", "signature": "void update(Stream<Attribute> attrs)", "full_signature": "@Override public void update(Stream<Attribute> attrs)", "class_method_signature": "AttributeRepositoryValidationDecorator.update(Stream<Attribute> attrs)", "testcase": false, "constructor": false}, {"identifier": "add", "parameters": "(Attribute attr)", "modifiers": "@Override public", "return": "void", "signature": "void add(Attribute attr)", "full_signature": "@Override public void add(Attribute attr)", "class_method_signature": "AttributeRepositoryValidationDecorator.add(Attribute attr)", "testcase": false, "constructor": false}, {"identifier": "add", "parameters": "(Stream<Attribute> attrs)", "modifiers": "@Override public", "return": "Integer", "signature": "Integer add(Stream<Attribute> attrs)", "full_signature": "@Override public Integer add(Stream<Attribute> attrs)", "class_method_signature": "AttributeRepositoryValidationDecorator.add(Stream<Attribute> attrs)", "testcase": false, "constructor": false}], "file": "molgenis-data-validation/src/main/java/org/molgenis/data/validation/meta/AttributeRepositoryValidationDecorator.java"}, "focal_method": {"identifier": "update", "parameters": "(Attribute attr)", "modifiers": "@Override public", "return": "void", "body": "@Override\n  public void update(Attribute attr) {\n    attributeValidator.validate(attr, ValidationMode.UPDATE);\n    delegate().update(attr);\n  }", "signature": "void update(Attribute attr)", "full_signature": "@Override public void update(Attribute attr)", "class_method_signature": "AttributeRepositoryValidationDecorator.update(Attribute attr)", "testcase": false, "constructor": false, "invocations": ["validate", "update", "delegate"]}, "repository": {"repo_id": 8010626, "url": "https://github.com/molgenis/molgenis", "language": "Java", "is_fork": false, "fork_count": 96, "stargazer_count": 82, "size": 168771, "license": "licensed"}}