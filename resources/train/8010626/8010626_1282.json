{"test_class": {"identifier": "AttributeFilterToFetchConverterTest", "superclass": "extends AbstractMolgenisSpringTest", "interfaces": "", "fields": [{"original_string": "private static final String ID_ATTR_NAME = \"attrId\";", "modifier": "private static final", "type": "String", "declarator": "ID_ATTR_NAME = \"attrId\"", "var_name": "ID_ATTR_NAME"}, {"original_string": "private static final String LABEL_ATTR_NAME = \"attrLabel\";", "modifier": "private static final", "type": "String", "declarator": "LABEL_ATTR_NAME = \"attrLabel\"", "var_name": "LABEL_ATTR_NAME"}, {"original_string": "private static final String COMPOUND_ATTR_NAME = \"attrCompound\";", "modifier": "private static final", "type": "String", "declarator": "COMPOUND_ATTR_NAME = \"attrCompound\"", "var_name": "COMPOUND_ATTR_NAME"}, {"original_string": "private static final String COMPOUND_PART_ATTR_NAME = \"attrCompoundPart\";", "modifier": "private static final", "type": "String", "declarator": "COMPOUND_PART_ATTR_NAME = \"attrCompoundPart\"", "var_name": "COMPOUND_PART_ATTR_NAME"}, {"original_string": "private static final String COMPOUND_PART_FILE_ATTR_NAME = \"attrCompoundPartFile\";", "modifier": "private static final", "type": "String", "declarator": "COMPOUND_PART_FILE_ATTR_NAME = \"attrCompoundPartFile\"", "var_name": "COMPOUND_PART_FILE_ATTR_NAME"}, {"original_string": "private static final String COMPOUND_PART_COMPOUND_ATTR_NAME = \"attrCompoundPartCompound\";", "modifier": "private static final", "type": "String", "declarator": "COMPOUND_PART_COMPOUND_ATTR_NAME = \"attrCompoundPartCompound\"", "var_name": "COMPOUND_PART_COMPOUND_ATTR_NAME"}, {"original_string": "private static final String COMPOUND_PART_COMPOUND_PART_ATTR_NAME =\n      \"attrCompoundPartCompoundPart\";", "modifier": "private static final", "type": "String", "declarator": "COMPOUND_PART_COMPOUND_PART_ATTR_NAME =\n      \"attrCompoundPartCompoundPart\"", "var_name": "COMPOUND_PART_COMPOUND_PART_ATTR_NAME"}, {"original_string": "private static final String COMPOUND_PART_COMPOUND_PART_ATTR2_NAME =\n      \"attr2CompoundPartCompoundPart\";", "modifier": "private static final", "type": "String", "declarator": "COMPOUND_PART_COMPOUND_PART_ATTR2_NAME =\n      \"attr2CompoundPartCompoundPart\"", "var_name": "COMPOUND_PART_COMPOUND_PART_ATTR2_NAME"}, {"original_string": "private static final String XREF_ATTR_NAME = \"xrefAttr\";", "modifier": "private static final", "type": "String", "declarator": "XREF_ATTR_NAME = \"xrefAttr\"", "var_name": "XREF_ATTR_NAME"}, {"original_string": "private static final String REF_ID_ATTR_NAME = \"refAttrId\";", "modifier": "private static final", "type": "String", "declarator": "REF_ID_ATTR_NAME = \"refAttrId\"", "var_name": "REF_ID_ATTR_NAME"}, {"original_string": "private static final String REF_LABEL_ATTR_NAME = \"refAttrLabel\";", "modifier": "private static final", "type": "String", "declarator": "REF_LABEL_ATTR_NAME = \"refAttrLabel\"", "var_name": "REF_LABEL_ATTR_NAME"}, {"original_string": "private static final String REF_ATTR_NAME = \"refAttr\";", "modifier": "private static final", "type": "String", "declarator": "REF_ATTR_NAME = \"refAttr\"", "var_name": "REF_ATTR_NAME"}, {"original_string": "private EntityType entityType;", "modifier": "private", "type": "EntityType", "declarator": "entityType", "var_name": "entityType"}, {"original_string": "private Attribute labelAttr;", "modifier": "private", "type": "Attribute", "declarator": "labelAttr", "var_name": "labelAttr"}, {"original_string": "private Attribute xrefAttr;", "modifier": "private", "type": "Attribute", "declarator": "xrefAttr", "var_name": "xrefAttr"}, {"original_string": "private EntityType xrefEntityType;", "modifier": "private", "type": "EntityType", "declarator": "xrefEntityType", "var_name": "xrefEntityType"}, {"original_string": "private EntityType selfRefEntityType;", "modifier": "private", "type": "EntityType", "declarator": "selfRefEntityType", "var_name": "selfRefEntityType"}, {"original_string": "@Autowired private EntityTypeFactory entityTypeFactory;", "modifier": "@Autowired private", "type": "EntityTypeFactory", "declarator": "entityTypeFactory", "var_name": "entityTypeFactory"}, {"original_string": "@Autowired private AttributeFactory attributeFactory;", "modifier": "@Autowired private", "type": "AttributeFactory", "declarator": "attributeFactory", "var_name": "attributeFactory"}, {"original_string": "@Autowired private FileMetaMetadata fileMetaMeta;", "modifier": "@Autowired private", "type": "FileMetaMetadata", "declarator": "fileMetaMeta", "var_name": "fileMetaMeta"}], "file": "molgenis-api-data/src/test/java/org/molgenis/api/data/v2/AttributeFilterToFetchConverterTest.java"}, "test_case": {"identifier": "testConvertDoubleNestedSelfRef", "parameters": "()", "modifiers": "@Test", "return": "void", "body": "@Test\n  void testConvertDoubleNestedSelfRef() {\n    AttributeFilter filter =\n        new AttributeFilter()\n            .setIncludeIdAttr(true)\n            .setIncludeLabelAttr(true)\n            .add(\n                \"selfRef\",\n                new AttributeFilter()\n                    .setIncludeAllAttrs(true)\n                    .add(\"selfRef\", new AttributeFilter().setIncludeAllAttrs(true)));\n    Fetch fetch = AttributeFilterToFetchConverter.convert(filter, selfRefEntityType, \"en\");\n    assertEquals(\n        new Fetch()\n            .field(\"id\")\n            .field(\"label\")\n            .field(\n                \"selfRef\",\n                new Fetch()\n                    .field(\"id\")\n                    .field(\"label\")\n                    .field(\n                        \"selfRef\",\n                        new Fetch()\n                            .field(\"id\")\n                            .field(\"label\")\n                            .field(\"selfRef\", new Fetch().field(\"id\").field(\"label\")))),\n        fetch);\n  }", "signature": "void testConvertDoubleNestedSelfRef()", "full_signature": "@Test void testConvertDoubleNestedSelfRef()", "class_method_signature": "AttributeFilterToFetchConverterTest.testConvertDoubleNestedSelfRef()", "testcase": true, "constructor": false, "invocations": ["add", "setIncludeLabelAttr", "setIncludeIdAttr", "add", "setIncludeAllAttrs", "setIncludeAllAttrs", "convert", "assertEquals", "field", "field", "field", "field", "field", "field", "field", "field", "field", "field", "field"]}, "focal_class": {"identifier": "AttributeFilterToFetchConverter", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "AttributeFilterToFetchConverter", "parameters": "()", "modifiers": "private", "return": "", "signature": " AttributeFilterToFetchConverter()", "full_signature": "private  AttributeFilterToFetchConverter()", "class_method_signature": "AttributeFilterToFetchConverter.AttributeFilterToFetchConverter()", "testcase": false, "constructor": true}, {"identifier": "convert", "parameters": "(\n      AttributeFilter attrFilter, EntityType entityType, String languageCode)", "modifiers": "public static", "return": "Fetch", "signature": "Fetch convert(\n      AttributeFilter attrFilter, EntityType entityType, String languageCode)", "full_signature": "public static Fetch convert(\n      AttributeFilter attrFilter, EntityType entityType, String languageCode)", "class_method_signature": "AttributeFilterToFetchConverter.convert(\n      AttributeFilter attrFilter, EntityType entityType, String languageCode)", "testcase": false, "constructor": false}, {"identifier": "createFetchContentRec", "parameters": "(\n      AttributeFilter attrFilter, EntityType entityType, Fetch fetch, String languageCode)", "modifiers": "private static", "return": "void", "signature": "void createFetchContentRec(\n      AttributeFilter attrFilter, EntityType entityType, Fetch fetch, String languageCode)", "full_signature": "private static void createFetchContentRec(\n      AttributeFilter attrFilter, EntityType entityType, Fetch fetch, String languageCode)", "class_method_signature": "AttributeFilterToFetchConverter.createFetchContentRec(\n      AttributeFilter attrFilter, EntityType entityType, Fetch fetch, String languageCode)", "testcase": false, "constructor": false}, {"identifier": "createFetchContentRec", "parameters": "(\n      AttributeFilter attrFilter,\n      EntityType entityType,\n      Attribute attr,\n      Fetch fetch,\n      String languageCode)", "modifiers": "private static", "return": "void", "signature": "void createFetchContentRec(\n      AttributeFilter attrFilter,\n      EntityType entityType,\n      Attribute attr,\n      Fetch fetch,\n      String languageCode)", "full_signature": "private static void createFetchContentRec(\n      AttributeFilter attrFilter,\n      EntityType entityType,\n      Attribute attr,\n      Fetch fetch,\n      String languageCode)", "class_method_signature": "AttributeFilterToFetchConverter.createFetchContentRec(\n      AttributeFilter attrFilter,\n      EntityType entityType,\n      Attribute attr,\n      Fetch fetch,\n      String languageCode)", "testcase": false, "constructor": false}, {"identifier": "createReferenceFetchContentRec", "parameters": "(\n      AttributeFilter attrFilter,\n      EntityType entityType,\n      Attribute attr,\n      Fetch fetch,\n      String languageCode)", "modifiers": "private static", "return": "void", "signature": "void createReferenceFetchContentRec(\n      AttributeFilter attrFilter,\n      EntityType entityType,\n      Attribute attr,\n      Fetch fetch,\n      String languageCode)", "full_signature": "private static void createReferenceFetchContentRec(\n      AttributeFilter attrFilter,\n      EntityType entityType,\n      Attribute attr,\n      Fetch fetch,\n      String languageCode)", "class_method_signature": "AttributeFilterToFetchConverter.createReferenceFetchContentRec(\n      AttributeFilter attrFilter,\n      EntityType entityType,\n      Attribute attr,\n      Fetch fetch,\n      String languageCode)", "testcase": false, "constructor": false}, {"identifier": "createCompoundFetchContentRec", "parameters": "(\n      AttributeFilter attrFilter,\n      EntityType entityType,\n      Attribute attr,\n      Fetch fetch,\n      String languageCode)", "modifiers": "private static", "return": "void", "signature": "void createCompoundFetchContentRec(\n      AttributeFilter attrFilter,\n      EntityType entityType,\n      Attribute attr,\n      Fetch fetch,\n      String languageCode)", "full_signature": "private static void createCompoundFetchContentRec(\n      AttributeFilter attrFilter,\n      EntityType entityType,\n      Attribute attr,\n      Fetch fetch,\n      String languageCode)", "class_method_signature": "AttributeFilterToFetchConverter.createCompoundFetchContentRec(\n      AttributeFilter attrFilter,\n      EntityType entityType,\n      Attribute attr,\n      Fetch fetch,\n      String languageCode)", "testcase": false, "constructor": false}, {"identifier": "getAttribute", "parameters": "(EntityType entityType, String attrName)", "modifiers": "private static", "return": "Attribute", "signature": "Attribute getAttribute(EntityType entityType, String attrName)", "full_signature": "private static Attribute getAttribute(EntityType entityType, String attrName)", "class_method_signature": "AttributeFilterToFetchConverter.getAttribute(EntityType entityType, String attrName)", "testcase": false, "constructor": false}, {"identifier": "createDefaultEntityFetch", "parameters": "(EntityType entityType, String languageCode)", "modifiers": "public static", "return": "Fetch", "signature": "Fetch createDefaultEntityFetch(EntityType entityType, String languageCode)", "full_signature": "public static Fetch createDefaultEntityFetch(EntityType entityType, String languageCode)", "class_method_signature": "AttributeFilterToFetchConverter.createDefaultEntityFetch(EntityType entityType, String languageCode)", "testcase": false, "constructor": false}, {"identifier": "createDefaultAttributeFetch", "parameters": "(Attribute attr, String languageCode)", "modifiers": "public static", "return": "Fetch", "signature": "Fetch createDefaultAttributeFetch(Attribute attr, String languageCode)", "full_signature": "public static Fetch createDefaultAttributeFetch(Attribute attr, String languageCode)", "class_method_signature": "AttributeFilterToFetchConverter.createDefaultAttributeFetch(Attribute attr, String languageCode)", "testcase": false, "constructor": false}], "file": "molgenis-api-data/src/main/java/org/molgenis/api/data/v2/AttributeFilterToFetchConverter.java"}, "focal_method": {"identifier": "convert", "parameters": "(\n      AttributeFilter attrFilter, EntityType entityType, String languageCode)", "modifiers": "public static", "return": "Fetch", "body": "public static Fetch convert(\n      AttributeFilter attrFilter, EntityType entityType, String languageCode) {\n    if (attrFilter == null || attrFilter.isStar()) {\n      return createDefaultEntityFetch(entityType, languageCode);\n    }\n\n    Fetch fetch = new Fetch();\n    createFetchContentRec(attrFilter, entityType, fetch, languageCode);\n    return fetch;\n  }", "signature": "Fetch convert(\n      AttributeFilter attrFilter, EntityType entityType, String languageCode)", "full_signature": "public static Fetch convert(\n      AttributeFilter attrFilter, EntityType entityType, String languageCode)", "class_method_signature": "AttributeFilterToFetchConverter.convert(\n      AttributeFilter attrFilter, EntityType entityType, String languageCode)", "testcase": false, "constructor": false, "invocations": ["isStar", "createDefaultEntityFetch", "createFetchContentRec"]}, "repository": {"repo_id": 8010626, "url": "https://github.com/molgenis/molgenis", "language": "Java", "is_fork": false, "fork_count": 96, "stargazer_count": 82, "size": 168771, "license": "licensed"}}