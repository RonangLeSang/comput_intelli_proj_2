{"test_class": {"identifier": "BasicAuthenticatorResourceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String AUTHENTICATOR_NAME = \"AUTHENTICATOR_NAME\";", "modifier": "private static final", "type": "String", "declarator": "AUTHENTICATOR_NAME = \"AUTHENTICATOR_NAME\"", "var_name": "AUTHENTICATOR_NAME"}, {"original_string": "private static final String INVALID_AUTHENTICATOR_NAME = \"INVALID_AUTHENTICATOR_NAME\";", "modifier": "private static final", "type": "String", "declarator": "INVALID_AUTHENTICATOR_NAME = \"INVALID_AUTHENTICATOR_NAME\"", "var_name": "INVALID_AUTHENTICATOR_NAME"}, {"original_string": "private static final String USER_NAME = \"USER_NAME\";", "modifier": "private static final", "type": "String", "declarator": "USER_NAME = \"USER_NAME\"", "var_name": "USER_NAME"}, {"original_string": "private static final byte[] SERIALIZED_USER_MAP = \"SERIALIZED_USER_MAP\".getBytes(StandardCharsets.UTF_8);", "modifier": "private static final", "type": "byte[]", "declarator": "SERIALIZED_USER_MAP = \"SERIALIZED_USER_MAP\".getBytes(StandardCharsets.UTF_8)", "var_name": "SERIALIZED_USER_MAP"}, {"original_string": "@Mock(answer = Answers.RETURNS_MOCKS)\n  private BasicAuthenticatorResourceHandler handler;", "modifier": "@Mock(answer = Answers.RETURNS_MOCKS)\n  private", "type": "BasicAuthenticatorResourceHandler", "declarator": "handler", "var_name": "handler"}, {"original_string": "@Mock\n  private AuthValidator authValidator;", "modifier": "@Mock\n  private", "type": "AuthValidator", "declarator": "authValidator", "var_name": "authValidator"}, {"original_string": "@Mock\n  private HttpServletRequest req;", "modifier": "@Mock\n  private", "type": "HttpServletRequest", "declarator": "req", "var_name": "req"}, {"original_string": "@Mock\n  private BasicAuthenticatorCredentialUpdate update;", "modifier": "@Mock\n  private", "type": "BasicAuthenticatorCredentialUpdate", "declarator": "update", "var_name": "update"}, {"original_string": "private BasicAuthenticatorResource target;", "modifier": "private", "type": "BasicAuthenticatorResource", "declarator": "target", "var_name": "target"}], "file": "extensions-core/druid-basic-security/src/test/java/org/apache/druid/security/basic/authentication/endpoint/BasicAuthenticatorResourceTest.java"}, "test_case": {"identifier": "updateUserCredentialsShouldReturnExpectedResponse", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void updateUserCredentialsShouldReturnExpectedResponse()\n  {\n    Assert.assertNotNull(target.updateUserCredentials(req, AUTHENTICATOR_NAME, USER_NAME, update));\n  }", "signature": "void updateUserCredentialsShouldReturnExpectedResponse()", "full_signature": "@Test public void updateUserCredentialsShouldReturnExpectedResponse()", "class_method_signature": "BasicAuthenticatorResourceTest.updateUserCredentialsShouldReturnExpectedResponse()", "testcase": true, "constructor": false, "invocations": ["assertNotNull", "updateUserCredentials"]}, "focal_class": {"identifier": "BasicAuthenticatorResource", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final BasicAuthenticatorResourceHandler handler;", "modifier": "private final", "type": "BasicAuthenticatorResourceHandler", "declarator": "handler", "var_name": "handler"}, {"original_string": "private final AuthValidator authValidator;", "modifier": "private final", "type": "AuthValidator", "declarator": "authValidator", "var_name": "authValidator"}], "methods": [{"identifier": "BasicAuthenticatorResource", "parameters": "(\n      BasicAuthenticatorResourceHandler handler,\n      AuthValidator authValidator\n  )", "modifiers": "@Inject public", "return": "", "signature": " BasicAuthenticatorResource(\n      BasicAuthenticatorResourceHandler handler,\n      AuthValidator authValidator\n  )", "full_signature": "@Inject public  BasicAuthenticatorResource(\n      BasicAuthenticatorResourceHandler handler,\n      AuthValidator authValidator\n  )", "class_method_signature": "BasicAuthenticatorResource.BasicAuthenticatorResource(\n      BasicAuthenticatorResourceHandler handler,\n      AuthValidator authValidator\n  )", "testcase": false, "constructor": true}, {"identifier": "getLoadStatus", "parameters": "(\n      @Context HttpServletRequest req\n  )", "modifiers": "@GET @Path(\"/loadStatus\") @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public", "return": "Response", "signature": "Response getLoadStatus(\n      @Context HttpServletRequest req\n  )", "full_signature": "@GET @Path(\"/loadStatus\") @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public Response getLoadStatus(\n      @Context HttpServletRequest req\n  )", "class_method_signature": "BasicAuthenticatorResource.getLoadStatus(\n      @Context HttpServletRequest req\n  )", "testcase": false, "constructor": false}, {"identifier": "refreshAll", "parameters": "(\n      @Context HttpServletRequest req\n  )", "modifiers": "@GET @Path(\"/refreshAll\") @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public", "return": "Response", "signature": "Response refreshAll(\n      @Context HttpServletRequest req\n  )", "full_signature": "@GET @Path(\"/refreshAll\") @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public Response refreshAll(\n      @Context HttpServletRequest req\n  )", "class_method_signature": "BasicAuthenticatorResource.refreshAll(\n      @Context HttpServletRequest req\n  )", "testcase": false, "constructor": false}, {"identifier": "getAllUsers", "parameters": "(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName\n  )", "modifiers": "@GET @Path(\"/db/{authenticatorName}/users\") @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public", "return": "Response", "signature": "Response getAllUsers(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName\n  )", "full_signature": "@GET @Path(\"/db/{authenticatorName}/users\") @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public Response getAllUsers(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName\n  )", "class_method_signature": "BasicAuthenticatorResource.getAllUsers(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName\n  )", "testcase": false, "constructor": false}, {"identifier": "getUser", "parameters": "(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") final String userName\n  )", "modifiers": "@GET @Path(\"/db/{authenticatorName}/users/{userName}\") @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public", "return": "Response", "signature": "Response getUser(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") final String userName\n  )", "full_signature": "@GET @Path(\"/db/{authenticatorName}/users/{userName}\") @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public Response getUser(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") final String userName\n  )", "class_method_signature": "BasicAuthenticatorResource.getUser(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") final String userName\n  )", "testcase": false, "constructor": false}, {"identifier": "createUser", "parameters": "(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") String userName\n  )", "modifiers": "@POST @Path(\"/db/{authenticatorName}/users/{userName}\") @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public", "return": "Response", "signature": "Response createUser(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") String userName\n  )", "full_signature": "@POST @Path(\"/db/{authenticatorName}/users/{userName}\") @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public Response createUser(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") String userName\n  )", "class_method_signature": "BasicAuthenticatorResource.createUser(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") String userName\n  )", "testcase": false, "constructor": false}, {"identifier": "deleteUser", "parameters": "(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") String userName\n  )", "modifiers": "@DELETE @Path(\"/db/{authenticatorName}/users/{userName}\") @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public", "return": "Response", "signature": "Response deleteUser(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") String userName\n  )", "full_signature": "@DELETE @Path(\"/db/{authenticatorName}/users/{userName}\") @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public Response deleteUser(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") String userName\n  )", "class_method_signature": "BasicAuthenticatorResource.deleteUser(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") String userName\n  )", "testcase": false, "constructor": false}, {"identifier": "updateUserCredentials", "parameters": "(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") String userName,\n      BasicAuthenticatorCredentialUpdate update\n  )", "modifiers": "@POST @Path(\"/db/{authenticatorName}/users/{userName}/credentials\") @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public", "return": "Response", "signature": "Response updateUserCredentials(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") String userName,\n      BasicAuthenticatorCredentialUpdate update\n  )", "full_signature": "@POST @Path(\"/db/{authenticatorName}/users/{userName}/credentials\") @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public Response updateUserCredentials(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") String userName,\n      BasicAuthenticatorCredentialUpdate update\n  )", "class_method_signature": "BasicAuthenticatorResource.updateUserCredentials(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") String userName,\n      BasicAuthenticatorCredentialUpdate update\n  )", "testcase": false, "constructor": false}, {"identifier": "getCachedSerializedUserMap", "parameters": "(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName\n  )", "modifiers": "@GET @Path(\"/db/{authenticatorName}/cachedSerializedUserMap\") @Produces(SmileMediaTypes.APPLICATION_JACKSON_SMILE) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public", "return": "Response", "signature": "Response getCachedSerializedUserMap(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName\n  )", "full_signature": "@GET @Path(\"/db/{authenticatorName}/cachedSerializedUserMap\") @Produces(SmileMediaTypes.APPLICATION_JACKSON_SMILE) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public Response getCachedSerializedUserMap(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName\n  )", "class_method_signature": "BasicAuthenticatorResource.getCachedSerializedUserMap(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName\n  )", "testcase": false, "constructor": false}, {"identifier": "authenticatorUpdateListener", "parameters": "(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      byte[] serializedUserMap\n  )", "modifiers": "@POST @Path(\"/listen/{authenticatorName}\") @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public", "return": "Response", "signature": "Response authenticatorUpdateListener(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      byte[] serializedUserMap\n  )", "full_signature": "@POST @Path(\"/listen/{authenticatorName}\") @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public Response authenticatorUpdateListener(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      byte[] serializedUserMap\n  )", "class_method_signature": "BasicAuthenticatorResource.authenticatorUpdateListener(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      byte[] serializedUserMap\n  )", "testcase": false, "constructor": false}], "file": "extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/endpoint/BasicAuthenticatorResource.java"}, "focal_method": {"identifier": "updateUserCredentials", "parameters": "(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") String userName,\n      BasicAuthenticatorCredentialUpdate update\n  )", "modifiers": "@POST @Path(\"/db/{authenticatorName}/users/{userName}/credentials\") @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public", "return": "Response", "body": "@POST\n  @Path(\"/db/{authenticatorName}/users/{userName}/credentials\")\n  @Produces(MediaType.APPLICATION_JSON)\n  @Consumes(MediaType.APPLICATION_JSON)\n  @ResourceFilters(BasicSecurityResourceFilter.class)\n  public Response updateUserCredentials(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") String userName,\n      BasicAuthenticatorCredentialUpdate update\n  )\n  {\n    authValidator.validateAuthenticatorName(authenticatorName);\n    return handler.updateUserCredentials(authenticatorName, userName, update);\n  }", "signature": "Response updateUserCredentials(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") String userName,\n      BasicAuthenticatorCredentialUpdate update\n  )", "full_signature": "@POST @Path(\"/db/{authenticatorName}/users/{userName}/credentials\") @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ResourceFilters(BasicSecurityResourceFilter.class) public Response updateUserCredentials(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") String userName,\n      BasicAuthenticatorCredentialUpdate update\n  )", "class_method_signature": "BasicAuthenticatorResource.updateUserCredentials(\n      @Context HttpServletRequest req,\n      @PathParam(\"authenticatorName\") final String authenticatorName,\n      @PathParam(\"userName\") String userName,\n      BasicAuthenticatorCredentialUpdate update\n  )", "testcase": false, "constructor": false, "invocations": ["validateAuthenticatorName", "updateUserCredentials"]}, "repository": {"repo_id": 6358188, "url": "https://github.com/apache/druid", "stars": 9116, "created": "10/23/2012 7:08:07 PM +00:00", "updates": "2020-01-27T21:36:20+00:00", "fork": "False", "license": "licensed"}}