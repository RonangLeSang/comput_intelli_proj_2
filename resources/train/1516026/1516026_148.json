{"test_class": {"identifier": "ValidationServiceImplTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private ValidationService validationService;", "modifier": "private", "type": "ValidationService", "declarator": "validationService", "var_name": "validationService"}, {"original_string": "private Entity genericEntity;", "modifier": "private", "type": "Entity", "declarator": "genericEntity", "var_name": "genericEntity"}, {"original_string": "private Entity existingGenericEntity;", "modifier": "private", "type": "Entity", "declarator": "existingGenericEntity", "var_name": "existingGenericEntity"}, {"original_string": "private InternalDataDefinition dataDefinition;", "modifier": "private", "type": "InternalDataDefinition", "declarator": "dataDefinition", "var_name": "dataDefinition"}], "file": "qcadoo-model/src/test/java/com/qcadoo/model/internal/ValidationServiceImplTest.java"}, "test_case": {"identifier": "shouldCallUpdateAndSaveHooks", "parameters": "()", "modifiers": "@Test public final", "return": "void", "body": "@Test\n    public final void shouldCallUpdateAndSaveHooks() throws Exception {\n        // given\n        when(genericEntity.getId()).thenReturn(1L);\n\n        // when\n        validationService.validateGenericEntity(dataDefinition, genericEntity, existingGenericEntity);\n\n        // then\n        verify(dataDefinition).callUpdateHook(genericEntity);\n        verify(dataDefinition).callSaveHook(genericEntity);\n    }", "signature": "void shouldCallUpdateAndSaveHooks()", "full_signature": "@Test public final void shouldCallUpdateAndSaveHooks()", "class_method_signature": "ValidationServiceImplTest.shouldCallUpdateAndSaveHooks()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "getId", "validateGenericEntity", "callUpdateHook", "verify", "callSaveHook", "verify"]}, "focal_class": {"identifier": "ValidationServiceImpl", "superclass": "", "interfaces": "implements ValidationService", "fields": [], "methods": [{"identifier": "validateGenericEntity", "parameters": "(final InternalDataDefinition dataDefinition, final Entity genericEntity,\n            final Entity existingGenericEntity)", "modifiers": "@Override public", "return": "void", "signature": "void validateGenericEntity(final InternalDataDefinition dataDefinition, final Entity genericEntity,\n            final Entity existingGenericEntity)", "full_signature": "@Override public void validateGenericEntity(final InternalDataDefinition dataDefinition, final Entity genericEntity,\n            final Entity existingGenericEntity)", "class_method_signature": "ValidationServiceImpl.validateGenericEntity(final InternalDataDefinition dataDefinition, final Entity genericEntity,\n            final Entity existingGenericEntity)", "testcase": false, "constructor": false}, {"identifier": "copyReadOnlyAndMissingFields", "parameters": "(final InternalDataDefinition dataDefinition, final Entity genericEntity,\n            final Entity existingGenericEntity)", "modifiers": "private", "return": "void", "signature": "void copyReadOnlyAndMissingFields(final InternalDataDefinition dataDefinition, final Entity genericEntity,\n            final Entity existingGenericEntity)", "full_signature": "private void copyReadOnlyAndMissingFields(final InternalDataDefinition dataDefinition, final Entity genericEntity,\n            final Entity existingGenericEntity)", "class_method_signature": "ValidationServiceImpl.copyReadOnlyAndMissingFields(final InternalDataDefinition dataDefinition, final Entity genericEntity,\n            final Entity existingGenericEntity)", "testcase": false, "constructor": false}, {"identifier": "parseFields", "parameters": "(final InternalDataDefinition dataDefinition, final Entity genericEntity)", "modifiers": "private", "return": "void", "signature": "void parseFields(final InternalDataDefinition dataDefinition, final Entity genericEntity)", "full_signature": "private void parseFields(final InternalDataDefinition dataDefinition, final Entity genericEntity)", "class_method_signature": "ValidationServiceImpl.parseFields(final InternalDataDefinition dataDefinition, final Entity genericEntity)", "testcase": false, "constructor": false}, {"identifier": "parseBelongsToField", "parameters": "(final InternalFieldDefinition fieldDefinition, final Object value,\n            final Entity validatedEntity)", "modifiers": "private", "return": "Object", "signature": "Object parseBelongsToField(final InternalFieldDefinition fieldDefinition, final Object value,\n            final Entity validatedEntity)", "full_signature": "private Object parseBelongsToField(final InternalFieldDefinition fieldDefinition, final Object value,\n            final Entity validatedEntity)", "class_method_signature": "ValidationServiceImpl.parseBelongsToField(final InternalFieldDefinition fieldDefinition, final Object value,\n            final Entity validatedEntity)", "testcase": false, "constructor": false}, {"identifier": "parseAndValidateEntity", "parameters": "(final InternalDataDefinition dataDefinition, final Entity genericEntity,\n            final Entity existingGenericEntity)", "modifiers": "private", "return": "void", "signature": "void parseAndValidateEntity(final InternalDataDefinition dataDefinition, final Entity genericEntity,\n            final Entity existingGenericEntity)", "full_signature": "private void parseAndValidateEntity(final InternalDataDefinition dataDefinition, final Entity genericEntity,\n            final Entity existingGenericEntity)", "class_method_signature": "ValidationServiceImpl.parseAndValidateEntity(final InternalDataDefinition dataDefinition, final Entity genericEntity,\n            final Entity existingGenericEntity)", "testcase": false, "constructor": false}, {"identifier": "getOldFieldValue", "parameters": "(final Entity existingEntityOrNull, final String fieldName)", "modifiers": "private", "return": "Object", "signature": "Object getOldFieldValue(final Entity existingEntityOrNull, final String fieldName)", "full_signature": "private Object getOldFieldValue(final Entity existingEntityOrNull, final String fieldName)", "class_method_signature": "ValidationServiceImpl.getOldFieldValue(final Entity existingEntityOrNull, final String fieldName)", "testcase": false, "constructor": false}, {"identifier": "parseFieldValue", "parameters": "(final InternalFieldDefinition fieldDefinition, final Object value, final Entity validatedEntity)", "modifiers": "private", "return": "Object", "signature": "Object parseFieldValue(final InternalFieldDefinition fieldDefinition, final Object value, final Entity validatedEntity)", "full_signature": "private Object parseFieldValue(final InternalFieldDefinition fieldDefinition, final Object value, final Entity validatedEntity)", "class_method_signature": "ValidationServiceImpl.parseFieldValue(final InternalFieldDefinition fieldDefinition, final Object value, final Entity validatedEntity)", "testcase": false, "constructor": false}, {"identifier": "parseAndValidateField", "parameters": "(final InternalFieldDefinition fieldDefinition, final Object oldValue,\n            final Object newValue, final Entity validatedEntity)", "modifiers": "private", "return": "Object", "signature": "Object parseAndValidateField(final InternalFieldDefinition fieldDefinition, final Object oldValue,\n            final Object newValue, final Entity validatedEntity)", "full_signature": "private Object parseAndValidateField(final InternalFieldDefinition fieldDefinition, final Object oldValue,\n            final Object newValue, final Entity validatedEntity)", "class_method_signature": "ValidationServiceImpl.parseAndValidateField(final InternalFieldDefinition fieldDefinition, final Object oldValue,\n            final Object newValue, final Entity validatedEntity)", "testcase": false, "constructor": false}, {"identifier": "trimAndNullIfEmpty", "parameters": "(final Object value)", "modifiers": "private", "return": "Object", "signature": "Object trimAndNullIfEmpty(final Object value)", "full_signature": "private Object trimAndNullIfEmpty(final Object value)", "class_method_signature": "ValidationServiceImpl.trimAndNullIfEmpty(final Object value)", "testcase": false, "constructor": false}, {"identifier": "validateEntityAgainstVersion", "parameters": "(final Entity databaseEntity, final Entity entity, final DataDefinition dataDefinition)", "modifiers": "private", "return": "void", "signature": "void validateEntityAgainstVersion(final Entity databaseEntity, final Entity entity, final DataDefinition dataDefinition)", "full_signature": "private void validateEntityAgainstVersion(final Entity databaseEntity, final Entity entity, final DataDefinition dataDefinition)", "class_method_signature": "ValidationServiceImpl.validateEntityAgainstVersion(final Entity databaseEntity, final Entity entity, final DataDefinition dataDefinition)", "testcase": false, "constructor": false}], "file": "qcadoo-model/src/main/java/com/qcadoo/model/internal/ValidationServiceImpl.java"}, "focal_method": {"identifier": "validateGenericEntity", "parameters": "(final InternalDataDefinition dataDefinition, final Entity genericEntity,\n            final Entity existingGenericEntity)", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void validateGenericEntity(final InternalDataDefinition dataDefinition, final Entity genericEntity,\n            final Entity existingGenericEntity) {\n\n        validateEntityAgainstVersion(existingGenericEntity, genericEntity, dataDefinition);\n        copyReadOnlyAndMissingFields(dataDefinition, genericEntity, existingGenericEntity);\n        parseFields(dataDefinition, genericEntity);\n\n        if (genericEntity.getId() == null) {\n            dataDefinition.callCreateHook(genericEntity);\n            parseAndValidateEntity(dataDefinition, genericEntity, existingGenericEntity);\n        } else {\n            parseAndValidateEntity(dataDefinition, genericEntity, existingGenericEntity);\n            dataDefinition.callUpdateHook(genericEntity);\n        }\n        dataDefinition.callSaveHook(genericEntity);\n    }", "signature": "void validateGenericEntity(final InternalDataDefinition dataDefinition, final Entity genericEntity,\n            final Entity existingGenericEntity)", "full_signature": "@Override public void validateGenericEntity(final InternalDataDefinition dataDefinition, final Entity genericEntity,\n            final Entity existingGenericEntity)", "class_method_signature": "ValidationServiceImpl.validateGenericEntity(final InternalDataDefinition dataDefinition, final Entity genericEntity,\n            final Entity existingGenericEntity)", "testcase": false, "constructor": false, "invocations": ["validateEntityAgainstVersion", "copyReadOnlyAndMissingFields", "parseFields", "getId", "callCreateHook", "parseAndValidateEntity", "parseAndValidateEntity", "callUpdateHook", "callSaveHook"]}, "repository": {"repo_id": 1516026, "url": "https://github.com/qcadoo/qcadoo", "stars": 47, "created": "3/23/2011 12:07:38 PM +00:00", "updates": "2020-01-24T13:11:14+00:00", "fork": "False", "license": "licensed"}}