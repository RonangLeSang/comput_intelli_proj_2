{"test_class": {"identifier": "UserFormTest", "superclass": "extends BasePageTestCase", "interfaces": "", "fields": [{"original_string": "private UserForm bean;", "modifier": "private", "type": "UserForm", "declarator": "bean", "var_name": "bean"}, {"original_string": "@Autowired\n    private UserManager userManager;", "modifier": "@Autowired\n    private", "type": "UserManager", "declarator": "userManager", "var_name": "userManager"}], "file": "jsf/src/test/java/org/appfuse/webapp/action/UserFormTest.java"}, "test_case": {"identifier": "testSave", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testSave() throws Exception {\n        bean.setId(\"-1\");\n        bean.edit();\n        assertNotNull(bean.getUser());\n        bean.getUser().setFirstName(\"Jack\");\n\n        assertEquals(bean.save(), \"success\");\n        assertNotNull(bean.getUser());\n    }", "signature": "void testSave()", "full_signature": "@Test public void testSave()", "class_method_signature": "UserFormTest.testSave()", "testcase": true, "constructor": false, "invocations": ["setId", "edit", "assertNotNull", "getUser", "setFirstName", "getUser", "assertEquals", "save", "assertNotNull", "getUser"]}, "focal_class": {"identifier": "UserForm", "superclass": "extends BasePage", "interfaces": "", "fields": [{"original_string": "private String id;", "modifier": "private", "type": "String", "declarator": "id", "var_name": "id"}, {"original_string": "public User user = new User();", "modifier": "public", "type": "User", "declarator": "user = new User()", "var_name": "user"}, {"original_string": "public transient UserManager userManager;", "modifier": "public transient", "type": "UserManager", "declarator": "userManager", "var_name": "userManager"}], "methods": [{"identifier": "setUserManager", "parameters": "(UserManager userManager)", "modifiers": "@Autowired public", "return": "void", "signature": "void setUserManager(UserManager userManager)", "full_signature": "@Autowired public void setUserManager(UserManager userManager)", "class_method_signature": "UserForm.setUserManager(UserManager userManager)", "testcase": false, "constructor": false}, {"identifier": "getId", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getId()", "full_signature": "public String getId()", "class_method_signature": "UserForm.getId()", "testcase": false, "constructor": false}, {"identifier": "setId", "parameters": "(String id)", "modifiers": "public", "return": "void", "signature": "void setId(String id)", "full_signature": "public void setId(String id)", "class_method_signature": "UserForm.setId(String id)", "testcase": false, "constructor": false}, {"identifier": "getUser", "parameters": "()", "modifiers": "public", "return": "User", "signature": "User getUser()", "full_signature": "public User getUser()", "class_method_signature": "UserForm.getUser()", "testcase": false, "constructor": false}, {"identifier": "setUser", "parameters": "(User user)", "modifiers": "public", "return": "void", "signature": "void setUser(User user)", "full_signature": "public void setUser(User user)", "class_method_signature": "UserForm.setUser(User user)", "testcase": false, "constructor": false}, {"identifier": "edit", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String edit()", "full_signature": "public String edit()", "class_method_signature": "UserForm.edit()", "testcase": false, "constructor": false}, {"identifier": "save", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String save()", "full_signature": "public String save()", "class_method_signature": "UserForm.save()", "testcase": false, "constructor": false}, {"identifier": "delete", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String delete()", "full_signature": "public String delete()", "class_method_signature": "UserForm.delete()", "testcase": false, "constructor": false}], "file": "jsf/src/main/java/org/appfuse/webapp/action/UserForm.java"}, "focal_method": {"identifier": "save", "parameters": "()", "modifiers": "public", "return": "String", "body": "public String save() {\n        // For some reason, WebTest + Tomcat causes version to be 0. Works fine on Jetty.\n        if (user.getId() != null && user.getId() == 0) {\n            user.setId(null);\n        }\n\n        if (user.getId() == null) {\n            user.setVersion(null);\n        }\n\n        try {\n            userManager.saveUser(user);\n        } catch (UserExistsException uex) {\n            addError(\"user.exists\");\n            return \"error\";\n        }\n\n        addMessage(\"user.saved\", user.getFullName());\n\n        return \"success\";\n    }", "signature": "String save()", "full_signature": "public String save()", "class_method_signature": "UserForm.save()", "testcase": false, "constructor": false, "invocations": ["getId", "getId", "setId", "getId", "setVersion", "saveUser", "addError", "addMessage", "getFullName"]}, "repository": {"repo_id": 4757131, "url": "https://github.com/appfuse/appfuse-light", "language": "Java", "is_fork": false, "fork_count": 22, "stargazer_count": 21, "size": 15924, "license": "licensed"}}