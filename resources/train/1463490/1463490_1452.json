{"test_class": {"identifier": "ExtendedMimeMessageTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String XMAIL_TYPE_HEADER = \"X-MailType\";", "modifier": "private static final", "type": "String", "declarator": "XMAIL_TYPE_HEADER = \"X-MailType\"", "var_name": "XMAIL_TYPE_HEADER"}, {"original_string": "private static final String TEST_XMAIL_TYPE = \"MyType\";", "modifier": "private static final", "type": "String", "declarator": "TEST_XMAIL_TYPE = \"MyType\"", "var_name": "TEST_XMAIL_TYPE"}, {"original_string": "private static final String TEST_MESSAGE_ID = \"messageId\";", "modifier": "private static final", "type": "String", "declarator": "TEST_MESSAGE_ID = \"messageId\"", "var_name": "TEST_MESSAGE_ID"}, {"original_string": "private static final String TEST_CONTENT = \"Content\";", "modifier": "private static final", "type": "String", "declarator": "TEST_CONTENT = \"Content\"", "var_name": "TEST_CONTENT"}], "file": "xwiki-platform-core/xwiki-platform-mail/xwiki-platform-mail-send/xwiki-platform-mail-send-api/src/test/java/org/xwiki/mail/ExtendedMimeMessageTest.java"}, "test_case": {"identifier": "getTypeWhenException", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getTypeWhenException()\n    {\n        Throwable exception = assertThrows(RuntimeException.class, () -> {\n            ExtendedMimeMessage message = new ThrowingeExtendedMimeMessage();\n            message.getType();\n        });\n        assertEquals(\"Failed to get Type header\", exception.getMessage());\n        assertEquals(\"MessagingException: error\", ExceptionUtils.getRootCauseMessage(exception));\n    }", "signature": "void getTypeWhenException()", "full_signature": "@Test public void getTypeWhenException()", "class_method_signature": "ExtendedMimeMessageTest.getTypeWhenException()", "testcase": true, "constructor": false, "invocations": ["assertThrows", "getType", "assertEquals", "getMessage", "assertEquals", "getRootCauseMessage"]}, "focal_class": {"identifier": "ExtendedMimeMessage", "superclass": "extends MimeMessage", "interfaces": "", "fields": [{"original_string": "private static final ThreadLocal<SHA1Digest> SHA1_DIGEST = new ThreadLocal<SHA1Digest>();", "modifier": "private static final", "type": "ThreadLocal<SHA1Digest>", "declarator": "SHA1_DIGEST = new ThreadLocal<SHA1Digest>()", "var_name": "SHA1_DIGEST"}, {"original_string": "private static final String MESSAGE_ID_HEADER = \"Message-ID\";", "modifier": "private static final", "type": "String", "declarator": "MESSAGE_ID_HEADER = \"Message-ID\"", "var_name": "MESSAGE_ID_HEADER"}, {"original_string": "private static final String TO_HEADER = \"To\";", "modifier": "private static final", "type": "String", "declarator": "TO_HEADER = \"To\"", "var_name": "TO_HEADER"}, {"original_string": "private static final String XMAIL_TYPE_HEADER = \"X-MailType\";", "modifier": "private static final", "type": "String", "declarator": "XMAIL_TYPE_HEADER = \"X-MailType\"", "var_name": "XMAIL_TYPE_HEADER"}, {"original_string": "private String uniqueMessageId;", "modifier": "private", "type": "String", "declarator": "uniqueMessageId", "var_name": "uniqueMessageId"}], "methods": [{"identifier": "ExtendedMimeMessage", "parameters": "()", "modifiers": "public", "return": "", "signature": " ExtendedMimeMessage()", "full_signature": "public  ExtendedMimeMessage()", "class_method_signature": "ExtendedMimeMessage.ExtendedMimeMessage()", "testcase": false, "constructor": true}, {"identifier": "ExtendedMimeMessage", "parameters": "(Session session, InputStream is)", "modifiers": "public", "return": "", "signature": " ExtendedMimeMessage(Session session, InputStream is)", "full_signature": "public  ExtendedMimeMessage(Session session, InputStream is)", "class_method_signature": "ExtendedMimeMessage.ExtendedMimeMessage(Session session, InputStream is)", "testcase": false, "constructor": true}, {"identifier": "ExtendedMimeMessage", "parameters": "(MimeMessage source)", "modifiers": "public", "return": "", "signature": " ExtendedMimeMessage(MimeMessage source)", "full_signature": "public  ExtendedMimeMessage(MimeMessage source)", "class_method_signature": "ExtendedMimeMessage.ExtendedMimeMessage(MimeMessage source)", "testcase": false, "constructor": true}, {"identifier": "wrap", "parameters": "(MimeMessage message)", "modifiers": "public static", "return": "ExtendedMimeMessage", "signature": "ExtendedMimeMessage wrap(MimeMessage message)", "full_signature": "public static ExtendedMimeMessage wrap(MimeMessage message)", "class_method_signature": "ExtendedMimeMessage.wrap(MimeMessage message)", "testcase": false, "constructor": false}, {"identifier": "isEmpty", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isEmpty()", "full_signature": "public boolean isEmpty()", "class_method_signature": "ExtendedMimeMessage.isEmpty()", "testcase": false, "constructor": false}, {"identifier": "setType", "parameters": "(String mailType)", "modifiers": "public", "return": "void", "signature": "void setType(String mailType)", "full_signature": "public void setType(String mailType)", "class_method_signature": "ExtendedMimeMessage.setType(String mailType)", "testcase": false, "constructor": false}, {"identifier": "getType", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getType()", "full_signature": "public String getType()", "class_method_signature": "ExtendedMimeMessage.getType()", "testcase": false, "constructor": false}, {"identifier": "setMessageId", "parameters": "(String messageId)", "modifiers": "public", "return": "void", "signature": "void setMessageId(String messageId)", "full_signature": "public void setMessageId(String messageId)", "class_method_signature": "ExtendedMimeMessage.setMessageId(String messageId)", "testcase": false, "constructor": false}, {"identifier": "ensureSaved", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean ensureSaved()", "full_signature": "public boolean ensureSaved()", "class_method_signature": "ExtendedMimeMessage.ensureSaved()", "testcase": false, "constructor": false}, {"identifier": "setHeader", "parameters": "(String name, String value)", "modifiers": "@Override public", "return": "void", "signature": "void setHeader(String name, String value)", "full_signature": "@Override public void setHeader(String name, String value)", "class_method_signature": "ExtendedMimeMessage.setHeader(String name, String value)", "testcase": false, "constructor": false}, {"identifier": "getUniqueMessageId", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getUniqueMessageId()", "full_signature": "public String getUniqueMessageId()", "class_method_signature": "ExtendedMimeMessage.getUniqueMessageId()", "testcase": false, "constructor": false}, {"identifier": "getNotNullMessageId", "parameters": "()", "modifiers": "private", "return": "String", "signature": "String getNotNullMessageId()", "full_signature": "private String getNotNullMessageId()", "class_method_signature": "ExtendedMimeMessage.getNotNullMessageId()", "testcase": false, "constructor": false}, {"identifier": "digest", "parameters": "(String data)", "modifiers": "private", "return": "String", "signature": "String digest(String data)", "full_signature": "private String digest(String data)", "class_method_signature": "ExtendedMimeMessage.digest(String data)", "testcase": false, "constructor": false}], "file": "xwiki-platform-core/xwiki-platform-mail/xwiki-platform-mail-send/xwiki-platform-mail-send-api/src/main/java/org/xwiki/mail/ExtendedMimeMessage.java"}, "focal_method": {"identifier": "getType", "parameters": "()", "modifiers": "public", "return": "String", "body": "public String getType()\n    {\n        try {\n            return getHeader(XMAIL_TYPE_HEADER, null);\n        } catch (MessagingException e) {\n            // Very unlikely to happen since the default implementation does not throw anything\n            throw new RuntimeException(\"Failed to get Type header\", e);\n        }\n    }", "signature": "String getType()", "full_signature": "public String getType()", "class_method_signature": "ExtendedMimeMessage.getType()", "testcase": false, "constructor": false, "invocations": ["getHeader"]}, "repository": {"repo_id": 1463490, "url": "https://github.com/xwiki/xwiki-platform", "stars": 495, "created": "3/10/2011 1:26:41 PM +00:00", "updates": "2020-01-27T14:12:16+00:00", "fork": "False", "license": "licensed"}}