{"test_class": {"identifier": "MessageStreamScriptServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final DocumentReference targetUser = new DocumentReference(\"wiki\", \"XWiki\", \"JaneBuck\");", "modifier": "private final", "type": "DocumentReference", "declarator": "targetUser = new DocumentReference(\"wiki\", \"XWiki\", \"JaneBuck\")", "var_name": "targetUser"}, {"original_string": "private final DocumentReference targetGroup = new DocumentReference(\"wiki\", \"XWiki\", \"MyFriends\");", "modifier": "private final", "type": "DocumentReference", "declarator": "targetGroup = new DocumentReference(\"wiki\", \"XWiki\", \"MyFriends\")", "var_name": "targetGroup"}, {"original_string": "@Rule\n    public MockitoComponentMockingRule<MessageStreamScriptService> mocker =\n        new MockitoComponentMockingRule<>(MessageStreamScriptService.class);", "modifier": "@Rule\n    public", "type": "MockitoComponentMockingRule<MessageStreamScriptService>", "declarator": "mocker =\n        new MockitoComponentMockingRule<>(MessageStreamScriptService.class)", "var_name": "mocker"}, {"original_string": "private MessageStreamScriptService streamService;", "modifier": "private", "type": "MessageStreamScriptService", "declarator": "streamService", "var_name": "streamService"}, {"original_string": "private DocumentAccessBridge documentAccessBridge;", "modifier": "private", "type": "DocumentAccessBridge", "declarator": "documentAccessBridge", "var_name": "documentAccessBridge"}, {"original_string": "private MessageStreamConfiguration messageStreamConfiguration;", "modifier": "private", "type": "MessageStreamConfiguration", "declarator": "messageStreamConfiguration", "var_name": "messageStreamConfiguration"}, {"original_string": "private ExecutionContext executionContext;", "modifier": "private", "type": "ExecutionContext", "declarator": "executionContext", "var_name": "executionContext"}], "file": "xwiki-platform-core/xwiki-platform-messagestream/xwiki-platform-messagestream-api/src/test/java/org/xwiki/messagestream/script/MessageStreamScriptServiceTest.java"}, "test_case": {"identifier": "deleteMessage", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void deleteMessage() throws Exception\n    {\n        assertTrue(this.streamService.deleteMessage(\"abc123\"));\n\n        MessageStream stream = this.mocker.getInstance(MessageStream.class);\n        verify(stream).deleteMessage(\"abc123\");\n    }", "signature": "void deleteMessage()", "full_signature": "@Test public void deleteMessage()", "class_method_signature": "MessageStreamScriptServiceTest.deleteMessage()", "testcase": true, "constructor": false, "invocations": ["assertTrue", "deleteMessage", "getInstance", "deleteMessage", "verify"]}, "focal_class": {"identifier": "MessageStreamScriptService", "superclass": "", "interfaces": "implements ScriptService", "fields": [{"original_string": "static final String ERROR_KEY = \"scriptservice.messageStream.error\";", "modifier": "static final", "type": "String", "declarator": "ERROR_KEY = \"scriptservice.messageStream.error\"", "var_name": "ERROR_KEY"}, {"original_string": "@Inject\n    protected Execution execution;", "modifier": "@Inject\n    protected", "type": "Execution", "declarator": "execution", "var_name": "execution"}, {"original_string": "@Inject\n    private MessageStream stream;", "modifier": "@Inject\n    private", "type": "MessageStream", "declarator": "stream", "var_name": "stream"}, {"original_string": "@Inject\n    private MessageStreamConfiguration messageStreamConfiguration;", "modifier": "@Inject\n    private", "type": "MessageStreamConfiguration", "declarator": "messageStreamConfiguration", "var_name": "messageStreamConfiguration"}, {"original_string": "@Inject\n    private DocumentAccessBridge documentAccessBridge;", "modifier": "@Inject\n    private", "type": "DocumentAccessBridge", "declarator": "documentAccessBridge", "var_name": "documentAccessBridge"}], "methods": [{"identifier": "postPublicMessage", "parameters": "(String message)", "modifiers": "public", "return": "boolean", "signature": "boolean postPublicMessage(String message)", "full_signature": "public boolean postPublicMessage(String message)", "class_method_signature": "MessageStreamScriptService.postPublicMessage(String message)", "testcase": false, "constructor": false}, {"identifier": "postPersonalMessage", "parameters": "(String message)", "modifiers": "public", "return": "boolean", "signature": "boolean postPersonalMessage(String message)", "full_signature": "public boolean postPersonalMessage(String message)", "class_method_signature": "MessageStreamScriptService.postPersonalMessage(String message)", "testcase": false, "constructor": false}, {"identifier": "postDirectMessageToUser", "parameters": "(String message, DocumentReference user)", "modifiers": "public", "return": "boolean", "signature": "boolean postDirectMessageToUser(String message, DocumentReference user)", "full_signature": "public boolean postDirectMessageToUser(String message, DocumentReference user)", "class_method_signature": "MessageStreamScriptService.postDirectMessageToUser(String message, DocumentReference user)", "testcase": false, "constructor": false}, {"identifier": "postMessageToGroup", "parameters": "(String message, DocumentReference group)", "modifiers": "public", "return": "boolean", "signature": "boolean postMessageToGroup(String message, DocumentReference group)", "full_signature": "public boolean postMessageToGroup(String message, DocumentReference group)", "class_method_signature": "MessageStreamScriptService.postMessageToGroup(String message, DocumentReference group)", "testcase": false, "constructor": false}, {"identifier": "deleteMessage", "parameters": "(String id)", "modifiers": "public", "return": "boolean", "signature": "boolean deleteMessage(String id)", "full_signature": "public boolean deleteMessage(String id)", "class_method_signature": "MessageStreamScriptService.deleteMessage(String id)", "testcase": false, "constructor": false}, {"identifier": "isActive", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isActive()", "full_signature": "public boolean isActive()", "class_method_signature": "MessageStreamScriptService.isActive()", "testcase": false, "constructor": false}, {"identifier": "getLastError", "parameters": "()", "modifiers": "public", "return": "Exception", "signature": "Exception getLastError()", "full_signature": "public Exception getLastError()", "class_method_signature": "MessageStreamScriptService.getLastError()", "testcase": false, "constructor": false}, {"identifier": "setError", "parameters": "(Exception e)", "modifiers": "protected", "return": "void", "signature": "void setError(Exception e)", "full_signature": "protected void setError(Exception e)", "class_method_signature": "MessageStreamScriptService.setError(Exception e)", "testcase": false, "constructor": false}], "file": "xwiki-platform-core/xwiki-platform-messagestream/xwiki-platform-messagestream-api/src/main/java/org/xwiki/messagestream/script/MessageStreamScriptService.java"}, "focal_method": {"identifier": "deleteMessage", "parameters": "(String id)", "modifiers": "public", "return": "boolean", "body": "public boolean deleteMessage(String id)\n    {\n        try {\n            this.stream.deleteMessage(id);\n            return true;\n        } catch (Exception e) {\n            setError(e);\n            return false;\n        }\n    }", "signature": "boolean deleteMessage(String id)", "full_signature": "public boolean deleteMessage(String id)", "class_method_signature": "MessageStreamScriptService.deleteMessage(String id)", "testcase": false, "constructor": false, "invocations": ["deleteMessage", "setError"]}, "repository": {"repo_id": 1463490, "url": "https://github.com/xwiki/xwiki-platform", "stars": 495, "created": "3/10/2011 1:26:41 PM +00:00", "updates": "2020-01-27T14:12:16+00:00", "fork": "False", "license": "licensed"}}