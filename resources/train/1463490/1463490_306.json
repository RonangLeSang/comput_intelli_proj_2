{"test_class": {"identifier": "ClassPropertyValuesResourceImplTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@InjectMockComponents\n    private ClassPropertyValuesResourceImpl resource;", "modifier": "@InjectMockComponents\n    private", "type": "ClassPropertyValuesResourceImpl", "declarator": "resource", "var_name": "resource"}, {"original_string": "@InjectComponentManager\n    private MockitoComponentManager componentManager;", "modifier": "@InjectComponentManager\n    private", "type": "MockitoComponentManager", "declarator": "componentManager", "var_name": "componentManager"}, {"original_string": "@MockComponent\n    @Named(\"currentmixed\")\n    private DocumentReferenceResolver<String> resolver;", "modifier": "@MockComponent\n    @Named(\"currentmixed\")\n    private", "type": "DocumentReferenceResolver<String>", "declarator": "resolver", "var_name": "resolver"}, {"original_string": "@MockComponent\n    private ContextualAuthorizationManager authorization;", "modifier": "@MockComponent\n    private", "type": "ContextualAuthorizationManager", "declarator": "authorization", "var_name": "authorization"}, {"original_string": "@MockComponent\n    private Provider<XWikiContext> xcontextProvider;", "modifier": "@MockComponent\n    private", "type": "Provider<XWikiContext>", "declarator": "xcontextProvider", "var_name": "xcontextProvider"}, {"original_string": "private ClassPropertyReference propertyReference =\n        new ClassPropertyReference(\"status\", new DocumentReference(\"wiki\", Arrays.asList(\"Path\", \"To\"), \"Class\"));", "modifier": "private", "type": "ClassPropertyReference", "declarator": "propertyReference =\n        new ClassPropertyReference(\"status\", new DocumentReference(\"wiki\", Arrays.asList(\"Path\", \"To\"), \"Class\"))", "var_name": "propertyReference"}, {"original_string": "@Mock\n    private BaseClass xclass;", "modifier": "@Mock\n    private", "type": "BaseClass", "declarator": "xclass", "var_name": "xclass"}, {"original_string": "XWikiContext xcontext;", "modifier": "", "type": "XWikiContext", "declarator": "xcontext", "var_name": "xcontext"}], "file": "xwiki-platform-core/xwiki-platform-rest/xwiki-platform-rest-server/src/test/java/org/xwiki/rest/internal/resources/classes/ClassPropertyValuesResourceImplTest.java"}, "test_case": {"identifier": "getClassPropertyValuesNotFound", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getClassPropertyValuesNotFound() throws Exception\n    {\n        try {\n            this.resource.getClassPropertyValues(\"wiki\", \"Path.To.Class\", \"status\", 6, Arrays.asList(\"text\"), false);\n            fail();\n        } catch (WebApplicationException expected) {\n            assertEquals(Status.NOT_FOUND.getStatusCode(), expected.getResponse().getStatus());\n        }\n    }", "signature": "void getClassPropertyValuesNotFound()", "full_signature": "@Test public void getClassPropertyValuesNotFound()", "class_method_signature": "ClassPropertyValuesResourceImplTest.getClassPropertyValuesNotFound()", "testcase": true, "constructor": false, "invocations": ["getClassPropertyValues", "asList", "fail", "assertEquals", "getStatusCode", "getStatus", "getResponse"]}, "focal_class": {"identifier": "ClassPropertyValuesResourceImpl", "superclass": "extends XWikiResource", "interfaces": "implements ClassPropertyValuesResource", "fields": [{"original_string": "@Inject\n    @Named(\"currentmixed\")\n    private DocumentReferenceResolver<String> resolver;", "modifier": "@Inject\n    @Named(\"currentmixed\")\n    private", "type": "DocumentReferenceResolver<String>", "declarator": "resolver", "var_name": "resolver"}, {"original_string": "@Inject\n    private ContextualAuthorizationManager authorization;", "modifier": "@Inject\n    private", "type": "ContextualAuthorizationManager", "declarator": "authorization", "var_name": "authorization"}, {"original_string": "@Inject\n    private ClassPropertyValuesProvider propertyValuesProvider;", "modifier": "@Inject\n    private", "type": "ClassPropertyValuesProvider", "declarator": "propertyValuesProvider", "var_name": "propertyValuesProvider"}], "methods": [{"identifier": "getClassPropertyValues", "parameters": "(String wikiName, String className, String propertyName, Integer limit,\n        List<String> filterParameters, Boolean isExactMatch)", "modifiers": "@Override public", "return": "PropertyValues", "signature": "PropertyValues getClassPropertyValues(String wikiName, String className, String propertyName, Integer limit,\n        List<String> filterParameters, Boolean isExactMatch)", "full_signature": "@Override public PropertyValues getClassPropertyValues(String wikiName, String className, String propertyName, Integer limit,\n        List<String> filterParameters, Boolean isExactMatch)", "class_method_signature": "ClassPropertyValuesResourceImpl.getClassPropertyValues(String wikiName, String className, String propertyName, Integer limit,\n        List<String> filterParameters, Boolean isExactMatch)", "testcase": false, "constructor": false}, {"identifier": "exists", "parameters": "(ClassPropertyReference classPropertyReference)", "modifiers": "private", "return": "boolean", "signature": "boolean exists(ClassPropertyReference classPropertyReference)", "full_signature": "private boolean exists(ClassPropertyReference classPropertyReference)", "class_method_signature": "ClassPropertyValuesResourceImpl.exists(ClassPropertyReference classPropertyReference)", "testcase": false, "constructor": false}], "file": "xwiki-platform-core/xwiki-platform-rest/xwiki-platform-rest-server/src/main/java/org/xwiki/rest/internal/resources/classes/ClassPropertyValuesResourceImpl.java"}, "focal_method": {"identifier": "getClassPropertyValues", "parameters": "(String wikiName, String className, String propertyName, Integer limit,\n        List<String> filterParameters, Boolean isExactMatch)", "modifiers": "@Override public", "return": "PropertyValues", "body": "@Override\n    public PropertyValues getClassPropertyValues(String wikiName, String className, String propertyName, Integer limit,\n        List<String> filterParameters, Boolean isExactMatch) throws XWikiRestException\n    {\n        DocumentReference classReference = this.resolver.resolve(className, new WikiReference(wikiName));\n        ClassPropertyReference classPropertyReference = new ClassPropertyReference(propertyName, classReference);\n        try {\n            this.authorization.checkAccess(Right.VIEW, classPropertyReference);\n        } catch (AccessDeniedException e) {\n            throw new WebApplicationException(e, Status.UNAUTHORIZED);\n        }\n        if (!exists(classPropertyReference)) {\n            throw new WebApplicationException(Status.NOT_FOUND);\n        }\n\n        URI propertyURI =\n            Utils.createURI(this.uriInfo.getBaseUri(), ClassPropertyResource.class, wikiName, className, propertyName);\n        Link propertyLink = this.objectFactory.createLink();\n        propertyLink.setHref(propertyURI.toString());\n        propertyLink.setRel(Relations.PROPERTY);\n\n        PropertyValues propertyValues = new PropertyValues();\n        if (isExactMatch) {\n            for (String filterParameter : filterParameters) {\n                PropertyValue value =  this.propertyValuesProvider.getValue(classPropertyReference, filterParameter);\n                if (value != null) {\n                    propertyValues.getPropertyValues().add(value);\n                }\n            }\n        } else {\n            propertyValues = this.propertyValuesProvider\n                .getValues(classPropertyReference, limit, filterParameters.toArray());\n        }\n        propertyValues.getLinks().add(propertyLink);\n\n        return propertyValues;\n    }", "signature": "PropertyValues getClassPropertyValues(String wikiName, String className, String propertyName, Integer limit,\n        List<String> filterParameters, Boolean isExactMatch)", "full_signature": "@Override public PropertyValues getClassPropertyValues(String wikiName, String className, String propertyName, Integer limit,\n        List<String> filterParameters, Boolean isExactMatch)", "class_method_signature": "ClassPropertyValuesResourceImpl.getClassPropertyValues(String wikiName, String className, String propertyName, Integer limit,\n        List<String> filterParameters, Boolean isExactMatch)", "testcase": false, "constructor": false, "invocations": ["resolve", "checkAccess", "exists", "createURI", "getBaseUri", "createLink", "setHref", "toString", "setRel", "getValue", "add", "getPropertyValues", "getValues", "toArray", "add", "getLinks"]}, "repository": {"repo_id": 1463490, "url": "https://github.com/xwiki/xwiki-platform", "stars": 495, "created": "3/10/2011 1:26:41 PM +00:00", "updates": "2020-01-27T14:12:16+00:00", "fork": "False", "license": "licensed"}}