{"test_class": {"identifier": "DefaultNotificationFilterPreferenceManagerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Rule\n    public final MockitoComponentMockingRule<DefaultNotificationFilterPreferenceManager> mocker =\n            new MockitoComponentMockingRule<>(DefaultNotificationFilterPreferenceManager.class);", "modifier": "@Rule\n    public final", "type": "MockitoComponentMockingRule<DefaultNotificationFilterPreferenceManager>", "declarator": "mocker =\n            new MockitoComponentMockingRule<>(DefaultNotificationFilterPreferenceManager.class)", "var_name": "mocker"}, {"original_string": "private ComponentManager componentManager;", "modifier": "private", "type": "ComponentManager", "declarator": "componentManager", "var_name": "componentManager"}, {"original_string": "private DocumentReference testUser;", "modifier": "private", "type": "DocumentReference", "declarator": "testUser", "var_name": "testUser"}, {"original_string": "private NotificationFilterPreferenceProvider testProvider;", "modifier": "private", "type": "NotificationFilterPreferenceProvider", "declarator": "testProvider", "var_name": "testProvider"}], "file": "xwiki-platform-core/xwiki-platform-notifications/xwiki-platform-notifications-filters/xwiki-platform-notifications-filters-api/src/test/java/org/xwiki/notifications/filters/internal/DefaultNotificationFilterPreferenceManagerTest.java"}, "test_case": {"identifier": "deleteFilterPreference", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void deleteFilterPreference() throws Exception\n    {\n        mocker.getComponentUnderTest().deleteFilterPreference(testUser, \"myFilter\");\n\n        verify(testProvider, times(1)).deleteFilterPreference(eq(testUser), eq(\"myFilter\"));\n    }", "signature": "void deleteFilterPreference()", "full_signature": "@Test public void deleteFilterPreference()", "class_method_signature": "DefaultNotificationFilterPreferenceManagerTest.deleteFilterPreference()", "testcase": true, "constructor": false, "invocations": ["deleteFilterPreference", "getComponentUnderTest", "deleteFilterPreference", "verify", "times", "eq", "eq"]}, "focal_class": {"identifier": "DefaultNotificationFilterPreferenceManager", "superclass": "", "interfaces": "implements NotificationFilterPreferenceManager", "fields": [{"original_string": "@Inject\n    private ComponentManager componentManager;", "modifier": "@Inject\n    private", "type": "ComponentManager", "declarator": "componentManager", "var_name": "componentManager"}, {"original_string": "@Inject\n    private Logger logger;", "modifier": "@Inject\n    private", "type": "Logger", "declarator": "logger", "var_name": "logger"}], "methods": [{"identifier": "getFilterPreferences", "parameters": "(DocumentReference user)", "modifiers": "@Override public", "return": "Collection<NotificationFilterPreference>", "signature": "Collection<NotificationFilterPreference> getFilterPreferences(DocumentReference user)", "full_signature": "@Override public Collection<NotificationFilterPreference> getFilterPreferences(DocumentReference user)", "class_method_signature": "DefaultNotificationFilterPreferenceManager.getFilterPreferences(DocumentReference user)", "testcase": false, "constructor": false}, {"identifier": "getFilterPreferences", "parameters": "(\n            Collection<NotificationFilterPreference> filterPreferences, NotificationFilter filter)", "modifiers": "@Override public", "return": "Stream<NotificationFilterPreference>", "signature": "Stream<NotificationFilterPreference> getFilterPreferences(\n            Collection<NotificationFilterPreference> filterPreferences, NotificationFilter filter)", "full_signature": "@Override public Stream<NotificationFilterPreference> getFilterPreferences(\n            Collection<NotificationFilterPreference> filterPreferences, NotificationFilter filter)", "class_method_signature": "DefaultNotificationFilterPreferenceManager.getFilterPreferences(\n            Collection<NotificationFilterPreference> filterPreferences, NotificationFilter filter)", "testcase": false, "constructor": false}, {"identifier": "getFilterPreferences", "parameters": "(\n            Collection<NotificationFilterPreference> filterPreferences, NotificationFilter filter,\n            NotificationFilterType filterType)", "modifiers": "@Override public", "return": "Stream<NotificationFilterPreference>", "signature": "Stream<NotificationFilterPreference> getFilterPreferences(\n            Collection<NotificationFilterPreference> filterPreferences, NotificationFilter filter,\n            NotificationFilterType filterType)", "full_signature": "@Override public Stream<NotificationFilterPreference> getFilterPreferences(\n            Collection<NotificationFilterPreference> filterPreferences, NotificationFilter filter,\n            NotificationFilterType filterType)", "class_method_signature": "DefaultNotificationFilterPreferenceManager.getFilterPreferences(\n            Collection<NotificationFilterPreference> filterPreferences, NotificationFilter filter,\n            NotificationFilterType filterType)", "testcase": false, "constructor": false}, {"identifier": "getFilterPreferences", "parameters": "(\n            Collection<NotificationFilterPreference> filterPreferences, NotificationFilter filter,\n            NotificationFilterType filterType, NotificationFormat format)", "modifiers": "@Override public", "return": "Stream<NotificationFilterPreference>", "signature": "Stream<NotificationFilterPreference> getFilterPreferences(\n            Collection<NotificationFilterPreference> filterPreferences, NotificationFilter filter,\n            NotificationFilterType filterType, NotificationFormat format)", "full_signature": "@Override public Stream<NotificationFilterPreference> getFilterPreferences(\n            Collection<NotificationFilterPreference> filterPreferences, NotificationFilter filter,\n            NotificationFilterType filterType, NotificationFormat format)", "class_method_signature": "DefaultNotificationFilterPreferenceManager.getFilterPreferences(\n            Collection<NotificationFilterPreference> filterPreferences, NotificationFilter filter,\n            NotificationFilterType filterType, NotificationFormat format)", "testcase": false, "constructor": false}, {"identifier": "saveFilterPreferences", "parameters": "(DocumentReference user, Set<NotificationFilterPreference> filterPreferences)", "modifiers": "@Override public", "return": "void", "signature": "void saveFilterPreferences(DocumentReference user, Set<NotificationFilterPreference> filterPreferences)", "full_signature": "@Override public void saveFilterPreferences(DocumentReference user, Set<NotificationFilterPreference> filterPreferences)", "class_method_signature": "DefaultNotificationFilterPreferenceManager.saveFilterPreferences(DocumentReference user, Set<NotificationFilterPreference> filterPreferences)", "testcase": false, "constructor": false}, {"identifier": "deleteFilterPreference", "parameters": "(DocumentReference user, String filterPreferenceId)", "modifiers": "@Override public", "return": "void", "signature": "void deleteFilterPreference(DocumentReference user, String filterPreferenceId)", "full_signature": "@Override public void deleteFilterPreference(DocumentReference user, String filterPreferenceId)", "class_method_signature": "DefaultNotificationFilterPreferenceManager.deleteFilterPreference(DocumentReference user, String filterPreferenceId)", "testcase": false, "constructor": false}, {"identifier": "setFilterPreferenceEnabled", "parameters": "(DocumentReference user, String filterPreferenceId, boolean enabled)", "modifiers": "@Override public", "return": "void", "signature": "void setFilterPreferenceEnabled(DocumentReference user, String filterPreferenceId, boolean enabled)", "full_signature": "@Override public void setFilterPreferenceEnabled(DocumentReference user, String filterPreferenceId, boolean enabled)", "class_method_signature": "DefaultNotificationFilterPreferenceManager.setFilterPreferenceEnabled(DocumentReference user, String filterPreferenceId, boolean enabled)", "testcase": false, "constructor": false}, {"identifier": "setStartDateForUser", "parameters": "(DocumentReference user, Date startDate)", "modifiers": "@Override public", "return": "void", "signature": "void setStartDateForUser(DocumentReference user, Date startDate)", "full_signature": "@Override public void setStartDateForUser(DocumentReference user, Date startDate)", "class_method_signature": "DefaultNotificationFilterPreferenceManager.setStartDateForUser(DocumentReference user, Date startDate)", "testcase": false, "constructor": false}], "file": "xwiki-platform-core/xwiki-platform-notifications/xwiki-platform-notifications-filters/xwiki-platform-notifications-filters-api/src/main/java/org/xwiki/notifications/filters/internal/DefaultNotificationFilterPreferenceManager.java"}, "focal_method": {"identifier": "deleteFilterPreference", "parameters": "(DocumentReference user, String filterPreferenceId)", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void deleteFilterPreference(DocumentReference user, String filterPreferenceId) throws NotificationException\n    {\n        try {\n            for (NotificationFilterPreferenceProvider provider\n                    : componentManager.<NotificationFilterPreferenceProvider>getInstanceList(\n                    NotificationFilterPreferenceProvider.class)) {\n                provider.deleteFilterPreference(user, filterPreferenceId);\n            }\n\n        } catch (ComponentLookupException e) {\n            logger.info(\"Failed to remove the filter preference [{}].\", filterPreferenceId, e);\n        }\n    }", "signature": "void deleteFilterPreference(DocumentReference user, String filterPreferenceId)", "full_signature": "@Override public void deleteFilterPreference(DocumentReference user, String filterPreferenceId)", "class_method_signature": "DefaultNotificationFilterPreferenceManager.deleteFilterPreference(DocumentReference user, String filterPreferenceId)", "testcase": false, "constructor": false, "invocations": ["getInstanceList", "deleteFilterPreference", "info"]}, "repository": {"repo_id": 1463490, "url": "https://github.com/xwiki/xwiki-platform", "stars": 495, "created": "3/10/2011 1:26:41 PM +00:00", "updates": "2020-01-27T14:12:16+00:00", "fork": "False", "license": "licensed"}}