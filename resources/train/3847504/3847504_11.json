{"test_class": {"identifier": "WebUrlImplTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "protected WebUrlImpl liveUrl = null;", "modifier": "protected", "type": "WebUrlImpl", "declarator": "liveUrl = null", "var_name": "liveUrl"}, {"original_string": "protected WebUrlImpl liveUrlWithAnchor = null;", "modifier": "protected", "type": "WebUrlImpl", "declarator": "liveUrlWithAnchor = null", "var_name": "liveUrlWithAnchor"}, {"original_string": "protected WebUrlImpl liveUrlWithPort = null;", "modifier": "protected", "type": "WebUrlImpl", "declarator": "liveUrlWithPort = null", "var_name": "liveUrlWithPort"}, {"original_string": "protected WebUrlImpl flavoredLiveUrl = null;", "modifier": "protected", "type": "WebUrlImpl", "declarator": "flavoredLiveUrl = null", "var_name": "flavoredLiveUrl"}, {"original_string": "protected WebUrlImpl localizedLiveUrl = null;", "modifier": "protected", "type": "WebUrlImpl", "declarator": "localizedLiveUrl = null", "var_name": "localizedLiveUrl"}, {"original_string": "protected WebUrlImpl flavoredLocalizedLiveUrl = null;", "modifier": "protected", "type": "WebUrlImpl", "declarator": "flavoredLocalizedLiveUrl = null", "var_name": "flavoredLocalizedLiveUrl"}, {"original_string": "protected WebUrlImpl localizedSegmentedLiveUrl = null;", "modifier": "protected", "type": "WebUrlImpl", "declarator": "localizedSegmentedLiveUrl = null", "var_name": "localizedSegmentedLiveUrl"}, {"original_string": "protected WebUrlImpl flavoredSegmentedLiveUrl = null;", "modifier": "protected", "type": "WebUrlImpl", "declarator": "flavoredSegmentedLiveUrl = null", "var_name": "flavoredSegmentedLiveUrl"}, {"original_string": "protected WebUrlImpl flavoredLocalizedSegmentedLiveUrl = null;", "modifier": "protected", "type": "WebUrlImpl", "declarator": "flavoredLocalizedSegmentedLiveUrl = null", "var_name": "flavoredLocalizedSegmentedLiveUrl"}, {"original_string": "protected WebUrlImpl versionedUrl = null;", "modifier": "protected", "type": "WebUrlImpl", "declarator": "versionedUrl = null", "var_name": "versionedUrl"}, {"original_string": "protected WebUrlImpl flavoredVersionedUrl = null;", "modifier": "protected", "type": "WebUrlImpl", "declarator": "flavoredVersionedUrl = null", "var_name": "flavoredVersionedUrl"}, {"original_string": "protected WebUrlImpl localizedVersionedUrl = null;", "modifier": "protected", "type": "WebUrlImpl", "declarator": "localizedVersionedUrl = null", "var_name": "localizedVersionedUrl"}, {"original_string": "protected WebUrlImpl flavoredLocalizedVersionedUrl = null;", "modifier": "protected", "type": "WebUrlImpl", "declarator": "flavoredLocalizedVersionedUrl = null", "var_name": "flavoredLocalizedVersionedUrl"}, {"original_string": "protected SiteURL siteUrl = null;", "modifier": "protected", "type": "SiteURL", "declarator": "siteUrl = null", "var_name": "siteUrl"}, {"original_string": "protected SiteURL siteUrlWithPort = null;", "modifier": "protected", "type": "SiteURL", "declarator": "siteUrlWithPort = null", "var_name": "siteUrlWithPort"}, {"original_string": "protected String siteAddress = \"http://www.test.com\";", "modifier": "protected", "type": "String", "declarator": "siteAddress = \"http://www.test.com\"", "var_name": "siteAddress"}, {"original_string": "protected String siteAddressWithPort = \"https://www.test.com:8080\";", "modifier": "protected", "type": "String", "declarator": "siteAddressWithPort = \"https://www.test.com:8080\"", "var_name": "siteAddressWithPort"}, {"original_string": "protected String allAllowedCharsPath = \"/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/0123456789/-_.~!$&*'()+,;=:@%20\";", "modifier": "protected", "type": "String", "declarator": "allAllowedCharsPath = \"/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/0123456789/-_.~!$&*'()+,;=:@%20\"", "var_name": "allAllowedCharsPath"}, {"original_string": "protected String livePath = \"/test/\";", "modifier": "protected", "type": "String", "declarator": "livePath = \"/test/\"", "var_name": "livePath"}, {"original_string": "protected String segmentedPath = \"/test/\";", "modifier": "protected", "type": "String", "declarator": "segmentedPath = \"/test/\"", "var_name": "segmentedPath"}, {"original_string": "protected String segmentedPathWithAnchor = \"/test/#live\";", "modifier": "protected", "type": "String", "declarator": "segmentedPathWithAnchor = \"/test/#live\"", "var_name": "segmentedPathWithAnchor"}, {"original_string": "protected String localizedPath = \"/test/index_de.html\";", "modifier": "protected", "type": "String", "declarator": "localizedPath = \"/test/index_de.html\"", "var_name": "localizedPath"}, {"original_string": "protected String localizedPathWithAnchor = \"/test/index_de.html#live\";", "modifier": "protected", "type": "String", "declarator": "localizedPathWithAnchor = \"/test/index_de.html#live\"", "var_name": "localizedPathWithAnchor"}, {"original_string": "protected String flavoredPath = \"/test/index.json\";", "modifier": "protected", "type": "String", "declarator": "flavoredPath = \"/test/index.json\"", "var_name": "flavoredPath"}, {"original_string": "protected String flavoredLocalizedPath = \"/test/index_de.json\";", "modifier": "protected", "type": "String", "declarator": "flavoredLocalizedPath = \"/test/index_de.json\"", "var_name": "flavoredLocalizedPath"}, {"original_string": "protected String flavoredSegmentedPath = \"/test/json/\";", "modifier": "protected", "type": "String", "declarator": "flavoredSegmentedPath = \"/test/json/\"", "var_name": "flavoredSegmentedPath"}, {"original_string": "protected String localizedSegmentedPath = \"/test/de/\";", "modifier": "protected", "type": "String", "declarator": "localizedSegmentedPath = \"/test/de/\"", "var_name": "localizedSegmentedPath"}, {"original_string": "protected String flavoredLocalizedSegmentedPath = \"/test/de/json/\";", "modifier": "protected", "type": "String", "declarator": "flavoredLocalizedSegmentedPath = \"/test/de/json/\"", "var_name": "flavoredLocalizedSegmentedPath"}, {"original_string": "protected String versionedPath = \"/test/17.html\";", "modifier": "protected", "type": "String", "declarator": "versionedPath = \"/test/17.html\"", "var_name": "versionedPath"}, {"original_string": "protected String flavoredVersionedPath = \"/test/17.json\";", "modifier": "protected", "type": "String", "declarator": "flavoredVersionedPath = \"/test/17.json\"", "var_name": "flavoredVersionedPath"}, {"original_string": "protected String localizedVersionedPath = \"/test/17_de.html\";", "modifier": "protected", "type": "String", "declarator": "localizedVersionedPath = \"/test/17_de.html\"", "var_name": "localizedVersionedPath"}, {"original_string": "protected String flavoredLocalizedVersionedPath = \"/test/17_de.json\";", "modifier": "protected", "type": "String", "declarator": "flavoredLocalizedVersionedPath = \"/test/17_de.json\"", "var_name": "flavoredLocalizedVersionedPath"}, {"original_string": "protected Site siteMock = null;", "modifier": "protected", "type": "Site", "declarator": "siteMock = null", "var_name": "siteMock"}, {"original_string": "protected Site otherSiteMock = null;", "modifier": "protected", "type": "Site", "declarator": "otherSiteMock = null", "var_name": "otherSiteMock"}, {"original_string": "protected Language english = LanguageUtils.getLanguage(\"en\");", "modifier": "protected", "type": "Language", "declarator": "english = LanguageUtils.getLanguage(\"en\")", "var_name": "english"}, {"original_string": "protected Language german = LanguageUtils.getLanguage(\"de\");", "modifier": "protected", "type": "Language", "declarator": "german = LanguageUtils.getLanguage(\"de\")", "var_name": "german"}, {"original_string": "protected Language french = LanguageUtils.getLanguage(\"fr\");", "modifier": "protected", "type": "Language", "declarator": "french = LanguageUtils.getLanguage(\"fr\")", "var_name": "french"}], "file": "modules/weblounge-common/src/test/java/ch/entwine/weblounge/common/impl/url/WebUrlImplTest.java"}, "test_case": {"identifier": "testGetLinkLanguage", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testGetLinkLanguage() {\n    String l = \"_fr\";\n    assertEquals(localizedPath.replaceAll(\"_de\", l), liveUrl.getLink(french));\n    assertEquals(flavoredLocalizedPath.replaceAll(\"_de\", l), flavoredLiveUrl.getLink(french));\n    assertEquals(localizedPath.replaceAll(\"_de\", l), localizedLiveUrl.getLink(french));\n    assertEquals(flavoredLocalizedPath.replaceAll(\"_de\", l), flavoredSegmentedLiveUrl.getLink(french));\n    assertEquals(localizedPath.replaceAll(\"_de\", l), localizedSegmentedLiveUrl.getLink(french));\n    assertEquals(flavoredLocalizedPath.replaceAll(\"_de\", l), flavoredLocalizedLiveUrl.getLink(french));\n    assertEquals(flavoredLocalizedPath.replaceAll(\"_de\", l), flavoredLocalizedSegmentedLiveUrl.getLink(french));\n    assertEquals(localizedVersionedPath.replaceAll(\"_de\", l), versionedUrl.getLink(french));\n    assertEquals(flavoredLocalizedVersionedPath.replaceAll(\"_de\", l), flavoredVersionedUrl.getLink(french));\n    assertEquals(localizedVersionedPath.replaceAll(\"_de\", l), localizedVersionedUrl.getLink(french));\n    assertEquals(flavoredLocalizedVersionedPath.replaceAll(\"_de\", l), flavoredLocalizedVersionedUrl.getLink(french));\n  }", "signature": "void testGetLinkLanguage()", "full_signature": "@Test public void testGetLinkLanguage()", "class_method_signature": "WebUrlImplTest.testGetLinkLanguage()", "testcase": true, "constructor": false, "invocations": ["assertEquals", "replaceAll", "getLink", "assertEquals", "replaceAll", "getLink", "assertEquals", "replaceAll", "getLink", "assertEquals", "replaceAll", "getLink", "assertEquals", "replaceAll", "getLink", "assertEquals", "replaceAll", "getLink", "assertEquals", "replaceAll", "getLink", "assertEquals", "replaceAll", "getLink", "assertEquals", "replaceAll", "getLink", "assertEquals", "replaceAll", "getLink", "assertEquals", "replaceAll", "getLink"]}, "focal_class": {"identifier": "WebUrlImpl", "superclass": "extends UrlImpl", "interfaces": "implements WebUrl", "fields": [{"original_string": "private static final long serialVersionUID = -5815146954734580746L;", "modifier": "private static final", "type": "long", "declarator": "serialVersionUID = -5815146954734580746L", "var_name": "serialVersionUID"}, {"original_string": "private static Logger logger = LoggerFactory.getLogger(WebUrlImpl.class);", "modifier": "private static", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(WebUrlImpl.class)", "var_name": "logger"}, {"original_string": "private static final Pattern pathInspector = Pattern.compile(\"^(.*)/(work|index|live|[0-9]*)(_[a-zA-Z]+)?\\\\.([a-zA-Z0-9]+)$\");", "modifier": "private static final", "type": "Pattern", "declarator": "pathInspector = Pattern.compile(\"^(.*)/(work|index|live|[0-9]*)(_[a-zA-Z]+)?\\\\.([a-zA-Z0-9]+)$\")", "var_name": "pathInspector"}, {"original_string": "private static final Pattern segmentInspector = Pattern.compile(\"^(/([a-zA-Z0-9\\\\-\\\\,\\\\.\\\\:\\\\;\\\\(\\\\)/_~!\\\\$&\\\\*'\\\\+=@%^#^\\\\?])*+)+$\");", "modifier": "private static final", "type": "Pattern", "declarator": "segmentInspector = Pattern.compile(\"^(/([a-zA-Z0-9\\\\-\\\\,\\\\.\\\\:\\\\;\\\\(\\\\)/_~!\\\\$&\\\\*'\\\\+=@%^#^\\\\?])*+)+$\")", "var_name": "segmentInspector"}, {"original_string": "private final RequestFlavor defaultFlavor = RequestFlavor.ANY;", "modifier": "private final", "type": "RequestFlavor", "declarator": "defaultFlavor = RequestFlavor.ANY", "var_name": "defaultFlavor"}, {"original_string": "protected Site site = null;", "modifier": "protected", "type": "Site", "declarator": "site = null", "var_name": "site"}, {"original_string": "protected long version = -1;", "modifier": "protected", "type": "long", "declarator": "version = -1", "var_name": "version"}, {"original_string": "protected Language language = null;", "modifier": "protected", "type": "Language", "declarator": "language = null", "var_name": "language"}, {"original_string": "protected boolean languageIsPathEncoded = false;", "modifier": "protected", "type": "boolean", "declarator": "languageIsPathEncoded = false", "var_name": "languageIsPathEncoded"}, {"original_string": "private transient String link = null;", "modifier": "private transient", "type": "String", "declarator": "link = null", "var_name": "link"}, {"original_string": "protected RequestFlavor flavor = null;", "modifier": "protected", "type": "RequestFlavor", "declarator": "flavor = null", "var_name": "flavor"}], "methods": [{"identifier": "WebUrlImpl", "parameters": "(Site site, String path)", "modifiers": "public", "return": "", "signature": " WebUrlImpl(Site site, String path)", "full_signature": "public  WebUrlImpl(Site site, String path)", "class_method_signature": "WebUrlImpl.WebUrlImpl(Site site, String path)", "testcase": false, "constructor": true}, {"identifier": "WebUrlImpl", "parameters": "(Site site, Path url)", "modifiers": "public", "return": "", "signature": " WebUrlImpl(Site site, Path url)", "full_signature": "public  WebUrlImpl(Site site, Path url)", "class_method_signature": "WebUrlImpl.WebUrlImpl(Site site, Path url)", "testcase": false, "constructor": true}, {"identifier": "WebUrlImpl", "parameters": "(Site site, Path url, String path)", "modifiers": "public", "return": "", "signature": " WebUrlImpl(Site site, Path url, String path)", "full_signature": "public  WebUrlImpl(Site site, Path url, String path)", "class_method_signature": "WebUrlImpl.WebUrlImpl(Site site, Path url, String path)", "testcase": false, "constructor": true}, {"identifier": "WebUrlImpl", "parameters": "(Site site, String path, long version)", "modifiers": "public", "return": "", "signature": " WebUrlImpl(Site site, String path, long version)", "full_signature": "public  WebUrlImpl(Site site, String path, long version)", "class_method_signature": "WebUrlImpl.WebUrlImpl(Site site, String path, long version)", "testcase": false, "constructor": true}, {"identifier": "WebUrlImpl", "parameters": "(Site site, String path, long version, RequestFlavor flavor)", "modifiers": "public", "return": "", "signature": " WebUrlImpl(Site site, String path, long version, RequestFlavor flavor)", "full_signature": "public  WebUrlImpl(Site site, String path, long version, RequestFlavor flavor)", "class_method_signature": "WebUrlImpl.WebUrlImpl(Site site, String path, long version, RequestFlavor flavor)", "testcase": false, "constructor": true}, {"identifier": "WebUrlImpl", "parameters": "(Site site, String path, long version, RequestFlavor flavor,\n      Language language)", "modifiers": "public", "return": "", "signature": " WebUrlImpl(Site site, String path, long version, RequestFlavor flavor,\n      Language language)", "full_signature": "public  WebUrlImpl(Site site, String path, long version, RequestFlavor flavor,\n      Language language)", "class_method_signature": "WebUrlImpl.WebUrlImpl(Site site, String path, long version, RequestFlavor flavor,\n      Language language)", "testcase": false, "constructor": true}, {"identifier": "WebUrlImpl", "parameters": "(WebUrlImpl url, String path)", "modifiers": "public", "return": "", "signature": " WebUrlImpl(WebUrlImpl url, String path)", "full_signature": "public  WebUrlImpl(WebUrlImpl url, String path)", "class_method_signature": "WebUrlImpl.WebUrlImpl(WebUrlImpl url, String path)", "testcase": false, "constructor": true}, {"identifier": "getSite", "parameters": "()", "modifiers": "public", "return": "Site", "signature": "Site getSite()", "full_signature": "public Site getSite()", "class_method_signature": "WebUrlImpl.getSite()", "testcase": false, "constructor": false}, {"identifier": "getLink", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getLink()", "full_signature": "public String getLink()", "class_method_signature": "WebUrlImpl.getLink()", "testcase": false, "constructor": false}, {"identifier": "getLink", "parameters": "(long version)", "modifiers": "public", "return": "String", "signature": "String getLink(long version)", "full_signature": "public String getLink(long version)", "class_method_signature": "WebUrlImpl.getLink(long version)", "testcase": false, "constructor": false}, {"identifier": "getLink", "parameters": "(Language language)", "modifiers": "public", "return": "String", "signature": "String getLink(Language language)", "full_signature": "public String getLink(Language language)", "class_method_signature": "WebUrlImpl.getLink(Language language)", "testcase": false, "constructor": false}, {"identifier": "getLink", "parameters": "(String flavor)", "modifiers": "public", "return": "String", "signature": "String getLink(String flavor)", "full_signature": "public String getLink(String flavor)", "class_method_signature": "WebUrlImpl.getLink(String flavor)", "testcase": false, "constructor": false}, {"identifier": "getLink", "parameters": "(long version, Language language, String flavor)", "modifiers": "public", "return": "String", "signature": "String getLink(long version, Language language, String flavor)", "full_signature": "public String getLink(long version, Language language, String flavor)", "class_method_signature": "WebUrlImpl.getLink(long version, Language language, String flavor)", "testcase": false, "constructor": false}, {"identifier": "normalize", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String normalize()", "full_signature": "public String normalize()", "class_method_signature": "WebUrlImpl.normalize()", "testcase": false, "constructor": false}, {"identifier": "normalize", "parameters": "(boolean includeVersion, boolean includeLanguage,\n      boolean includeFlavor)", "modifiers": "public", "return": "String", "signature": "String normalize(boolean includeVersion, boolean includeLanguage,\n      boolean includeFlavor)", "full_signature": "public String normalize(boolean includeVersion, boolean includeLanguage,\n      boolean includeFlavor)", "class_method_signature": "WebUrlImpl.normalize(boolean includeVersion, boolean includeLanguage,\n      boolean includeFlavor)", "testcase": false, "constructor": false}, {"identifier": "getFlavor", "parameters": "()", "modifiers": "public", "return": "RequestFlavor", "signature": "RequestFlavor getFlavor()", "full_signature": "public RequestFlavor getFlavor()", "class_method_signature": "WebUrlImpl.getFlavor()", "testcase": false, "constructor": false}, {"identifier": "getVersion", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getVersion()", "full_signature": "public long getVersion()", "class_method_signature": "WebUrlImpl.getVersion()", "testcase": false, "constructor": false}, {"identifier": "getLanguage", "parameters": "()", "modifiers": "public", "return": "Language", "signature": "Language getLanguage()", "full_signature": "public Language getLanguage()", "class_method_signature": "WebUrlImpl.getLanguage()", "testcase": false, "constructor": false}, {"identifier": "hasLanguagePathSegment", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean hasLanguagePathSegment()", "full_signature": "public boolean hasLanguagePathSegment()", "class_method_signature": "WebUrlImpl.hasLanguagePathSegment()", "testcase": false, "constructor": false}, {"identifier": "hashCode", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int hashCode()", "full_signature": "@Override public int hashCode()", "class_method_signature": "WebUrlImpl.hashCode()", "testcase": false, "constructor": false}, {"identifier": "equals", "parameters": "(Object object)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean equals(Object object)", "full_signature": "@Override public boolean equals(Object object)", "class_method_signature": "WebUrlImpl.equals(Object object)", "testcase": false, "constructor": false}, {"identifier": "analyzePath", "parameters": "(String path, char separator)", "modifiers": "protected", "return": "String", "signature": "String analyzePath(String path, char separator)", "full_signature": "protected String analyzePath(String path, char separator)", "class_method_signature": "WebUrlImpl.analyzePath(String path, char separator)", "testcase": false, "constructor": false}, {"identifier": "toString", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String toString()", "full_signature": "@Override public String toString()", "class_method_signature": "WebUrlImpl.toString()", "testcase": false, "constructor": false}], "file": "modules/weblounge-common/src/main/java/ch/entwine/weblounge/common/impl/url/WebUrlImpl.java"}, "focal_method": {"identifier": "getLink", "parameters": "()", "modifiers": "public", "return": "String", "body": "public String getLink() {\n    if (link == null) {\n      try {\n        link = URLEncoder.encode(getLink(-1, null, null), \"utf-8\");\n      } catch (UnsupportedEncodingException e) {\n        logger.error(\"Unexpected error while urlencoding link {}\", link, e);\n      }\n      link = link.replaceAll(\"%2F\", \"/\");\n    }\n    return link;\n  }", "signature": "String getLink()", "full_signature": "public String getLink()", "class_method_signature": "WebUrlImpl.getLink()", "testcase": false, "constructor": false, "invocations": ["encode", "getLink", "error", "replaceAll"]}, "repository": {"repo_id": 3847504, "url": "https://github.com/digitalroastery/weblounge", "language": "Java", "is_fork": false, "fork_count": 4, "stargazer_count": 11, "size": 111809, "license": "licensed"}}