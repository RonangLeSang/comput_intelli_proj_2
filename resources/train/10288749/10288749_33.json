{"test_class": {"identifier": "AbstractControllerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String ERROR_MESSAGE = \"errorMessage\";", "modifier": "private static final", "type": "String", "declarator": "ERROR_MESSAGE = \"errorMessage\"", "var_name": "ERROR_MESSAGE"}, {"original_string": "private static final String ERROR_MESSAGE_CODE = \"errorMessageCode\";", "modifier": "private static final", "type": "String", "declarator": "ERROR_MESSAGE_CODE = \"errorMessageCode\"", "var_name": "ERROR_MESSAGE_CODE"}, {"original_string": "private static final String FEEDBACK_MESSAGE = \"feedbackMessage\";", "modifier": "private static final", "type": "String", "declarator": "FEEDBACK_MESSAGE = \"feedbackMessage\"", "var_name": "FEEDBACK_MESSAGE"}, {"original_string": "private static final String FEEDBACK_MESSAGE_CODE = \"feedbackMessageCode\";", "modifier": "private static final", "type": "String", "declarator": "FEEDBACK_MESSAGE_CODE = \"feedbackMessageCode\"", "var_name": "FEEDBACK_MESSAGE_CODE"}, {"original_string": "private static final String FLASH_ERROR_MESSAGE = \"errorMessage\";", "modifier": "private static final", "type": "String", "declarator": "FLASH_ERROR_MESSAGE = \"errorMessage\"", "var_name": "FLASH_ERROR_MESSAGE"}, {"original_string": "private static final String FLASH_FEEDBACK_MESSAGE = \"feedbackMessage\";", "modifier": "private static final", "type": "String", "declarator": "FLASH_FEEDBACK_MESSAGE = \"feedbackMessage\"", "var_name": "FLASH_FEEDBACK_MESSAGE"}, {"original_string": "private static final String REDIRECT_PATH = \"/foo\";", "modifier": "private static final", "type": "String", "declarator": "REDIRECT_PATH = \"/foo\"", "var_name": "REDIRECT_PATH"}, {"original_string": "private static final String VIEW_REDIRECT_PREFIX = \"redirect:\";", "modifier": "private static final", "type": "String", "declarator": "VIEW_REDIRECT_PREFIX = \"redirect:\"", "var_name": "VIEW_REDIRECT_PREFIX"}, {"original_string": "private TestController controller;", "modifier": "private", "type": "TestController", "declarator": "controller", "var_name": "controller"}, {"original_string": "private MessageSource messageSourceMock;", "modifier": "private", "type": "MessageSource", "declarator": "messageSourceMock", "var_name": "messageSourceMock"}], "file": "tutorial-part-eight/src/test/java/net/petrikainulainen/spring/datajpa/controller/AbstractControllerTest.java"}, "test_case": {"identifier": "addFeedbackMessage", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void addFeedbackMessage() {\n        RedirectAttributes model = new RedirectAttributesModelMap();\n        Object[] params = new Object[0];\n        when(messageSourceMock.getMessage(eq(FEEDBACK_MESSAGE_CODE), eq(params), any(Locale.class))).thenReturn(FEEDBACK_MESSAGE);\n\n        controller.addFeedbackMessage(model, FEEDBACK_MESSAGE_CODE, params);\n\n        verify(messageSourceMock, times(1)).getMessage(eq(FEEDBACK_MESSAGE_CODE), eq(params), any(Locale.class));\n        verifyNoMoreInteractions(messageSourceMock);\n\n        String feedbackMessage = (String) model.getFlashAttributes().get(FLASH_FEEDBACK_MESSAGE);\n        assertEquals(FEEDBACK_MESSAGE, feedbackMessage);\n    }", "signature": "void addFeedbackMessage()", "full_signature": "@Test public void addFeedbackMessage()", "class_method_signature": "AbstractControllerTest.addFeedbackMessage()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "getMessage", "eq", "eq", "any", "addFeedbackMessage", "getMessage", "verify", "times", "eq", "eq", "any", "verifyNoMoreInteractions", "get", "getFlashAttributes", "assertEquals"]}, "focal_class": {"identifier": "AbstractController", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger LOGGER = LoggerFactory.getLogger(AbstractController.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = LoggerFactory.getLogger(AbstractController.class)", "var_name": "LOGGER"}, {"original_string": "private static final String FLASH_ERROR_MESSAGE = \"errorMessage\";", "modifier": "private static final", "type": "String", "declarator": "FLASH_ERROR_MESSAGE = \"errorMessage\"", "var_name": "FLASH_ERROR_MESSAGE"}, {"original_string": "private static final String FLASH_FEEDBACK_MESSAGE = \"feedbackMessage\";", "modifier": "private static final", "type": "String", "declarator": "FLASH_FEEDBACK_MESSAGE = \"feedbackMessage\"", "var_name": "FLASH_FEEDBACK_MESSAGE"}, {"original_string": "private static final String VIEW_REDIRECT_PREFIX = \"redirect:\";", "modifier": "private static final", "type": "String", "declarator": "VIEW_REDIRECT_PREFIX = \"redirect:\"", "var_name": "VIEW_REDIRECT_PREFIX"}, {"original_string": "@Resource\n    private MessageSource messageSource;", "modifier": "@Resource\n    private", "type": "MessageSource", "declarator": "messageSource", "var_name": "messageSource"}], "methods": [{"identifier": "addErrorMessage", "parameters": "(RedirectAttributes model, String code, Object... params)", "modifiers": "protected", "return": "void", "signature": "void addErrorMessage(RedirectAttributes model, String code, Object... params)", "full_signature": "protected void addErrorMessage(RedirectAttributes model, String code, Object... params)", "class_method_signature": "AbstractController.addErrorMessage(RedirectAttributes model, String code, Object... params)", "testcase": false, "constructor": false}, {"identifier": "addFeedbackMessage", "parameters": "(RedirectAttributes model, String code, Object... params)", "modifiers": "protected", "return": "void", "signature": "void addFeedbackMessage(RedirectAttributes model, String code, Object... params)", "full_signature": "protected void addFeedbackMessage(RedirectAttributes model, String code, Object... params)", "class_method_signature": "AbstractController.addFeedbackMessage(RedirectAttributes model, String code, Object... params)", "testcase": false, "constructor": false}, {"identifier": "createRedirectViewPath", "parameters": "(String path)", "modifiers": "protected", "return": "String", "signature": "String createRedirectViewPath(String path)", "full_signature": "protected String createRedirectViewPath(String path)", "class_method_signature": "AbstractController.createRedirectViewPath(String path)", "testcase": false, "constructor": false}, {"identifier": "setMessageSource", "parameters": "(MessageSource messageSource)", "modifiers": "protected", "return": "void", "signature": "void setMessageSource(MessageSource messageSource)", "full_signature": "protected void setMessageSource(MessageSource messageSource)", "class_method_signature": "AbstractController.setMessageSource(MessageSource messageSource)", "testcase": false, "constructor": false}], "file": "tutorial-part-eight/src/main/java/net/petrikainulainen/spring/datajpa/controller/AbstractController.java"}, "focal_method": {"identifier": "addFeedbackMessage", "parameters": "(RedirectAttributes model, String code, Object... params)", "modifiers": "protected", "return": "void", "body": "protected void addFeedbackMessage(RedirectAttributes model, String code, Object... params) {\n        LOGGER.debug(\"Adding feedback message with code: \" + code + \" and params: \" + params);\n        Locale current = LocaleContextHolder.getLocale();\n        LOGGER.debug(\"Current locale is \" + current);\n        String localizedFeedbackMessage = messageSource.getMessage(code, params, current);\n        LOGGER.debug(\"Localized message is: \" + localizedFeedbackMessage);\n        model.addFlashAttribute(FLASH_FEEDBACK_MESSAGE, localizedFeedbackMessage);\n    }", "signature": "void addFeedbackMessage(RedirectAttributes model, String code, Object... params)", "full_signature": "protected void addFeedbackMessage(RedirectAttributes model, String code, Object... params)", "class_method_signature": "AbstractController.addFeedbackMessage(RedirectAttributes model, String code, Object... params)", "testcase": false, "constructor": false, "invocations": ["debug", "getLocale", "debug", "getMessage", "debug", "addFlashAttribute"]}, "repository": {"repo_id": 10288749, "url": "https://github.com/pkainulainen/spring-data-jpa-examples", "language": "Java", "is_fork": false, "fork_count": 691, "stargazer_count": 579, "size": 587, "license": "licensed"}}