{"test_class": {"identifier": "HttpGadgetContextTest", "superclass": "extends ServletTestFixture", "interfaces": "", "fields": [], "file": "java/gadgets/src/test/java/org/apache/shindig/gadgets/servlet/HttpGadgetContextTest.java"}, "test_case": {"identifier": "testGetUserIp", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testGetUserIp() {\n    expect(request.getRemoteAddr()).andReturn(\"2.3.4.5\");\n    replay();\n    GadgetContext context = new HttpGadgetContext(request);\n    assertEquals(\"2.3.4.5\", context.getUserIp());\n  }", "signature": "void testGetUserIp()", "full_signature": "@Test public void testGetUserIp()", "class_method_signature": "HttpGadgetContextTest.testGetUserIp()", "testcase": true, "constructor": false, "invocations": ["andReturn", "expect", "getRemoteAddr", "replay", "assertEquals", "getUserIp"]}, "focal_class": {"identifier": "HttpGadgetContext", "superclass": "extends GadgetContext", "interfaces": "", "fields": [{"original_string": "public static final String USERPREF_PARAM_PREFIX = \"up_\";", "modifier": "public static final", "type": "String", "declarator": "USERPREF_PARAM_PREFIX = \"up_\"", "var_name": "USERPREF_PARAM_PREFIX"}, {"original_string": "private final HttpServletRequest request;", "modifier": "private final", "type": "HttpServletRequest", "declarator": "request", "var_name": "request"}, {"original_string": "private final String container;", "modifier": "private final", "type": "String", "declarator": "container", "var_name": "container"}, {"original_string": "private final Boolean debug;", "modifier": "private final", "type": "Boolean", "declarator": "debug", "var_name": "debug"}, {"original_string": "private final Boolean ignoreCache;", "modifier": "private final", "type": "Boolean", "declarator": "ignoreCache", "var_name": "ignoreCache"}, {"original_string": "private final Locale locale;", "modifier": "private final", "type": "Locale", "declarator": "locale", "var_name": "locale"}, {"original_string": "private final Integer moduleId;", "modifier": "private final", "type": "Integer", "declarator": "moduleId", "var_name": "moduleId"}, {"original_string": "private final RenderingContext renderingContext;", "modifier": "private final", "type": "RenderingContext", "declarator": "renderingContext", "var_name": "renderingContext"}, {"original_string": "private final Uri url;", "modifier": "private final", "type": "Uri", "declarator": "url", "var_name": "url"}, {"original_string": "private final UserPrefs userPrefs;", "modifier": "private final", "type": "UserPrefs", "declarator": "userPrefs", "var_name": "userPrefs"}, {"original_string": "private final String view;", "modifier": "private final", "type": "String", "declarator": "view", "var_name": "view"}], "methods": [{"identifier": "HttpGadgetContext", "parameters": "(HttpServletRequest request)", "modifiers": "public", "return": "", "signature": " HttpGadgetContext(HttpServletRequest request)", "full_signature": "public  HttpGadgetContext(HttpServletRequest request)", "class_method_signature": "HttpGadgetContext.HttpGadgetContext(HttpServletRequest request)", "testcase": false, "constructor": true}, {"identifier": "getParameter", "parameters": "(String name)", "modifiers": "@Override public", "return": "String", "signature": "String getParameter(String name)", "full_signature": "@Override public String getParameter(String name)", "class_method_signature": "HttpGadgetContext.getParameter(String name)", "testcase": false, "constructor": false}, {"identifier": "getContainer", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getContainer()", "full_signature": "@Override public String getContainer()", "class_method_signature": "HttpGadgetContext.getContainer()", "testcase": false, "constructor": false}, {"identifier": "getHost", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getHost()", "full_signature": "@Override public String getHost()", "class_method_signature": "HttpGadgetContext.getHost()", "testcase": false, "constructor": false}, {"identifier": "getUserIp", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getUserIp()", "full_signature": "@Override public String getUserIp()", "class_method_signature": "HttpGadgetContext.getUserIp()", "testcase": false, "constructor": false}, {"identifier": "getDebug", "parameters": "()", "modifiers": "@Override public", "return": "boolean", "signature": "boolean getDebug()", "full_signature": "@Override public boolean getDebug()", "class_method_signature": "HttpGadgetContext.getDebug()", "testcase": false, "constructor": false}, {"identifier": "getIgnoreCache", "parameters": "()", "modifiers": "@Override public", "return": "boolean", "signature": "boolean getIgnoreCache()", "full_signature": "@Override public boolean getIgnoreCache()", "class_method_signature": "HttpGadgetContext.getIgnoreCache()", "testcase": false, "constructor": false}, {"identifier": "getLocale", "parameters": "()", "modifiers": "@Override public", "return": "Locale", "signature": "Locale getLocale()", "full_signature": "@Override public Locale getLocale()", "class_method_signature": "HttpGadgetContext.getLocale()", "testcase": false, "constructor": false}, {"identifier": "getModuleId", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int getModuleId()", "full_signature": "@Override public int getModuleId()", "class_method_signature": "HttpGadgetContext.getModuleId()", "testcase": false, "constructor": false}, {"identifier": "getRenderingContext", "parameters": "()", "modifiers": "@Override public", "return": "RenderingContext", "signature": "RenderingContext getRenderingContext()", "full_signature": "@Override public RenderingContext getRenderingContext()", "class_method_signature": "HttpGadgetContext.getRenderingContext()", "testcase": false, "constructor": false}, {"identifier": "getToken", "parameters": "()", "modifiers": "@Override public", "return": "SecurityToken", "signature": "SecurityToken getToken()", "full_signature": "@Override public SecurityToken getToken()", "class_method_signature": "HttpGadgetContext.getToken()", "testcase": false, "constructor": false}, {"identifier": "getUrl", "parameters": "()", "modifiers": "@Override public", "return": "Uri", "signature": "Uri getUrl()", "full_signature": "@Override public Uri getUrl()", "class_method_signature": "HttpGadgetContext.getUrl()", "testcase": false, "constructor": false}, {"identifier": "getUserPrefs", "parameters": "()", "modifiers": "@Override public", "return": "UserPrefs", "signature": "UserPrefs getUserPrefs()", "full_signature": "@Override public UserPrefs getUserPrefs()", "class_method_signature": "HttpGadgetContext.getUserPrefs()", "testcase": false, "constructor": false}, {"identifier": "getView", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getView()", "full_signature": "@Override public String getView()", "class_method_signature": "HttpGadgetContext.getView()", "testcase": false, "constructor": false}, {"identifier": "getUserAgent", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getUserAgent()", "full_signature": "@Override public String getUserAgent()", "class_method_signature": "HttpGadgetContext.getUserAgent()", "testcase": false, "constructor": false}, {"identifier": "getContainer", "parameters": "(HttpServletRequest req)", "modifiers": "private static", "return": "String", "signature": "String getContainer(HttpServletRequest req)", "full_signature": "private static String getContainer(HttpServletRequest req)", "class_method_signature": "HttpGadgetContext.getContainer(HttpServletRequest req)", "testcase": false, "constructor": false}, {"identifier": "getDebug", "parameters": "(HttpServletRequest req)", "modifiers": "private static", "return": "Boolean", "signature": "Boolean getDebug(HttpServletRequest req)", "full_signature": "private static Boolean getDebug(HttpServletRequest req)", "class_method_signature": "HttpGadgetContext.getDebug(HttpServletRequest req)", "testcase": false, "constructor": false}, {"identifier": "getIgnoreCache", "parameters": "(HttpServletRequest req)", "modifiers": "private static", "return": "Boolean", "signature": "Boolean getIgnoreCache(HttpServletRequest req)", "full_signature": "private static Boolean getIgnoreCache(HttpServletRequest req)", "class_method_signature": "HttpGadgetContext.getIgnoreCache(HttpServletRequest req)", "testcase": false, "constructor": false}, {"identifier": "getLocale", "parameters": "(HttpServletRequest req)", "modifiers": "private static", "return": "Locale", "signature": "Locale getLocale(HttpServletRequest req)", "full_signature": "private static Locale getLocale(HttpServletRequest req)", "class_method_signature": "HttpGadgetContext.getLocale(HttpServletRequest req)", "testcase": false, "constructor": false}, {"identifier": "getModuleId", "parameters": "(HttpServletRequest req)", "modifiers": "@SuppressWarnings(\"boxing\") private static", "return": "Integer", "signature": "Integer getModuleId(HttpServletRequest req)", "full_signature": "@SuppressWarnings(\"boxing\") private static Integer getModuleId(HttpServletRequest req)", "class_method_signature": "HttpGadgetContext.getModuleId(HttpServletRequest req)", "testcase": false, "constructor": false}, {"identifier": "getRenderingContext", "parameters": "(HttpServletRequest req)", "modifiers": "private static", "return": "RenderingContext", "signature": "RenderingContext getRenderingContext(HttpServletRequest req)", "full_signature": "private static RenderingContext getRenderingContext(HttpServletRequest req)", "class_method_signature": "HttpGadgetContext.getRenderingContext(HttpServletRequest req)", "testcase": false, "constructor": false}, {"identifier": "getUrl", "parameters": "(HttpServletRequest req)", "modifiers": "private static", "return": "Uri", "signature": "Uri getUrl(HttpServletRequest req)", "full_signature": "private static Uri getUrl(HttpServletRequest req)", "class_method_signature": "HttpGadgetContext.getUrl(HttpServletRequest req)", "testcase": false, "constructor": false}, {"identifier": "getUserPrefs", "parameters": "(HttpServletRequest req)", "modifiers": "@SuppressWarnings(\"unchecked\") private static", "return": "UserPrefs", "signature": "UserPrefs getUserPrefs(HttpServletRequest req)", "full_signature": "@SuppressWarnings(\"unchecked\") private static UserPrefs getUserPrefs(HttpServletRequest req)", "class_method_signature": "HttpGadgetContext.getUserPrefs(HttpServletRequest req)", "testcase": false, "constructor": false}, {"identifier": "getView", "parameters": "(HttpServletRequest req)", "modifiers": "private static", "return": "String", "signature": "String getView(HttpServletRequest req)", "full_signature": "private static String getView(HttpServletRequest req)", "class_method_signature": "HttpGadgetContext.getView(HttpServletRequest req)", "testcase": false, "constructor": false}], "file": "java/gadgets/src/main/java/org/apache/shindig/gadgets/servlet/HttpGadgetContext.java"}, "focal_method": {"identifier": "getUserIp", "parameters": "()", "modifiers": "@Override public", "return": "String", "body": "@Override\n  public String getUserIp() {\n    String ip = request.getRemoteAddr();\n    if (ip == null) {\n      return super.getUserIp();\n    }\n    return ip;\n  }", "signature": "String getUserIp()", "full_signature": "@Override public String getUserIp()", "class_method_signature": "HttpGadgetContext.getUserIp()", "testcase": false, "constructor": false, "invocations": ["getRemoteAddr", "getUserIp"]}, "repository": {"repo_id": 2153523, "url": "https://github.com/gatein/gatein-shindig", "language": "Java", "is_fork": false, "fork_count": 10, "stargazer_count": 6, "size": 3564, "license": "licensed"}}