{"test_class": {"identifier": "DefaultProvisioningAgentTest", "superclass": "extends BaseProvisioningAgentTest", "interfaces": "", "fields": [{"original_string": "DefaultProvisioningAgent provisioningService;", "modifier": "", "type": "DefaultProvisioningAgent", "declarator": "provisioningService", "var_name": "provisioningService"}, {"original_string": "GatewayDatastore store;", "modifier": "", "type": "GatewayDatastore", "declarator": "store", "var_name": "store"}, {"original_string": "String propertiesFile;", "modifier": "", "type": "String", "declarator": "propertiesFile", "var_name": "propertiesFile"}], "file": "rayo-provisioning/src/test/java/com/rayo/provisioning/DefaultProvisioningAgentTest.java"}, "test_case": {"identifier": "testMesageForNoPlatformIsProcessed", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testMesageForNoPlatformIsProcessed() throws Exception {\n\t\t\n\t\tDefaultJmsNotificationService jmsNotificationService = createNotificationService();\t\t\n\t\tlong messages = provisioningService.getMessagesProcessed();\n\t\t\n\t\tApplication application = createSampleApplication(1, \"test1\", \"test1@apps.tropo.com\");\n\t\tapplication.setEnvironment(ChannelType.VOICE, null);\n\t\tapplication.setEnvironment(ChannelType.MESSAGING, null);\n\t\t\n\t\tjmsNotificationService.notifyApplicationUpdated(application);\n\t\tThread.sleep(1000);\n\t\t// message was processed with platforms set to null\n\t\tassertEquals(provisioningService.getMessagesProcessed(), messages+1);\n\t}", "signature": "void testMesageForNoPlatformIsProcessed()", "full_signature": "@Test public void testMesageForNoPlatformIsProcessed()", "class_method_signature": "DefaultProvisioningAgentTest.testMesageForNoPlatformIsProcessed()", "testcase": true, "constructor": false, "invocations": ["createNotificationService", "getMessagesProcessed", "createSampleApplication", "setEnvironment", "setEnvironment", "notifyApplicationUpdated", "sleep", "assertEquals", "getMessagesProcessed"]}, "focal_class": {"identifier": "DefaultProvisioningAgent", "superclass": "", "interfaces": "implements ProvisioningAgent", "fields": [{"original_string": "private Loggerf logger = Loggerf.getLogger(DefaultProvisioningAgent.class);", "modifier": "private", "type": "Loggerf", "declarator": "logger = Loggerf.getLogger(DefaultProvisioningAgent.class)", "var_name": "logger"}, {"original_string": "public static final String TOPIC_NAME_CONSTANT = \"notificationsTopic\";", "modifier": "public static final", "type": "String", "declarator": "TOPIC_NAME_CONSTANT = \"notificationsTopic\"", "var_name": "TOPIC_NAME_CONSTANT"}, {"original_string": "private static final String CONTEXT_FACTORY=\"com.rayo.provisioning.jms.context.factory\";", "modifier": "private static final", "type": "String", "declarator": "CONTEXT_FACTORY=\"com.rayo.provisioning.jms.context.factory\"", "var_name": "CONTEXT_FACTORY"}, {"original_string": "private static final String PROVIDER_URL=\"com.rayo.provisioning.jms.provider.url\";", "modifier": "private static final", "type": "String", "declarator": "PROVIDER_URL=\"com.rayo.provisioning.jms.provider.url\"", "var_name": "PROVIDER_URL"}, {"original_string": "private static final String USERNAME=\"com.rayo.provisioning.jms.username\";", "modifier": "private static final", "type": "String", "declarator": "USERNAME=\"com.rayo.provisioning.jms.username\"", "var_name": "USERNAME"}, {"original_string": "private static final String PASSWORD=\"com.rayo.provisioning.jms.password\";", "modifier": "private static final", "type": "String", "declarator": "PASSWORD=\"com.rayo.provisioning.jms.password\"", "var_name": "PASSWORD"}, {"original_string": "private static final String RETRIES=\"com.rayo.provisioning.jms.retries\";", "modifier": "private static final", "type": "String", "declarator": "RETRIES=\"com.rayo.provisioning.jms.retries\"", "var_name": "RETRIES"}, {"original_string": "private static final String RETRY_INTERVAL=\"com.rayo.provisioning.jms.retryInterval\";", "modifier": "private static final", "type": "String", "declarator": "RETRY_INTERVAL=\"com.rayo.provisioning.jms.retryInterval\"", "var_name": "RETRY_INTERVAL"}, {"original_string": "private static final String PROVISIONING_QUEUE=\"com.rayo.provisioning.jms.notifications.queue\";", "modifier": "private static final", "type": "String", "declarator": "PROVISIONING_QUEUE=\"com.rayo.provisioning.jms.notifications.queue\"", "var_name": "PROVISIONING_QUEUE"}, {"original_string": "private static final String PROVISIONING_ENDPOINT=\"com.rayo.provisioning.api\";", "modifier": "private static final", "type": "String", "declarator": "PROVISIONING_ENDPOINT=\"com.rayo.provisioning.api\"", "var_name": "PROVISIONING_ENDPOINT"}, {"original_string": "private static final String PROVISIONING_ENDPOINT_USERNAME=\"com.rayo.provisioning.api.username\";", "modifier": "private static final", "type": "String", "declarator": "PROVISIONING_ENDPOINT_USERNAME=\"com.rayo.provisioning.api.username\"", "var_name": "PROVISIONING_ENDPOINT_USERNAME"}, {"original_string": "private static final String PROVISIONING_ENDPOINT_PASSWORD=\"com.rayo.provisioning.api.password\";", "modifier": "private static final", "type": "String", "declarator": "PROVISIONING_ENDPOINT_PASSWORD=\"com.rayo.provisioning.api.password\"", "var_name": "PROVISIONING_ENDPOINT_PASSWORD"}, {"original_string": "public static final String PROVISIONING_DEFAULT_PERMISSIONS=\"com.rayo.provisioning.default.permissions\";", "modifier": "public static final", "type": "String", "declarator": "PROVISIONING_DEFAULT_PERMISSIONS=\"com.rayo.provisioning.default.permissions\"", "var_name": "PROVISIONING_DEFAULT_PERMISSIONS"}, {"original_string": "private static final String RAYO_DOMAIN_NAME=\"com.rayo.domain.name\";", "modifier": "private static final", "type": "String", "declarator": "RAYO_DOMAIN_NAME=\"com.rayo.domain.name\"", "var_name": "RAYO_DOMAIN_NAME"}, {"original_string": "private ReentrantLock initLock = new ReentrantLock();", "modifier": "private", "type": "ReentrantLock", "declarator": "initLock = new ReentrantLock()", "var_name": "initLock"}, {"original_string": "private InitialContext context;", "modifier": "private", "type": "InitialContext", "declarator": "context", "var_name": "context"}, {"original_string": "private Connection connection;", "modifier": "private", "type": "Connection", "declarator": "connection", "var_name": "connection"}, {"original_string": "private Destination destination;", "modifier": "private", "type": "Destination", "declarator": "destination", "var_name": "destination"}, {"original_string": "private Session session;", "modifier": "private", "type": "Session", "declarator": "session", "var_name": "session"}, {"original_string": "private MessageConsumer consumer;", "modifier": "private", "type": "MessageConsumer", "declarator": "consumer", "var_name": "consumer"}, {"original_string": "private int retries = 10;", "modifier": "private", "type": "int", "declarator": "retries = 10", "var_name": "retries"}, {"original_string": "private int retryInterval = 1000;", "modifier": "private", "type": "int", "declarator": "retryInterval = 1000", "var_name": "retryInterval"}, {"original_string": "private boolean connected;", "modifier": "private", "type": "boolean", "declarator": "connected", "var_name": "connected"}, {"original_string": "private String provisioningEndpoint;", "modifier": "private", "type": "String", "declarator": "provisioningEndpoint", "var_name": "provisioningEndpoint"}, {"original_string": "private String provisioningUsername;", "modifier": "private", "type": "String", "declarator": "provisioningUsername", "var_name": "provisioningUsername"}, {"original_string": "private String provisioningPassword;", "modifier": "private", "type": "String", "declarator": "provisioningPassword", "var_name": "provisioningPassword"}, {"original_string": "private String domainName;", "modifier": "private", "type": "String", "declarator": "domainName", "var_name": "domainName"}, {"original_string": "private MessageProcessor messageProcessor = new MessageProcessor();", "modifier": "private", "type": "MessageProcessor", "declarator": "messageProcessor = new MessageProcessor()", "var_name": "messageProcessor"}, {"original_string": "private StorageServiceClient storageServiceClient;", "modifier": "private", "type": "StorageServiceClient", "declarator": "storageServiceClient", "var_name": "storageServiceClient"}, {"original_string": "private ProvisioningClient provisioningServiceClient;", "modifier": "private", "type": "ProvisioningClient", "declarator": "provisioningServiceClient", "var_name": "provisioningServiceClient"}], "methods": [{"identifier": "init", "parameters": "(ApplicationContext applicationContext, Properties properties)", "modifiers": "public", "return": "void", "signature": "void init(ApplicationContext applicationContext, Properties properties)", "full_signature": "public void init(ApplicationContext applicationContext, Properties properties)", "class_method_signature": "DefaultProvisioningAgent.init(ApplicationContext applicationContext, Properties properties)", "testcase": false, "constructor": false}, {"identifier": "loadProperties", "parameters": "(Properties properties)", "modifiers": "private", "return": "void", "signature": "void loadProperties(Properties properties)", "full_signature": "private void loadProperties(Properties properties)", "class_method_signature": "DefaultProvisioningAgent.loadProperties(Properties properties)", "testcase": false, "constructor": false}, {"identifier": "shutdown", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void shutdown()", "full_signature": "public void shutdown()", "class_method_signature": "DefaultProvisioningAgent.shutdown()", "testcase": false, "constructor": false}, {"identifier": "checkProperty", "parameters": "(Properties properties, String property)", "modifiers": "private", "return": "String", "signature": "String checkProperty(Properties properties, String property)", "full_signature": "private String checkProperty(Properties properties, String property)", "class_method_signature": "DefaultProvisioningAgent.checkProperty(Properties properties, String property)", "testcase": false, "constructor": false}, {"identifier": "isConnected", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isConnected()", "full_signature": "public boolean isConnected()", "class_method_signature": "DefaultProvisioningAgent.isConnected()", "testcase": false, "constructor": false}, {"identifier": "getMessagesProcessed", "parameters": "()", "modifiers": "protected", "return": "long", "signature": "long getMessagesProcessed()", "full_signature": "protected long getMessagesProcessed()", "class_method_signature": "DefaultProvisioningAgent.getMessagesProcessed()", "testcase": false, "constructor": false}, {"identifier": "getMessagesFailed", "parameters": "()", "modifiers": "protected", "return": "long", "signature": "long getMessagesFailed()", "full_signature": "protected long getMessagesFailed()", "class_method_signature": "DefaultProvisioningAgent.getMessagesFailed()", "testcase": false, "constructor": false}, {"identifier": "setProvisioningServiceClient", "parameters": "(\n\t\t\tProvisioningClient provisioningServiceClient)", "modifiers": "public", "return": "void", "signature": "void setProvisioningServiceClient(\n\t\t\tProvisioningClient provisioningServiceClient)", "full_signature": "public void setProvisioningServiceClient(\n\t\t\tProvisioningClient provisioningServiceClient)", "class_method_signature": "DefaultProvisioningAgent.setProvisioningServiceClient(\n\t\t\tProvisioningClient provisioningServiceClient)", "testcase": false, "constructor": false}, {"identifier": "setStorageServiceClient", "parameters": "(StorageServiceClient storageServiceClient)", "modifiers": "public", "return": "void", "signature": "void setStorageServiceClient(StorageServiceClient storageServiceClient)", "full_signature": "public void setStorageServiceClient(StorageServiceClient storageServiceClient)", "class_method_signature": "DefaultProvisioningAgent.setStorageServiceClient(StorageServiceClient storageServiceClient)", "testcase": false, "constructor": false}, {"identifier": "getStorageServiceClient", "parameters": "()", "modifiers": "", "return": "StorageServiceClient", "signature": "StorageServiceClient getStorageServiceClient()", "full_signature": " StorageServiceClient getStorageServiceClient()", "class_method_signature": "DefaultProvisioningAgent.getStorageServiceClient()", "testcase": false, "constructor": false}], "file": "rayo-provisioning/src/main/java/com/rayo/provisioning/DefaultProvisioningAgent.java"}, "focal_method": {"identifier": "getMessagesProcessed", "parameters": "()", "modifiers": "protected", "return": "long", "body": "protected long getMessagesProcessed() {\n\t\t\n\t\treturn messageProcessor.getMessagesProcessed();\n\t}", "signature": "long getMessagesProcessed()", "full_signature": "protected long getMessagesProcessed()", "class_method_signature": "DefaultProvisioningAgent.getMessagesProcessed()", "testcase": false, "constructor": false, "invocations": ["getMessagesProcessed"]}, "repository": {"repo_id": 2306900, "url": "https://github.com/rayo/rayo-server", "language": "Java", "is_fork": false, "fork_count": 3, "stargazer_count": 41, "size": 8728, "license": "licensed"}}