{"test_class": {"identifier": "OpenSocialI18NGadgetRewriterTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private OpenSocialI18NGadgetRewriter i18nRewriter;", "modifier": "private", "type": "OpenSocialI18NGadgetRewriter", "declarator": "i18nRewriter", "var_name": "i18nRewriter"}, {"original_string": "private Locale localeAtRendering;", "modifier": "private", "type": "Locale", "declarator": "localeAtRendering", "var_name": "localeAtRendering"}], "file": "java/gadgets/src/test/java/org/apache/shindig/gadgets/render/OpenSocialI18NGadgetRewriterTest.java"}, "test_case": {"identifier": "localeNameForInvalidLanguage", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void localeNameForInvalidLanguage() throws Exception {\n    localeAtRendering = new Locale(\"foo\", \"CN\");\n    assertEquals(\"en\",\n                 i18nRewriter.getLocaleNameForLoadingI18NConstants(localeAtRendering));\n  }", "signature": "void localeNameForInvalidLanguage()", "full_signature": "@Test public void localeNameForInvalidLanguage()", "class_method_signature": "OpenSocialI18NGadgetRewriterTest.localeNameForInvalidLanguage()", "testcase": true, "constructor": false, "invocations": ["assertEquals", "getLocaleNameForLoadingI18NConstants"]}, "focal_class": {"identifier": "OpenSocialI18NGadgetRewriter", "superclass": "", "interfaces": "implements GadgetRewriter", "fields": [{"original_string": "private static final String I18N_FEATURE_NAME = \"opensocial-i18n\";", "modifier": "private static final", "type": "String", "declarator": "I18N_FEATURE_NAME = \"opensocial-i18n\"", "var_name": "I18N_FEATURE_NAME"}, {"original_string": "private static final String DATA_PATH = \"features/i18n/data/\";", "modifier": "private static final", "type": "String", "declarator": "DATA_PATH = \"features/i18n/data/\"", "var_name": "DATA_PATH"}, {"original_string": "private Map<Locale, String> i18nConstantsCache = new ConcurrentHashMap<Locale, String>();", "modifier": "private", "type": "Map<Locale, String>", "declarator": "i18nConstantsCache = new ConcurrentHashMap<Locale, String>()", "var_name": "i18nConstantsCache"}], "methods": [{"identifier": "rewrite", "parameters": "(Gadget gadget, MutableContent mutableContent)", "modifiers": "public", "return": "void", "signature": "void rewrite(Gadget gadget, MutableContent mutableContent)", "full_signature": "public void rewrite(Gadget gadget, MutableContent mutableContent)", "class_method_signature": "OpenSocialI18NGadgetRewriter.rewrite(Gadget gadget, MutableContent mutableContent)", "testcase": false, "constructor": false}, {"identifier": "injectI18NConstants", "parameters": "(Gadget gadget, Node headTag)", "modifiers": "private", "return": "void", "signature": "void injectI18NConstants(Gadget gadget, Node headTag)", "full_signature": "private void injectI18NConstants(Gadget gadget, Node headTag)", "class_method_signature": "OpenSocialI18NGadgetRewriter.injectI18NConstants(Gadget gadget, Node headTag)", "testcase": false, "constructor": false}, {"identifier": "getLocaleNameForLoadingI18NConstants", "parameters": "(Locale locale)", "modifiers": "", "return": "String", "signature": "String getLocaleNameForLoadingI18NConstants(Locale locale)", "full_signature": " String getLocaleNameForLoadingI18NConstants(Locale locale)", "class_method_signature": "OpenSocialI18NGadgetRewriter.getLocaleNameForLoadingI18NConstants(Locale locale)", "testcase": false, "constructor": false}, {"identifier": "attemptToLoadDateConstants", "parameters": "(String localeName)", "modifiers": "protected", "return": "String", "signature": "String attemptToLoadDateConstants(String localeName)", "full_signature": "protected String attemptToLoadDateConstants(String localeName)", "class_method_signature": "OpenSocialI18NGadgetRewriter.attemptToLoadDateConstants(String localeName)", "testcase": false, "constructor": false}, {"identifier": "attemptToLoadResource", "parameters": "(String i18nRes)", "modifiers": "private", "return": "String", "signature": "String attemptToLoadResource(String i18nRes)", "full_signature": "private String attemptToLoadResource(String i18nRes)", "class_method_signature": "OpenSocialI18NGadgetRewriter.attemptToLoadResource(String i18nRes)", "testcase": false, "constructor": false}, {"identifier": "attemptToLoadResourceFullyQualified", "parameters": "(String resource)", "modifiers": "protected", "return": "String", "signature": "String attemptToLoadResourceFullyQualified(String resource)", "full_signature": "protected String attemptToLoadResourceFullyQualified(String resource)", "class_method_signature": "OpenSocialI18NGadgetRewriter.attemptToLoadResourceFullyQualified(String resource)", "testcase": false, "constructor": false}], "file": "java/gadgets/src/main/java/org/apache/shindig/gadgets/render/OpenSocialI18NGadgetRewriter.java"}, "focal_method": {"identifier": "getLocaleNameForLoadingI18NConstants", "parameters": "(Locale locale)", "modifiers": "", "return": "String", "body": "String getLocaleNameForLoadingI18NConstants(Locale locale) {\n    String localeName = \"en\";\n    String language = locale.getLanguage();\n    String country = locale.getCountry();\n    if (!language.equalsIgnoreCase(\"ALL\")) {\n      try {\n        attemptToLoadDateConstants(language);\n        localeName = language;\n      } catch (IOException e) {\n        // ignore\n      }\n    }\n\n    if (!country.equalsIgnoreCase(\"ALL\")) {\n      try {\n        attemptToLoadDateConstants(localeName + '_' + country);\n        localeName += '_' + country;\n      } catch (IOException e) {\n        // ignore\n      }\n    }\n    return localeName;\n  }", "signature": "String getLocaleNameForLoadingI18NConstants(Locale locale)", "full_signature": " String getLocaleNameForLoadingI18NConstants(Locale locale)", "class_method_signature": "OpenSocialI18NGadgetRewriter.getLocaleNameForLoadingI18NConstants(Locale locale)", "testcase": false, "constructor": false, "invocations": ["getLanguage", "getCountry", "equalsIgnoreCase", "attemptToLoadDateConstants", "equalsIgnoreCase", "attemptToLoadDateConstants"]}, "repository": {"repo_id": 206633, "url": "https://github.com/apache/shindig", "language": "Java", "is_fork": false, "fork_count": 65, "stargazer_count": 65, "size": 18767, "license": "licensed"}}