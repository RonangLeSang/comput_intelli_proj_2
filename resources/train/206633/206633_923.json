{"test_class": {"identifier": "CajaJsSubtractingProcessorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final List<String> ERRORS = ImmutableList.<String>of();", "modifier": "private static final", "type": "List<String>", "declarator": "ERRORS = ImmutableList.<String>of()", "var_name": "ERRORS"}, {"original_string": "private static final String SOURCE = \"source\";", "modifier": "private static final", "type": "String", "declarator": "SOURCE = \"source\"", "var_name": "SOURCE"}, {"original_string": "private static final String NORMAL_CONTENT_JS = \"normal\";", "modifier": "private static final", "type": "String", "declarator": "NORMAL_CONTENT_JS = \"normal\"", "var_name": "NORMAL_CONTENT_JS"}, {"original_string": "private static final String CAJA_CONTENT_JS = \"cajoled\";", "modifier": "private static final", "type": "String", "declarator": "CAJA_CONTENT_JS = \"cajoled\"", "var_name": "CAJA_CONTENT_JS"}, {"original_string": "private IMocksControl control;", "modifier": "private", "type": "IMocksControl", "declarator": "control", "var_name": "control"}, {"original_string": "private List<JsContent> contents = Lists.newArrayList();", "modifier": "private", "type": "List<JsContent>", "declarator": "contents = Lists.newArrayList()", "var_name": "contents"}, {"original_string": "private JsResponse response;", "modifier": "private", "type": "JsResponse", "declarator": "response", "var_name": "response"}, {"original_string": "private JsResponseBuilder builder;", "modifier": "private", "type": "JsResponseBuilder", "declarator": "builder", "var_name": "builder"}, {"original_string": "private CajaJsSubtractingProcessor processor;", "modifier": "private", "type": "CajaJsSubtractingProcessor", "declarator": "processor", "var_name": "processor"}], "file": "java/gadgets/src/test/java/org/apache/shindig/gadgets/js/CajaJsSubtractingProcessorTest.java"}, "test_case": {"identifier": "cajoleRequest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void cajoleRequest() throws Exception {\n    JsUri uri = mockJsUri(true);\n    JsRequest request = mockJsRequest(uri);\n\n    control.replay();\n    boolean actualReturn = processor.process(request, builder);\n    JsResponse actualResponse = builder.build();\n\n    control.verify();\n    assertTrue(actualReturn);\n    assertEquals(Strings.repeat(NORMAL_CONTENT_JS, 3) + CAJA_CONTENT_JS,\n        actualResponse.toJsString());\n  }", "signature": "void cajoleRequest()", "full_signature": "@Test public void cajoleRequest()", "class_method_signature": "CajaJsSubtractingProcessorTest.cajoleRequest()", "testcase": true, "constructor": false, "invocations": ["mockJsUri", "mockJsRequest", "replay", "process", "build", "verify", "assertTrue", "assertEquals", "repeat", "toJsString"]}, "focal_class": {"identifier": "CajaJsSubtractingProcessor", "superclass": "", "interfaces": "implements JsProcessor", "fields": [{"original_string": "@VisibleForTesting\n  static final String ATTRIB_VALUE = \"1\";", "modifier": "@VisibleForTesting\n  static final", "type": "String", "declarator": "ATTRIB_VALUE = \"1\"", "var_name": "ATTRIB_VALUE"}], "methods": [{"identifier": "process", "parameters": "(JsRequest jsRequest, JsResponseBuilder builder)", "modifiers": "public", "return": "boolean", "signature": "boolean process(JsRequest jsRequest, JsResponseBuilder builder)", "full_signature": "public boolean process(JsRequest jsRequest, JsResponseBuilder builder)", "class_method_signature": "CajaJsSubtractingProcessor.process(JsRequest jsRequest, JsResponseBuilder builder)", "testcase": false, "constructor": false}, {"identifier": "isCajole", "parameters": "(JsContent js)", "modifiers": "private", "return": "boolean", "signature": "boolean isCajole(JsContent js)", "full_signature": "private boolean isCajole(JsContent js)", "class_method_signature": "CajaJsSubtractingProcessor.isCajole(JsContent js)", "testcase": false, "constructor": false}], "file": "java/gadgets/src/main/java/org/apache/shindig/gadgets/js/CajaJsSubtractingProcessor.java"}, "focal_method": {"identifier": "process", "parameters": "(JsRequest jsRequest, JsResponseBuilder builder)", "modifiers": "public", "return": "boolean", "body": "public boolean process(JsRequest jsRequest, JsResponseBuilder builder) {\n    if (!jsRequest.getJsUri().cajoleContent()) {\n      ImmutableList.Builder<JsContent> listBuilder = ImmutableList.builder();\n      for (JsContent js : builder.build().getAllJsContent()) {\n        if (!isCajole(js)) {\n          listBuilder.add(js);\n        }\n      }\n      builder.clearJs().appendAllJs(listBuilder.build());\n    }\n    return true;\n  }", "signature": "boolean process(JsRequest jsRequest, JsResponseBuilder builder)", "full_signature": "public boolean process(JsRequest jsRequest, JsResponseBuilder builder)", "class_method_signature": "CajaJsSubtractingProcessor.process(JsRequest jsRequest, JsResponseBuilder builder)", "testcase": false, "constructor": false, "invocations": ["cajoleContent", "getJsUri", "builder", "getAllJsContent", "build", "isCajole", "add", "appendAllJs", "clearJs", "build"]}, "repository": {"repo_id": 206633, "url": "https://github.com/apache/shindig", "language": "Java", "is_fork": false, "fork_count": 65, "stargazer_count": 65, "size": 18767, "license": "licensed"}}