{"test_class": {"identifier": "AssetUtilsTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static UUID appId = new UUID( 0, 1 );", "modifier": "private static", "type": "UUID", "declarator": "appId = new UUID( 0, 1 )", "var_name": "appId"}], "file": "stack/services/src/test/java/org/apache/usergrid/services/assets/data/AssetUtilsTest.java"}, "test_case": {"identifier": "buildPathOk", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void buildPathOk() {\n        Asset asset = new Asset();\n        asset.setPath( \"path/to/file\" );\n        asset.setUuid( UUID.randomUUID() );\n\n        String path = AssetUtils.buildAssetKey( appId, asset );\n\n        assertEquals( 73, path.length() );\n        assertEquals( appId.toString(), path.substring( 0, 36 ) );\n    }", "signature": "void buildPathOk()", "full_signature": "@Test public void buildPathOk()", "class_method_signature": "AssetUtilsTest.buildPathOk()", "testcase": true, "constructor": false, "invocations": ["setPath", "setUuid", "randomUUID", "buildAssetKey", "assertEquals", "length", "assertEquals", "toString", "substring"]}, "focal_class": {"identifier": "AssetUtils", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger logger = LoggerFactory.getLogger( AssetUtils.class );", "modifier": "private static final", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger( AssetUtils.class )", "var_name": "logger"}, {"original_string": "public static final String FILE_METADATA = \"file-metadata\";", "modifier": "public static final", "type": "String", "declarator": "FILE_METADATA = \"file-metadata\"", "var_name": "FILE_METADATA"}, {"original_string": "public static final String CONTENT_TYPE = \"content-type\";", "modifier": "public static final", "type": "String", "declarator": "CONTENT_TYPE = \"content-type\"", "var_name": "CONTENT_TYPE"}, {"original_string": "public static final String CONTENT_LENGTH = \"content-length\";", "modifier": "public static final", "type": "String", "declarator": "CONTENT_LENGTH = \"content-length\"", "var_name": "CONTENT_LENGTH"}, {"original_string": "public static final String CONTENT_DISPOSITION = \"content-disposition\";", "modifier": "public static final", "type": "String", "declarator": "CONTENT_DISPOSITION = \"content-disposition\"", "var_name": "CONTENT_DISPOSITION"}, {"original_string": "public static final String E_TAG = \"etag\";", "modifier": "public static final", "type": "String", "declarator": "E_TAG = \"etag\"", "var_name": "E_TAG"}, {"original_string": "public static final String CHECKSUM = \"checksum\";", "modifier": "public static final", "type": "String", "declarator": "CHECKSUM = \"checksum\"", "var_name": "CHECKSUM"}, {"original_string": "public static final String LAST_MODIFIED = \"last-modified\";", "modifier": "public static final", "type": "String", "declarator": "LAST_MODIFIED = \"last-modified\"", "var_name": "LAST_MODIFIED"}, {"original_string": "public static final String PATTERN_RFC1123 = \"EEE, dd MMM yyyy HH:mm:ss zzz\";", "modifier": "public static final", "type": "String", "declarator": "PATTERN_RFC1123 = \"EEE, dd MMM yyyy HH:mm:ss zzz\"", "var_name": "PATTERN_RFC1123"}, {"original_string": "public static final String PATTERN_RFC1036 = \"EEEE, dd-MMM-yy HH:mm:ss zzz\";", "modifier": "public static final", "type": "String", "declarator": "PATTERN_RFC1036 = \"EEEE, dd-MMM-yy HH:mm:ss zzz\"", "var_name": "PATTERN_RFC1036"}, {"original_string": "public static final String PATTERN_ASCTIME = \"EEE MMM d HH:mm:ss yyyy\";", "modifier": "public static final", "type": "String", "declarator": "PATTERN_ASCTIME = \"EEE MMM d HH:mm:ss yyyy\"", "var_name": "PATTERN_ASCTIME"}, {"original_string": "public static final String[] DEFAULT_PATTERNS = new String[] {\n            PATTERN_RFC1036, PATTERN_RFC1123, PATTERN_ASCTIME\n    };", "modifier": "public static final", "type": "String[]", "declarator": "DEFAULT_PATTERNS = new String[] {\n            PATTERN_RFC1036, PATTERN_RFC1123, PATTERN_ASCTIME\n    }", "var_name": "DEFAULT_PATTERNS"}], "methods": [{"identifier": "buildAssetKey", "parameters": "( UUID appId, Entity entity )", "modifiers": "public static", "return": "String", "signature": "String buildAssetKey( UUID appId, Entity entity )", "full_signature": "public static String buildAssetKey( UUID appId, Entity entity )", "class_method_signature": "AssetUtils.buildAssetKey( UUID appId, Entity entity )", "testcase": false, "constructor": false}, {"identifier": "fromIfModifiedSince", "parameters": "( String headerValue )", "modifiers": "public static", "return": "Date", "signature": "Date fromIfModifiedSince( String headerValue )", "full_signature": "public static Date fromIfModifiedSince( String headerValue )", "class_method_signature": "AssetUtils.fromIfModifiedSince( String headerValue )", "testcase": false, "constructor": false}, {"identifier": "getFileMetadata", "parameters": "( Entity entity )", "modifiers": "public static", "return": "Map<String, Object>", "signature": "Map<String, Object> getFileMetadata( Entity entity )", "full_signature": "public static Map<String, Object> getFileMetadata( Entity entity )", "class_method_signature": "AssetUtils.getFileMetadata( Entity entity )", "testcase": false, "constructor": false}, {"identifier": "addLegacyMetadata", "parameters": "( Entity entity, Map<String, Object> metadata )", "modifiers": "private static", "return": "void", "signature": "void addLegacyMetadata( Entity entity, Map<String, Object> metadata )", "full_signature": "private static void addLegacyMetadata( Entity entity, Map<String, Object> metadata )", "class_method_signature": "AssetUtils.addLegacyMetadata( Entity entity, Map<String, Object> metadata )", "testcase": false, "constructor": false}], "file": "stack/services/src/main/java/org/apache/usergrid/services/assets/data/AssetUtils.java"}, "focal_method": {"identifier": "buildAssetKey", "parameters": "( UUID appId, Entity entity )", "modifiers": "public static", "return": "String", "body": "public static String buildAssetKey( UUID appId, Entity entity ) {\n        Preconditions.checkArgument( entity.getUuid() != null, \"The asset provided to buildAssetKey had a null UUID\" );\n        Preconditions.checkArgument( appId != null, \"The appId provided to buildAssetKey was null\" );\n        return appId.toString().concat( \"/\" ).concat( entity.getUuid().toString() );\n    }", "signature": "String buildAssetKey( UUID appId, Entity entity )", "full_signature": "public static String buildAssetKey( UUID appId, Entity entity )", "class_method_signature": "AssetUtils.buildAssetKey( UUID appId, Entity entity )", "testcase": false, "constructor": false, "invocations": ["checkArgument", "getUuid", "checkArgument", "concat", "concat", "toString", "toString", "getUuid"]}, "repository": {"repo_id": 14135471, "url": "https://github.com/apache/usergrid", "language": "Java", "is_fork": false, "fork_count": 432, "stargazer_count": 983, "size": 383432, "license": "licensed"}}