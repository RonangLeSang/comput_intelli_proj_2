{"test_class": {"identifier": "DefaultPrimaryEntityMetadataManagerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Rule\n    public final MockitoComponentMockingRule<PrimaryEntityMetadataManager> mocker =\n        new MockitoComponentMockingRule<>(DefaultPrimaryEntityMetadataManager.class);", "modifier": "@Rule\n    public final", "type": "MockitoComponentMockingRule<PrimaryEntityMetadataManager>", "declarator": "mocker =\n        new MockitoComponentMockingRule<>(DefaultPrimaryEntityMetadataManager.class)", "var_name": "mocker"}, {"original_string": "@Mock\n    private PrimaryEntityMetadataProvider provider1;", "modifier": "@Mock\n    private", "type": "PrimaryEntityMetadataProvider", "declarator": "provider1", "var_name": "provider1"}, {"original_string": "@Mock\n    private PrimaryEntityMetadataProvider provider2;", "modifier": "@Mock\n    private", "type": "PrimaryEntityMetadataProvider", "declarator": "provider2", "var_name": "provider2"}, {"original_string": "@Mock\n    private PrimaryEntity entity;", "modifier": "@Mock\n    private", "type": "PrimaryEntity", "declarator": "entity", "var_name": "entity"}, {"original_string": "private PrimaryEntityMetadataManager component;", "modifier": "private", "type": "PrimaryEntityMetadataManager", "declarator": "component", "var_name": "component"}], "file": "components/entities/api/src/test/java/org/phenotips/entities/internal/DefaultPrimaryEntityMetadataManagerTest.java"}, "test_case": {"identifier": "getMetadataGathersMetadataFromAllProviders", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getMetadataGathersMetadataFromAllProviders()\n    {\n        when(this.provider1.provideMetadata(this.entity)).thenReturn(Collections.singletonMap(\"key1\", \"value1\"));\n        when(this.provider2.provideMetadata(this.entity)).thenReturn(Collections.singletonMap(\"key2\", 2));\n        Map<String, Object> result = this.component.getMetadata(this.entity);\n        Assert.assertEquals(2, result.size());\n        Assert.assertEquals(\"value1\", result.get(\"key1\"));\n        Assert.assertEquals(2, result.get(\"key2\"));\n    }", "signature": "void getMetadataGathersMetadataFromAllProviders()", "full_signature": "@Test public void getMetadataGathersMetadataFromAllProviders()", "class_method_signature": "DefaultPrimaryEntityMetadataManagerTest.getMetadataGathersMetadataFromAllProviders()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "provideMetadata", "singletonMap", "thenReturn", "when", "provideMetadata", "singletonMap", "getMetadata", "assertEquals", "size", "assertEquals", "get", "assertEquals", "get"]}, "focal_class": {"identifier": "DefaultPrimaryEntityMetadataManager", "superclass": "", "interfaces": "implements PrimaryEntityMetadataManager", "fields": [{"original_string": "@Inject\n    private Provider<List<PrimaryEntityMetadataProvider>> allProviders;", "modifier": "@Inject\n    private", "type": "Provider<List<PrimaryEntityMetadataProvider>>", "declarator": "allProviders", "var_name": "allProviders"}], "methods": [{"identifier": "getMetadata", "parameters": "(PrimaryEntity entity)", "modifiers": "@Override public", "return": "Map<String, Object>", "signature": "Map<String, Object> getMetadata(PrimaryEntity entity)", "full_signature": "@Override public Map<String, Object> getMetadata(PrimaryEntity entity)", "class_method_signature": "DefaultPrimaryEntityMetadataManager.getMetadata(PrimaryEntity entity)", "testcase": false, "constructor": false}], "file": "components/entities/api/src/main/java/org/phenotips/entities/internal/DefaultPrimaryEntityMetadataManager.java"}, "focal_method": {"identifier": "getMetadata", "parameters": "(PrimaryEntity entity)", "modifiers": "@Override public", "return": "Map<String, Object>", "body": "@Override\n    public Map<String, Object> getMetadata(PrimaryEntity entity)\n    {\n        Map<String, Object> result = new HashMap<>();\n        this.allProviders.get().forEach(provider -> result.putAll(provider.provideMetadata(entity)));\n        return result;\n    }", "signature": "Map<String, Object> getMetadata(PrimaryEntity entity)", "full_signature": "@Override public Map<String, Object> getMetadata(PrimaryEntity entity)", "class_method_signature": "DefaultPrimaryEntityMetadataManager.getMetadata(PrimaryEntity entity)", "testcase": false, "constructor": false, "invocations": ["forEach", "get", "putAll", "provideMetadata"]}, "repository": {"repo_id": 2685841, "url": "https://github.com/phenotips/phenotips", "language": "Java", "is_fork": false, "fork_count": 64, "stargazer_count": 87, "size": 1662205, "license": "licensed"}}