{"test_class": {"identifier": "DefaultEntityAccessManagerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String WIKI_NAME = \"xwiki\";", "modifier": "private static final", "type": "String", "declarator": "WIKI_NAME = \"xwiki\"", "var_name": "WIKI_NAME"}, {"original_string": "private static final String DATA = \"data\";", "modifier": "private static final", "type": "String", "declarator": "DATA = \"data\"", "var_name": "DATA"}, {"original_string": "private static final String SPACE_NAME = \"XWiki\";", "modifier": "private static final", "type": "String", "declarator": "SPACE_NAME = \"XWiki\"", "var_name": "SPACE_NAME"}, {"original_string": "private static final String GROUP_SPACE_NAME = \"Groups\";", "modifier": "private static final", "type": "String", "declarator": "GROUP_SPACE_NAME = \"Groups\"", "var_name": "GROUP_SPACE_NAME"}, {"original_string": "private static final String PHENOTIPS = \"PhenoTips\";", "modifier": "private static final", "type": "String", "declarator": "PHENOTIPS = \"PhenoTips\"", "var_name": "PHENOTIPS"}, {"original_string": "private static final String OWNER_NAME = \"padams\";", "modifier": "private static final", "type": "String", "declarator": "OWNER_NAME = \"padams\"", "var_name": "OWNER_NAME"}, {"original_string": "private static final String COLLABORATOR_NAME = \"hmccoy\";", "modifier": "private static final", "type": "String", "declarator": "COLLABORATOR_NAME = \"hmccoy\"", "var_name": "COLLABORATOR_NAME"}, {"original_string": "private static final String OTHER_USER_NAME = \"cxavier\";", "modifier": "private static final", "type": "String", "declarator": "OTHER_USER_NAME = \"cxavier\"", "var_name": "OTHER_USER_NAME"}, {"original_string": "private static final String OWNER_TITLE = \"Owner\";", "modifier": "private static final", "type": "String", "declarator": "OWNER_TITLE = \"Owner\"", "var_name": "OWNER_TITLE"}, {"original_string": "private static final String VISIBILITY_TITLE = \"Visibility\";", "modifier": "private static final", "type": "String", "declarator": "VISIBILITY_TITLE = \"Visibility\"", "var_name": "VISIBILITY_TITLE"}, {"original_string": "private static final String COLLABORATOR_TITLE = \"Collaborator\";", "modifier": "private static final", "type": "String", "declarator": "COLLABORATOR_TITLE = \"Collaborator\"", "var_name": "COLLABORATOR_TITLE"}, {"original_string": "private static final String COLLABORATORS_LABEL = \"collaborators\";", "modifier": "private static final", "type": "String", "declarator": "COLLABORATORS_LABEL = \"collaborators\"", "var_name": "COLLABORATORS_LABEL"}, {"original_string": "private static final String COLLABORATOR_LABEL = \"collaborator\";", "modifier": "private static final", "type": "String", "declarator": "COLLABORATOR_LABEL = \"collaborator\"", "var_name": "COLLABORATOR_LABEL"}, {"original_string": "private static final String ACCESS_LABEL = \"access\";", "modifier": "private static final", "type": "String", "declarator": "ACCESS_LABEL = \"access\"", "var_name": "ACCESS_LABEL"}, {"original_string": "private static final String OWNER_LABEL = \"owner\";", "modifier": "private static final", "type": "String", "declarator": "OWNER_LABEL = \"owner\"", "var_name": "OWNER_LABEL"}, {"original_string": "private static final String EDIT_LABEL = \"edit\";", "modifier": "private static final", "type": "String", "declarator": "EDIT_LABEL = \"edit\"", "var_name": "EDIT_LABEL"}, {"original_string": "private static final String VIEW_LABEL = \"view\";", "modifier": "private static final", "type": "String", "declarator": "VIEW_LABEL = \"view\"", "var_name": "VIEW_LABEL"}, {"original_string": "private static final String UNKNOWN_LABEL = \"unknown\";", "modifier": "private static final", "type": "String", "declarator": "UNKNOWN_LABEL = \"unknown\"", "var_name": "UNKNOWN_LABEL"}, {"original_string": "private static final String MANAGE_LABEL = \"manage\";", "modifier": "private static final", "type": "String", "declarator": "MANAGE_LABEL = \"manage\"", "var_name": "MANAGE_LABEL"}, {"original_string": "private static final String NONE_LABEL = \"none\";", "modifier": "private static final", "type": "String", "declarator": "NONE_LABEL = \"none\"", "var_name": "NONE_LABEL"}, {"original_string": "private static final String OWNER_STR = \"xwiki:XWiki.padams\";", "modifier": "private static final", "type": "String", "declarator": "OWNER_STR = \"xwiki:XWiki.padams\"", "var_name": "OWNER_STR"}, {"original_string": "private static final String COLLABORATOR_STR = \"xwiki:XWiki.hmccoy\";", "modifier": "private static final", "type": "String", "declarator": "COLLABORATOR_STR = \"xwiki:XWiki.hmccoy\"", "var_name": "COLLABORATOR_STR"}, {"original_string": "private static final String OTHER_USER_STR = \"xwiki:XWiki.cxavier\";", "modifier": "private static final", "type": "String", "declarator": "OTHER_USER_STR = \"xwiki:XWiki.cxavier\"", "var_name": "OTHER_USER_STR"}, {"original_string": "private static final String GROUP_STR = \"xwiki:Groups.collaborators\";", "modifier": "private static final", "type": "String", "declarator": "GROUP_STR = \"xwiki:Groups.collaborators\"", "var_name": "GROUP_STR"}, {"original_string": "private static final String PATIENT_ID = \"P0000001\";", "modifier": "private static final", "type": "String", "declarator": "PATIENT_ID = \"P0000001\"", "var_name": "PATIENT_ID"}, {"original_string": "private static final AccessLevel EDIT_ACCESS = new EditAccessLevel();", "modifier": "private static final", "type": "AccessLevel", "declarator": "EDIT_ACCESS = new EditAccessLevel()", "var_name": "EDIT_ACCESS"}, {"original_string": "private static final AccessLevel VIEW_ACCESS = new ViewAccessLevel();", "modifier": "private static final", "type": "AccessLevel", "declarator": "VIEW_ACCESS = new ViewAccessLevel()", "var_name": "VIEW_ACCESS"}, {"original_string": "private static final AccessLevel MANAGE_ACCESS = new ManageAccessLevel();", "modifier": "private static final", "type": "AccessLevel", "declarator": "MANAGE_ACCESS = new ManageAccessLevel()", "var_name": "MANAGE_ACCESS"}, {"original_string": "private static final AccessLevel OWNER_ACCESS = new OwnerAccessLevel();", "modifier": "private static final", "type": "AccessLevel", "declarator": "OWNER_ACCESS = new OwnerAccessLevel()", "var_name": "OWNER_ACCESS"}, {"original_string": "private static final AccessLevel NO_ACCESS = new NoAccessLevel();", "modifier": "private static final", "type": "AccessLevel", "declarator": "NO_ACCESS = new NoAccessLevel()", "var_name": "NO_ACCESS"}, {"original_string": "private static final DocumentReference PATIENT_REFERENCE = new DocumentReference(WIKI_NAME, DATA, PATIENT_ID);", "modifier": "private static final", "type": "DocumentReference", "declarator": "PATIENT_REFERENCE = new DocumentReference(WIKI_NAME, DATA, PATIENT_ID)", "var_name": "PATIENT_REFERENCE"}, {"original_string": "private static final DocumentReference OWNER = new DocumentReference(WIKI_NAME, SPACE_NAME, OWNER_NAME);", "modifier": "private static final", "type": "DocumentReference", "declarator": "OWNER = new DocumentReference(WIKI_NAME, SPACE_NAME, OWNER_NAME)", "var_name": "OWNER"}, {"original_string": "private static final DocumentReference COLLABORATOR = new DocumentReference(WIKI_NAME, SPACE_NAME,\n        COLLABORATOR_NAME);", "modifier": "private static final", "type": "DocumentReference", "declarator": "COLLABORATOR = new DocumentReference(WIKI_NAME, SPACE_NAME,\n        COLLABORATOR_NAME)", "var_name": "COLLABORATOR"}, {"original_string": "private static final DocumentReference OTHER_USER = new DocumentReference(WIKI_NAME, SPACE_NAME, OTHER_USER_NAME);", "modifier": "private static final", "type": "DocumentReference", "declarator": "OTHER_USER = new DocumentReference(WIKI_NAME, SPACE_NAME, OTHER_USER_NAME)", "var_name": "OTHER_USER"}, {"original_string": "private static final DocumentReference GROUP =\n        new DocumentReference(WIKI_NAME, GROUP_SPACE_NAME, COLLABORATORS_LABEL);", "modifier": "private static final", "type": "DocumentReference", "declarator": "GROUP =\n        new DocumentReference(WIKI_NAME, GROUP_SPACE_NAME, COLLABORATORS_LABEL)", "var_name": "GROUP"}, {"original_string": "private static final DocumentReference OWNER_CLASS = new DocumentReference(WIKI_NAME, PHENOTIPS, OWNER_TITLE);", "modifier": "private static final", "type": "DocumentReference", "declarator": "OWNER_CLASS = new DocumentReference(WIKI_NAME, PHENOTIPS, OWNER_TITLE)", "var_name": "OWNER_CLASS"}, {"original_string": "private static final DocumentReference VISIBILITY_CLASS = new DocumentReference(WIKI_NAME, PHENOTIPS,\n        VISIBILITY_TITLE);", "modifier": "private static final", "type": "DocumentReference", "declarator": "VISIBILITY_CLASS = new DocumentReference(WIKI_NAME, PHENOTIPS,\n        VISIBILITY_TITLE)", "var_name": "VISIBILITY_CLASS"}, {"original_string": "private static final DocumentReference COLLABORATOR_CLASS = new DocumentReference(WIKI_NAME, PHENOTIPS,\n        COLLABORATOR_TITLE);", "modifier": "private static final", "type": "DocumentReference", "declarator": "COLLABORATOR_CLASS = new DocumentReference(WIKI_NAME, PHENOTIPS,\n        COLLABORATOR_TITLE)", "var_name": "COLLABORATOR_CLASS"}, {"original_string": "@Rule\n    public MockitoComponentMockingRule<EntityAccessManager> mocker =\n        new MockitoComponentMockingRule<>(DefaultEntityAccessManager.class);", "modifier": "@Rule\n    public", "type": "MockitoComponentMockingRule<EntityAccessManager>", "declarator": "mocker =\n        new MockitoComponentMockingRule<>(DefaultEntityAccessManager.class)", "var_name": "mocker"}, {"original_string": "@Mock\n    private Patient entity;", "modifier": "@Mock\n    private", "type": "Patient", "declarator": "entity", "var_name": "entity"}, {"original_string": "@Mock\n    private XWikiDocument entityDoc;", "modifier": "@Mock\n    private", "type": "XWikiDocument", "declarator": "entityDoc", "var_name": "entityDoc"}, {"original_string": "@Mock\n    private BaseObject ownerObject;", "modifier": "@Mock\n    private", "type": "BaseObject", "declarator": "ownerObject", "var_name": "ownerObject"}, {"original_string": "@Mock\n    private XWikiGroupService groupService;", "modifier": "@Mock\n    private", "type": "XWikiGroupService", "declarator": "groupService", "var_name": "groupService"}, {"original_string": "@Mock\n    private BaseObject visibilityObject;", "modifier": "@Mock\n    private", "type": "BaseObject", "declarator": "visibilityObject", "var_name": "visibilityObject"}, {"original_string": "@Mock\n    private BaseObject collaboratorObject1;", "modifier": "@Mock\n    private", "type": "BaseObject", "declarator": "collaboratorObject1", "var_name": "collaboratorObject1"}, {"original_string": "@Mock\n    private BaseObject collaboratorObject2;", "modifier": "@Mock\n    private", "type": "BaseObject", "declarator": "collaboratorObject2", "var_name": "collaboratorObject2"}, {"original_string": "@Mock\n    private BaseObject collaboratorObject3;", "modifier": "@Mock\n    private", "type": "BaseObject", "declarator": "collaboratorObject3", "var_name": "collaboratorObject3"}, {"original_string": "@Mock\n    private XWikiContext context;", "modifier": "@Mock\n    private", "type": "XWikiContext", "declarator": "context", "var_name": "context"}, {"original_string": "@Mock\n    private XWiki xwiki;", "modifier": "@Mock\n    private", "type": "XWiki", "declarator": "xwiki", "var_name": "xwiki"}, {"original_string": "private ParameterizedType entityResolverType = new DefaultParameterizedType(null, DocumentReferenceResolver.class,\n        EntityReference.class);", "modifier": "private", "type": "ParameterizedType", "declarator": "entityResolverType = new DefaultParameterizedType(null, DocumentReferenceResolver.class,\n        EntityReference.class)", "var_name": "entityResolverType"}, {"original_string": "private ParameterizedType stringResolverType = new DefaultParameterizedType(null, DocumentReferenceResolver.class,\n        String.class);", "modifier": "private", "type": "ParameterizedType", "declarator": "stringResolverType = new DefaultParameterizedType(null, DocumentReferenceResolver.class,\n        String.class)", "var_name": "stringResolverType"}, {"original_string": "private ParameterizedType stringSerializerType = new DefaultParameterizedType(null,\n        EntityReferenceSerializer.class, String.class);", "modifier": "private", "type": "ParameterizedType", "declarator": "stringSerializerType = new DefaultParameterizedType(null,\n        EntityReferenceSerializer.class, String.class)", "var_name": "stringSerializerType"}, {"original_string": "private DocumentReferenceResolver<EntityReference> partialEntityResolver;", "modifier": "private", "type": "DocumentReferenceResolver<EntityReference>", "declarator": "partialEntityResolver", "var_name": "partialEntityResolver"}, {"original_string": "private ComponentManager componentManager;", "modifier": "private", "type": "ComponentManager", "declarator": "componentManager", "var_name": "componentManager"}, {"original_string": "private EntityAccessManager component;", "modifier": "private", "type": "EntityAccessManager", "declarator": "component", "var_name": "component"}, {"original_string": "private AuthorizationManager rights;", "modifier": "private", "type": "AuthorizationManager", "declarator": "rights", "var_name": "rights"}, {"original_string": "private EntityAccessHelper helper;", "modifier": "private", "type": "EntityAccessHelper", "declarator": "helper", "var_name": "helper"}, {"original_string": "private AccessLevel noAccess;", "modifier": "private", "type": "AccessLevel", "declarator": "noAccess", "var_name": "noAccess"}, {"original_string": "private Logger logger;", "modifier": "private", "type": "Logger", "declarator": "logger", "var_name": "logger"}], "file": "components/entity-access-rules/api/src/test/java/org/phenotips/data/permissions/internal/DefaultEntityAccessManagerTest.java"}, "test_case": {"identifier": "isAdministratorReturnsFalseIfUserIsNotAnAdministrator", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void isAdministratorReturnsFalseIfUserIsNotAnAdministrator()\n    {\n        when(this.rights.hasAccess(Right.ADMIN, OWNER, PATIENT_REFERENCE)).thenReturn(false);\n        final boolean isAdmin = this.component.isAdministrator(this.entity, null);\n        Assert.assertFalse(isAdmin);\n    }", "signature": "void isAdministratorReturnsFalseIfUserIsNotAnAdministrator()", "full_signature": "@Test public void isAdministratorReturnsFalseIfUserIsNotAnAdministrator()", "class_method_signature": "DefaultEntityAccessManagerTest.isAdministratorReturnsFalseIfUserIsNotAnAdministrator()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "hasAccess", "isAdministrator", "assertFalse"]}, "focal_class": {"identifier": "DefaultEntityAccessManager", "superclass": "", "interfaces": "implements EntityAccessManager", "fields": [{"original_string": "private static final String OWNER = \"owner\";", "modifier": "private static final", "type": "String", "declarator": "OWNER = \"owner\"", "var_name": "OWNER"}, {"original_string": "private static final String NONE = \"none\";", "modifier": "private static final", "type": "String", "declarator": "NONE = \"none\"", "var_name": "NONE"}, {"original_string": "private static final String NULL_STR = \"null\";", "modifier": "private static final", "type": "String", "declarator": "NULL_STR = \"null\"", "var_name": "NULL_STR"}, {"original_string": "private static final String MANAGE = \"manage\";", "modifier": "private static final", "type": "String", "declarator": "MANAGE = \"manage\"", "var_name": "MANAGE"}, {"original_string": "private static final String COLLABORATOR = \"collaborator\";", "modifier": "private static final", "type": "String", "declarator": "COLLABORATOR = \"collaborator\"", "var_name": "COLLABORATOR"}, {"original_string": "private static final String ACCESS = \"access\";", "modifier": "private static final", "type": "String", "declarator": "ACCESS = \"access\"", "var_name": "ACCESS"}, {"original_string": "@Inject\n    private Logger logger;", "modifier": "@Inject\n    private", "type": "Logger", "declarator": "logger", "var_name": "logger"}, {"original_string": "@Inject\n    private EntityAccessHelper helper;", "modifier": "@Inject\n    private", "type": "EntityAccessHelper", "declarator": "helper", "var_name": "helper"}, {"original_string": "@Inject\n    private Provider<XWikiContext> xcontextProvider;", "modifier": "@Inject\n    private", "type": "Provider<XWikiContext>", "declarator": "xcontextProvider", "var_name": "xcontextProvider"}, {"original_string": "@Inject\n    private EntityReferenceSerializer<String> entitySerializer;", "modifier": "@Inject\n    private", "type": "EntityReferenceSerializer<String>", "declarator": "entitySerializer", "var_name": "entitySerializer"}, {"original_string": "@Inject\n    @Named(\"context\")\n    private Provider<ComponentManager> componentManager;", "modifier": "@Inject\n    @Named(\"context\")\n    private", "type": "Provider<ComponentManager>", "declarator": "componentManager", "var_name": "componentManager"}, {"original_string": "@Inject\n    @Named(\"currentmixed\")\n    private DocumentReferenceResolver<EntityReference> partialEntityResolver;", "modifier": "@Inject\n    @Named(\"currentmixed\")\n    private", "type": "DocumentReferenceResolver<EntityReference>", "declarator": "partialEntityResolver", "var_name": "partialEntityResolver"}, {"original_string": "@Inject\n    @Named(\"currentmixed\")\n    private DocumentReferenceResolver<String> stringEntityResolver;", "modifier": "@Inject\n    @Named(\"currentmixed\")\n    private", "type": "DocumentReferenceResolver<String>", "declarator": "stringEntityResolver", "var_name": "stringEntityResolver"}, {"original_string": "@Inject\n    private AuthorizationManager rights;", "modifier": "@Inject\n    private", "type": "AuthorizationManager", "declarator": "rights", "var_name": "rights"}, {"original_string": "@Inject\n    @Named(\"none\")\n    private AccessLevel noAccess;", "modifier": "@Inject\n    @Named(\"none\")\n    private", "type": "AccessLevel", "declarator": "noAccess", "var_name": "noAccess"}], "methods": [{"identifier": "listAccessLevels", "parameters": "()", "modifiers": "@Nonnull @Override public", "return": "Collection<AccessLevel>", "signature": "Collection<AccessLevel> listAccessLevels()", "full_signature": "@Nonnull @Override public Collection<AccessLevel> listAccessLevels()", "class_method_signature": "DefaultEntityAccessManager.listAccessLevels()", "testcase": false, "constructor": false}, {"identifier": "listAllAccessLevels", "parameters": "()", "modifiers": "@Nonnull @Override public", "return": "Collection<AccessLevel>", "signature": "Collection<AccessLevel> listAllAccessLevels()", "full_signature": "@Nonnull @Override public Collection<AccessLevel> listAllAccessLevels()", "class_method_signature": "DefaultEntityAccessManager.listAllAccessLevels()", "testcase": false, "constructor": false}, {"identifier": "resolveAccessLevel", "parameters": "(@Nullable final String name)", "modifiers": "@Nonnull @Override public", "return": "AccessLevel", "signature": "AccessLevel resolveAccessLevel(@Nullable final String name)", "full_signature": "@Nonnull @Override public AccessLevel resolveAccessLevel(@Nullable final String name)", "class_method_signature": "DefaultEntityAccessManager.resolveAccessLevel(@Nullable final String name)", "testcase": false, "constructor": false}, {"identifier": "getAccessLevel", "parameters": "(@Nullable final PrimaryEntity entity, @Nullable final EntityReference userOrGroup)", "modifiers": "@Nonnull @Override public", "return": "AccessLevel", "signature": "AccessLevel getAccessLevel(@Nullable final PrimaryEntity entity, @Nullable final EntityReference userOrGroup)", "full_signature": "@Nonnull @Override public AccessLevel getAccessLevel(@Nullable final PrimaryEntity entity, @Nullable final EntityReference userOrGroup)", "class_method_signature": "DefaultEntityAccessManager.getAccessLevel(@Nullable final PrimaryEntity entity, @Nullable final EntityReference userOrGroup)", "testcase": false, "constructor": false}, {"identifier": "getAccessLevel", "parameters": "(\n        @Nonnull final EntityReference userOrGroup,\n        @Nullable final EntityReference owner,\n        @Nonnull final Collection<Collaborator> collaborators)", "modifiers": "private", "return": "AccessLevel", "signature": "AccessLevel getAccessLevel(\n        @Nonnull final EntityReference userOrGroup,\n        @Nullable final EntityReference owner,\n        @Nonnull final Collection<Collaborator> collaborators)", "full_signature": "private AccessLevel getAccessLevel(\n        @Nonnull final EntityReference userOrGroup,\n        @Nullable final EntityReference owner,\n        @Nonnull final Collection<Collaborator> collaborators)", "class_method_signature": "DefaultEntityAccessManager.getAccessLevel(\n        @Nonnull final EntityReference userOrGroup,\n        @Nullable final EntityReference owner,\n        @Nonnull final Collection<Collaborator> collaborators)", "testcase": false, "constructor": false}, {"identifier": "isAdministrator", "parameters": "(@Nullable final PrimaryEntity entity)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean isAdministrator(@Nullable final PrimaryEntity entity)", "full_signature": "@Override public boolean isAdministrator(@Nullable final PrimaryEntity entity)", "class_method_signature": "DefaultEntityAccessManager.isAdministrator(@Nullable final PrimaryEntity entity)", "testcase": false, "constructor": false}, {"identifier": "isAdministrator", "parameters": "(@Nullable final PrimaryEntity entity, @Nullable final DocumentReference user)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean isAdministrator(@Nullable final PrimaryEntity entity, @Nullable final DocumentReference user)", "full_signature": "@Override public boolean isAdministrator(@Nullable final PrimaryEntity entity, @Nullable final DocumentReference user)", "class_method_signature": "DefaultEntityAccessManager.isAdministrator(@Nullable final PrimaryEntity entity, @Nullable final DocumentReference user)", "testcase": false, "constructor": false}, {"identifier": "getOwner", "parameters": "(@Nullable final PrimaryEntity entity)", "modifiers": "@Nullable @Override public", "return": "Owner", "signature": "Owner getOwner(@Nullable final PrimaryEntity entity)", "full_signature": "@Nullable @Override public Owner getOwner(@Nullable final PrimaryEntity entity)", "class_method_signature": "DefaultEntityAccessManager.getOwner(@Nullable final PrimaryEntity entity)", "testcase": false, "constructor": false}, {"identifier": "setOwner", "parameters": "(@Nullable final PrimaryEntity entity, @Nullable final EntityReference userOrGroup)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean setOwner(@Nullable final PrimaryEntity entity, @Nullable final EntityReference userOrGroup)", "full_signature": "@Override public boolean setOwner(@Nullable final PrimaryEntity entity, @Nullable final EntityReference userOrGroup)", "class_method_signature": "DefaultEntityAccessManager.setOwner(@Nullable final PrimaryEntity entity, @Nullable final EntityReference userOrGroup)", "testcase": false, "constructor": false}, {"identifier": "changeOwnership", "parameters": "(\n        @Nonnull final PrimaryEntity entity,\n        @Nonnull final DocumentReference classReference,\n        @Nullable final EntityReference previousOwner,\n        @Nullable final EntityReference newOwner)", "modifiers": "private", "return": "boolean", "signature": "boolean changeOwnership(\n        @Nonnull final PrimaryEntity entity,\n        @Nonnull final DocumentReference classReference,\n        @Nullable final EntityReference previousOwner,\n        @Nullable final EntityReference newOwner)", "full_signature": "private boolean changeOwnership(\n        @Nonnull final PrimaryEntity entity,\n        @Nonnull final DocumentReference classReference,\n        @Nullable final EntityReference previousOwner,\n        @Nullable final EntityReference newOwner)", "class_method_signature": "DefaultEntityAccessManager.changeOwnership(\n        @Nonnull final PrimaryEntity entity,\n        @Nonnull final DocumentReference classReference,\n        @Nullable final EntityReference previousOwner,\n        @Nullable final EntityReference newOwner)", "testcase": false, "constructor": false}, {"identifier": "getCollaborators", "parameters": "(@Nullable final PrimaryEntity entity)", "modifiers": "@Nonnull @Override public", "return": "Collection<Collaborator>", "signature": "Collection<Collaborator> getCollaborators(@Nullable final PrimaryEntity entity)", "full_signature": "@Nonnull @Override public Collection<Collaborator> getCollaborators(@Nullable final PrimaryEntity entity)", "class_method_signature": "DefaultEntityAccessManager.getCollaborators(@Nullable final PrimaryEntity entity)", "testcase": false, "constructor": false}, {"identifier": "collectCollaborator", "parameters": "(\n        @Nonnull final Map<EntityReference, Collaborator> map,\n        @Nonnull final BaseObject baseObject,\n        @Nonnull final DocumentReference entityRef)", "modifiers": "private", "return": "void", "signature": "void collectCollaborator(\n        @Nonnull final Map<EntityReference, Collaborator> map,\n        @Nonnull final BaseObject baseObject,\n        @Nonnull final DocumentReference entityRef)", "full_signature": "private void collectCollaborator(\n        @Nonnull final Map<EntityReference, Collaborator> map,\n        @Nonnull final BaseObject baseObject,\n        @Nonnull final DocumentReference entityRef)", "class_method_signature": "DefaultEntityAccessManager.collectCollaborator(\n        @Nonnull final Map<EntityReference, Collaborator> map,\n        @Nonnull final BaseObject baseObject,\n        @Nonnull final DocumentReference entityRef)", "testcase": false, "constructor": false}, {"identifier": "setCollaborators", "parameters": "(\n        @Nullable final PrimaryEntity entity,\n        @Nullable final Collection<Collaborator> newCollaborators)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean setCollaborators(\n        @Nullable final PrimaryEntity entity,\n        @Nullable final Collection<Collaborator> newCollaborators)", "full_signature": "@Override public boolean setCollaborators(\n        @Nullable final PrimaryEntity entity,\n        @Nullable final Collection<Collaborator> newCollaborators)", "class_method_signature": "DefaultEntityAccessManager.setCollaborators(\n        @Nullable final PrimaryEntity entity,\n        @Nullable final Collection<Collaborator> newCollaborators)", "testcase": false, "constructor": false}, {"identifier": "saveCollaboratorData", "parameters": "(\n        @Nonnull final Collaborator collaborator,\n        @Nonnull final XWikiDocument entityDoc,\n        @Nonnull final DocumentReference classReference,\n        @Nonnull final XWikiContext context)", "modifiers": "private", "return": "void", "signature": "void saveCollaboratorData(\n        @Nonnull final Collaborator collaborator,\n        @Nonnull final XWikiDocument entityDoc,\n        @Nonnull final DocumentReference classReference,\n        @Nonnull final XWikiContext context)", "full_signature": "private void saveCollaboratorData(\n        @Nonnull final Collaborator collaborator,\n        @Nonnull final XWikiDocument entityDoc,\n        @Nonnull final DocumentReference classReference,\n        @Nonnull final XWikiContext context)", "class_method_signature": "DefaultEntityAccessManager.saveCollaboratorData(\n        @Nonnull final Collaborator collaborator,\n        @Nonnull final XWikiDocument entityDoc,\n        @Nonnull final DocumentReference classReference,\n        @Nonnull final XWikiContext context)", "testcase": false, "constructor": false}, {"identifier": "addCollaborator", "parameters": "(@Nullable final PrimaryEntity entity, @Nullable final Collaborator collaborator)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean addCollaborator(@Nullable final PrimaryEntity entity, @Nullable final Collaborator collaborator)", "full_signature": "@Override public boolean addCollaborator(@Nullable final PrimaryEntity entity, @Nullable final Collaborator collaborator)", "class_method_signature": "DefaultEntityAccessManager.addCollaborator(@Nullable final PrimaryEntity entity, @Nullable final Collaborator collaborator)", "testcase": false, "constructor": false}, {"identifier": "addCollaborator", "parameters": "(\n        @Nullable final PrimaryEntity entity,\n        @Nullable final Collaborator collaborator,\n        final boolean saveDocument)", "modifiers": "private", "return": "boolean", "signature": "boolean addCollaborator(\n        @Nullable final PrimaryEntity entity,\n        @Nullable final Collaborator collaborator,\n        final boolean saveDocument)", "full_signature": "private boolean addCollaborator(\n        @Nullable final PrimaryEntity entity,\n        @Nullable final Collaborator collaborator,\n        final boolean saveDocument)", "class_method_signature": "DefaultEntityAccessManager.addCollaborator(\n        @Nullable final PrimaryEntity entity,\n        @Nullable final Collaborator collaborator,\n        final boolean saveDocument)", "testcase": false, "constructor": false}, {"identifier": "getOrCreateCollaboratorObj", "parameters": "(\n        @Nonnull final DocumentReference entityRef,\n        @Nonnull final XWikiDocument entityDoc,\n        @Nonnull final String user,\n        @Nonnull final XWikiContext context)", "modifiers": "private", "return": "BaseObject", "signature": "BaseObject getOrCreateCollaboratorObj(\n        @Nonnull final DocumentReference entityRef,\n        @Nonnull final XWikiDocument entityDoc,\n        @Nonnull final String user,\n        @Nonnull final XWikiContext context)", "full_signature": "private BaseObject getOrCreateCollaboratorObj(\n        @Nonnull final DocumentReference entityRef,\n        @Nonnull final XWikiDocument entityDoc,\n        @Nonnull final String user,\n        @Nonnull final XWikiContext context)", "class_method_signature": "DefaultEntityAccessManager.getOrCreateCollaboratorObj(\n        @Nonnull final DocumentReference entityRef,\n        @Nonnull final XWikiDocument entityDoc,\n        @Nonnull final String user,\n        @Nonnull final XWikiContext context)", "testcase": false, "constructor": false}, {"identifier": "removeCollaborator", "parameters": "(@Nullable final PrimaryEntity entity, @Nullable final Collaborator collaborator)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean removeCollaborator(@Nullable final PrimaryEntity entity, @Nullable final Collaborator collaborator)", "full_signature": "@Override public boolean removeCollaborator(@Nullable final PrimaryEntity entity, @Nullable final Collaborator collaborator)", "class_method_signature": "DefaultEntityAccessManager.removeCollaborator(@Nullable final PrimaryEntity entity, @Nullable final Collaborator collaborator)", "testcase": false, "constructor": false}, {"identifier": "removeCollaborator", "parameters": "(\n        @Nullable final PrimaryEntity entity,\n        @Nullable final Collaborator collaborator,\n        final boolean saveDocument)", "modifiers": "private", "return": "boolean", "signature": "boolean removeCollaborator(\n        @Nullable final PrimaryEntity entity,\n        @Nullable final Collaborator collaborator,\n        final boolean saveDocument)", "full_signature": "private boolean removeCollaborator(\n        @Nullable final PrimaryEntity entity,\n        @Nullable final Collaborator collaborator,\n        final boolean saveDocument)", "class_method_signature": "DefaultEntityAccessManager.removeCollaborator(\n        @Nullable final PrimaryEntity entity,\n        @Nullable final Collaborator collaborator,\n        final boolean saveDocument)", "testcase": false, "constructor": false}], "file": "components/entity-access-rules/api/src/main/java/org/phenotips/data/permissions/internal/DefaultEntityAccessManager.java"}, "focal_method": {"identifier": "isAdministrator", "parameters": "(@Nullable final PrimaryEntity entity)", "modifiers": "@Override public", "return": "boolean", "body": "@Override\n    public boolean isAdministrator(@Nullable final PrimaryEntity entity)\n    {\n        return isAdministrator(entity, this.helper.getCurrentUser());\n    }", "signature": "boolean isAdministrator(@Nullable final PrimaryEntity entity)", "full_signature": "@Override public boolean isAdministrator(@Nullable final PrimaryEntity entity)", "class_method_signature": "DefaultEntityAccessManager.isAdministrator(@Nullable final PrimaryEntity entity)", "testcase": false, "constructor": false, "invocations": ["isAdministrator", "getCurrentUser"]}, "repository": {"repo_id": 2685841, "url": "https://github.com/phenotips/phenotips", "language": "Java", "is_fork": false, "fork_count": 64, "stargazer_count": 87, "size": 1662205, "license": "licensed"}}