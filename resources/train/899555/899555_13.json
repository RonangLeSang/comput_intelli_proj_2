{"test_class": {"identifier": "ErraiAppPropertiesFilesTest", "superclass": "", "interfaces": "", "fields": [], "file": "errai-common/src/test/java/org/jboss/errai/common/metadata/ErraiAppPropertiesFilesTest.java"}, "test_case": {"identifier": "testGetModuleDirMetaInfFile", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testGetModuleDirMetaInfFile() throws MalformedURLException {\n    final URL url = new URL(\"file:/foo/bar/META-INF/ErraiApp.properties/\");\n    final String moduleDir = ErraiAppPropertiesFiles.getModuleDir(url);\n\n    assertEquals(\"file:/foo/bar/\", moduleDir);\n  }", "signature": "void testGetModuleDirMetaInfFile()", "full_signature": "@Test public void testGetModuleDirMetaInfFile()", "class_method_signature": "ErraiAppPropertiesFilesTest.testGetModuleDirMetaInfFile()", "testcase": true, "constructor": false, "invocations": ["getModuleDir", "assertEquals"]}, "focal_class": {"identifier": "ErraiAppPropertiesFiles", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger log = LoggerFactory.getLogger(ErraiAppPropertiesFiles.class);", "modifier": "private static final", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(ErraiAppPropertiesFiles.class)", "var_name": "log"}, {"original_string": "static final String FILE_NAME = \"ErraiApp.properties\";", "modifier": "static final", "type": "String", "declarator": "FILE_NAME = \"ErraiApp.properties\"", "var_name": "FILE_NAME"}, {"original_string": "private static final String META_INF_FILE_NAME = \"META-INF/\" + FILE_NAME;", "modifier": "private static final", "type": "String", "declarator": "META_INF_FILE_NAME = \"META-INF/\" + FILE_NAME", "var_name": "META_INF_FILE_NAME"}], "methods": [{"identifier": "getUrls", "parameters": "(final ClassLoader... classLoaders)", "modifiers": "public static", "return": "List<URL>", "signature": "List<URL> getUrls(final ClassLoader... classLoaders)", "full_signature": "public static List<URL> getUrls(final ClassLoader... classLoaders)", "class_method_signature": "ErraiAppPropertiesFiles.getUrls(final ClassLoader... classLoaders)", "testcase": false, "constructor": false}, {"identifier": "getUrls", "parameters": "(final ClassLoader classLoader)", "modifiers": "private static", "return": "Stream<URL>", "signature": "Stream<URL> getUrls(final ClassLoader classLoader)", "full_signature": "private static Stream<URL> getUrls(final ClassLoader classLoader)", "class_method_signature": "ErraiAppPropertiesFiles.getUrls(final ClassLoader classLoader)", "testcase": false, "constructor": false}, {"identifier": "getModulesUrls", "parameters": "()", "modifiers": "public static", "return": "List<URL>", "signature": "List<URL> getModulesUrls()", "full_signature": "public static List<URL> getModulesUrls()", "class_method_signature": "ErraiAppPropertiesFiles.getModulesUrls()", "testcase": false, "constructor": false}, {"identifier": "getModulesUrls", "parameters": "(final ClassLoader... classLoader)", "modifiers": "static", "return": "List<URL>", "signature": "List<URL> getModulesUrls(final ClassLoader... classLoader)", "full_signature": "static List<URL> getModulesUrls(final ClassLoader... classLoader)", "class_method_signature": "ErraiAppPropertiesFiles.getModulesUrls(final ClassLoader... classLoader)", "testcase": false, "constructor": false}, {"identifier": "getModuleDir", "parameters": "(final URL url)", "modifiers": "static", "return": "String", "signature": "String getModuleDir(final URL url)", "full_signature": "static String getModuleDir(final URL url)", "class_method_signature": "ErraiAppPropertiesFiles.getModuleDir(final URL url)", "testcase": false, "constructor": false}, {"identifier": "decodeUrl", "parameters": "(final String moduleUrlString)", "modifiers": "private static", "return": "URL", "signature": "URL decodeUrl(final String moduleUrlString)", "full_signature": "private static URL decodeUrl(final String moduleUrlString)", "class_method_signature": "ErraiAppPropertiesFiles.decodeUrl(final String moduleUrlString)", "testcase": false, "constructor": false}, {"identifier": "logUnreadablePropertiesFiles", "parameters": "(final URL url)", "modifiers": "private static", "return": "void", "signature": "void logUnreadablePropertiesFiles(final URL url)", "full_signature": "private static void logUnreadablePropertiesFiles(final URL url)", "class_method_signature": "ErraiAppPropertiesFiles.logUnreadablePropertiesFiles(final URL url)", "testcase": false, "constructor": false}, {"identifier": "logModulesWithErraiAppPropertiesFileInRootDir", "parameters": "(final List<URL> fileUrls)", "modifiers": "private static", "return": "void", "signature": "void logModulesWithErraiAppPropertiesFileInRootDir(final List<URL> fileUrls)", "full_signature": "private static void logModulesWithErraiAppPropertiesFileInRootDir(final List<URL> fileUrls)", "class_method_signature": "ErraiAppPropertiesFiles.logModulesWithErraiAppPropertiesFileInRootDir(final List<URL> fileUrls)", "testcase": false, "constructor": false}], "file": "errai-common/src/main/java/org/jboss/errai/common/metadata/ErraiAppPropertiesFiles.java"}, "focal_method": {"identifier": "getModuleDir", "parameters": "(final URL url)", "modifiers": "static", "return": "String", "body": "static String getModuleDir(final URL url) {\n\n    final String urlString = url.toExternalForm();\n\n    final int metaInfEndIndex = urlString.indexOf(META_INF_FILE_NAME);\n    if (metaInfEndIndex > -1) {\n      return urlString.substring(0, metaInfEndIndex);\n    }\n\n    final int rootDirEndIndex = urlString.indexOf(FILE_NAME);\n    if (rootDirEndIndex > -1) {\n      return urlString.substring(0, rootDirEndIndex);\n    }\n\n    throw new RuntimeException(\"URL \" + url.toExternalForm() + \" is not of a \" + FILE_NAME);\n  }", "signature": "String getModuleDir(final URL url)", "full_signature": "static String getModuleDir(final URL url)", "class_method_signature": "ErraiAppPropertiesFiles.getModuleDir(final URL url)", "testcase": false, "constructor": false, "invocations": ["toExternalForm", "indexOf", "substring", "indexOf", "substring", "toExternalForm"]}, "repository": {"repo_id": 899555, "url": "https://github.com/errai/errai", "language": "Java", "is_fork": false, "fork_count": 189, "stargazer_count": 267, "size": 221862, "license": "licensed"}}