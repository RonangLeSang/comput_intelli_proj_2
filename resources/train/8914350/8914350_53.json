{"test_class": {"identifier": "TestIndexSuffixFormatter", "superclass": "", "interfaces": "", "fields": [], "file": "suro-elasticsearch/src/test/java/com/netflix/suro/sink/elasticsearch/TestIndexSuffixFormatter.java"}, "test_case": {"identifier": "testWeeklyRepresentation", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testWeeklyRepresentation() {\n        System.setProperty(\"user.timezone\", \"GMT\");\n\n        Properties props = new Properties();\n        props.put(\"dateFormat\", \"YYYYMM_ww\");\n\n        DateTime dt = new DateTime(\"2014-10-12T00:00:00.000Z\");\n        IndexSuffixFormatter formatter = new IndexSuffixFormatter(\"date\", props);\n        IndexInfo info = mock(IndexInfo.class);\n        doReturn(dt.getMillis()).when(info).getTimestamp();\n\n        assertEquals(formatter.format(info), \"201410_41\");\n    }", "signature": "void testWeeklyRepresentation()", "full_signature": "@Test public void testWeeklyRepresentation()", "class_method_signature": "TestIndexSuffixFormatter.testWeeklyRepresentation()", "testcase": true, "constructor": false, "invocations": ["setProperty", "put", "mock", "getTimestamp", "when", "doReturn", "getMillis", "assertEquals", "format"]}, "focal_class": {"identifier": "IndexSuffixFormatter", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final Function<IndexInfo, String> formatter;", "modifier": "private final", "type": "Function<IndexInfo, String>", "declarator": "formatter", "var_name": "formatter"}], "methods": [{"identifier": "IndexSuffixFormatter", "parameters": "(\n            @JsonProperty(\"type\") String type,\n            @JsonProperty(\"properties\") Properties props)", "modifiers": "@JsonCreator public", "return": "", "signature": " IndexSuffixFormatter(\n            @JsonProperty(\"type\") String type,\n            @JsonProperty(\"properties\") Properties props)", "full_signature": "@JsonCreator public  IndexSuffixFormatter(\n            @JsonProperty(\"type\") String type,\n            @JsonProperty(\"properties\") Properties props)", "class_method_signature": "IndexSuffixFormatter.IndexSuffixFormatter(\n            @JsonProperty(\"type\") String type,\n            @JsonProperty(\"properties\") Properties props)", "testcase": false, "constructor": true}, {"identifier": "format", "parameters": "(IndexInfo info)", "modifiers": "public", "return": "String", "signature": "String format(IndexInfo info)", "full_signature": "public String format(IndexInfo info)", "class_method_signature": "IndexSuffixFormatter.format(IndexInfo info)", "testcase": false, "constructor": false}], "file": "suro-elasticsearch/src/main/java/com/netflix/suro/sink/elasticsearch/IndexSuffixFormatter.java"}, "focal_method": {"identifier": "format", "parameters": "(IndexInfo info)", "modifiers": "public", "return": "String", "body": "public String format(IndexInfo info) {\n        return formatter.apply(info);\n    }", "signature": "String format(IndexInfo info)", "full_signature": "public String format(IndexInfo info)", "class_method_signature": "IndexSuffixFormatter.format(IndexInfo info)", "testcase": false, "constructor": false, "invocations": ["apply"]}, "repository": {"repo_id": 8914350, "url": "https://github.com/Netflix/suro", "language": "Java", "is_fork": false, "fork_count": 172, "stargazer_count": 746, "size": 4383, "license": "licensed"}}