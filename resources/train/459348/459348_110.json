{"test_class": {"identifier": "MessageGeneratorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private MessageGenerator generator;", "modifier": "private", "type": "MessageGenerator", "declarator": "generator", "var_name": "generator"}, {"original_string": "@Mock private PersonLookup personLookup;", "modifier": "@Mock private", "type": "PersonLookup", "declarator": "personLookup", "var_name": "personLookup"}, {"original_string": "@Mock private HeaderGenerator headerGenerator;", "modifier": "@Mock private", "type": "HeaderGenerator", "declarator": "headerGenerator", "var_name": "headerGenerator"}, {"original_string": "@Mock private MmsSupport mmsSupport;", "modifier": "@Mock private", "type": "MmsSupport", "declarator": "mmsSupport", "var_name": "mmsSupport"}, {"original_string": "@Mock private Address me;", "modifier": "@Mock private", "type": "Address", "declarator": "me", "var_name": "me"}, {"original_string": "@Mock private ContactGroupIds groupIds;", "modifier": "@Mock private", "type": "ContactGroupIds", "declarator": "groupIds", "var_name": "groupIds"}, {"original_string": "@Mock private DataTypePreferences dataTypePreferences;", "modifier": "@Mock private", "type": "DataTypePreferences", "declarator": "dataTypePreferences", "var_name": "dataTypePreferences"}], "file": "app/src/test/java/com/zegoggles/smssync/mail/MessageGeneratorTest.java"}, "test_case": {"identifier": "shouldGenerateCorrectToHeader", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test public void shouldGenerateCorrectToHeader() throws Exception {\n        PersonRecord record = new PersonRecord(1, \"Test Testor\", \"test@test.com\", \"1234\");\n        Message msg = generator.messageForDataType(mockMessage(\"1234\", record), DataType.SMS);\n        assertThat(msg).isNotNull();\n\n        assertThat(msg.getRecipients(Message.RecipientType.TO)[0].toString())\n                .isEqualTo(\"Test Testor <test@test.com>\");\n    }", "signature": "void shouldGenerateCorrectToHeader()", "full_signature": "@Test public void shouldGenerateCorrectToHeader()", "class_method_signature": "MessageGeneratorTest.shouldGenerateCorrectToHeader()", "testcase": true, "constructor": false, "invocations": ["messageForDataType", "mockMessage", "isNotNull", "assertThat", "isEqualTo", "assertThat", "toString", "getRecipients"]}, "focal_class": {"identifier": "MessageGenerator", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String ERROR_PARSING_DATE = \"error parsing date\";", "modifier": "private static final", "type": "String", "declarator": "ERROR_PARSING_DATE = \"error parsing date\"", "var_name": "ERROR_PARSING_DATE"}, {"original_string": "private final Context context;", "modifier": "private final", "type": "Context", "declarator": "context", "var_name": "context"}, {"original_string": "private final HeaderGenerator headerGenerator;", "modifier": "private final", "type": "HeaderGenerator", "declarator": "headerGenerator", "var_name": "headerGenerator"}, {"original_string": "private final Address userAddress;", "modifier": "private final", "type": "Address", "declarator": "userAddress", "var_name": "userAddress"}, {"original_string": "private final PersonLookup personLookup;", "modifier": "private final", "type": "PersonLookup", "declarator": "personLookup", "var_name": "personLookup"}, {"original_string": "private final boolean prefix;", "modifier": "private final", "type": "boolean", "declarator": "prefix", "var_name": "prefix"}, {"original_string": "private final @Nullable ContactGroupIds contactGroupIds;", "modifier": "private final @Nullable", "type": "ContactGroupIds", "declarator": "contactGroupIds", "var_name": "contactGroupIds"}, {"original_string": "private final CallFormatter callFormatter;", "modifier": "private final", "type": "CallFormatter", "declarator": "callFormatter", "var_name": "callFormatter"}, {"original_string": "private final AddressStyle addressStyle;", "modifier": "private final", "type": "AddressStyle", "declarator": "addressStyle", "var_name": "addressStyle"}, {"original_string": "private final MmsSupport mmsSupport;", "modifier": "private final", "type": "MmsSupport", "declarator": "mmsSupport", "var_name": "mmsSupport"}, {"original_string": "private final CallLogTypes callLogTypes;", "modifier": "private final", "type": "CallLogTypes", "declarator": "callLogTypes", "var_name": "callLogTypes"}, {"original_string": "private final DataTypePreferences dataTypePreferences;", "modifier": "private final", "type": "DataTypePreferences", "declarator": "dataTypePreferences", "var_name": "dataTypePreferences"}], "methods": [{"identifier": "MessageGenerator", "parameters": "(Context context,\n                     Address userAddress,\n                     AddressStyle addressStyle,\n                     HeaderGenerator headerGenerator,\n                     PersonLookup personLookup,\n                     boolean mailSubjectPrefix,\n                     @Nullable ContactGroupIds contactsToBackup,\n                     MmsSupport mmsSupport,\n                     CallLogTypes callLogTypes,\n                     DataTypePreferences dataTypePreferences)", "modifiers": "", "return": "", "signature": " MessageGenerator(Context context,\n                     Address userAddress,\n                     AddressStyle addressStyle,\n                     HeaderGenerator headerGenerator,\n                     PersonLookup personLookup,\n                     boolean mailSubjectPrefix,\n                     @Nullable ContactGroupIds contactsToBackup,\n                     MmsSupport mmsSupport,\n                     CallLogTypes callLogTypes,\n                     DataTypePreferences dataTypePreferences)", "full_signature": "  MessageGenerator(Context context,\n                     Address userAddress,\n                     AddressStyle addressStyle,\n                     HeaderGenerator headerGenerator,\n                     PersonLookup personLookup,\n                     boolean mailSubjectPrefix,\n                     @Nullable ContactGroupIds contactsToBackup,\n                     MmsSupport mmsSupport,\n                     CallLogTypes callLogTypes,\n                     DataTypePreferences dataTypePreferences)", "class_method_signature": "MessageGenerator.MessageGenerator(Context context,\n                     Address userAddress,\n                     AddressStyle addressStyle,\n                     HeaderGenerator headerGenerator,\n                     PersonLookup personLookup,\n                     boolean mailSubjectPrefix,\n                     @Nullable ContactGroupIds contactsToBackup,\n                     MmsSupport mmsSupport,\n                     CallLogTypes callLogTypes,\n                     DataTypePreferences dataTypePreferences)", "testcase": false, "constructor": true}, {"identifier": "messageForDataType", "parameters": "(Map<String, String> msgMap, DataType dataType)", "modifiers": "public @Nullable", "return": "Message", "signature": "Message messageForDataType(Map<String, String> msgMap, DataType dataType)", "full_signature": "public @Nullable Message messageForDataType(Map<String, String> msgMap, DataType dataType)", "class_method_signature": "MessageGenerator.messageForDataType(Map<String, String> msgMap, DataType dataType)", "testcase": false, "constructor": false}, {"identifier": "messageFromMapSms", "parameters": "(Map<String, String> msgMap)", "modifiers": "private @Nullable", "return": "Message", "signature": "Message messageFromMapSms(Map<String, String> msgMap)", "full_signature": "private @Nullable Message messageFromMapSms(Map<String, String> msgMap)", "class_method_signature": "MessageGenerator.messageFromMapSms(Map<String, String> msgMap)", "testcase": false, "constructor": false}, {"identifier": "messageFromMapMms", "parameters": "(Map<String, String> msgMap)", "modifiers": "private @Nullable", "return": "Message", "signature": "Message messageFromMapMms(Map<String, String> msgMap)", "full_signature": "private @Nullable Message messageFromMapMms(Map<String, String> msgMap)", "class_method_signature": "MessageGenerator.messageFromMapMms(Map<String, String> msgMap)", "testcase": false, "constructor": false}, {"identifier": "messageFromMapCallLog", "parameters": "(Map<String, String> msgMap)", "modifiers": "private @Nullable", "return": "Message", "signature": "Message messageFromMapCallLog(Map<String, String> msgMap)", "full_signature": "private @Nullable Message messageFromMapCallLog(Map<String, String> msgMap)", "class_method_signature": "MessageGenerator.messageFromMapCallLog(Map<String, String> msgMap)", "testcase": false, "constructor": false}, {"identifier": "getSubject", "parameters": "(@NonNull DataType type, @NonNull PersonRecord record)", "modifiers": "private", "return": "String", "signature": "String getSubject(@NonNull DataType type, @NonNull PersonRecord record)", "full_signature": "private String getSubject(@NonNull DataType type, @NonNull PersonRecord record)", "class_method_signature": "MessageGenerator.getSubject(@NonNull DataType type, @NonNull PersonRecord record)", "testcase": false, "constructor": false}, {"identifier": "includeInBackup", "parameters": "(DataType type, Iterable<PersonRecord> records)", "modifiers": "private", "return": "boolean", "signature": "boolean includeInBackup(DataType type, Iterable<PersonRecord> records)", "full_signature": "private boolean includeInBackup(DataType type, Iterable<PersonRecord> records)", "class_method_signature": "MessageGenerator.includeInBackup(DataType type, Iterable<PersonRecord> records)", "testcase": false, "constructor": false}, {"identifier": "includePersonInBackup", "parameters": "(PersonRecord record, DataType type)", "modifiers": "private", "return": "boolean", "signature": "boolean includePersonInBackup(PersonRecord record, DataType type)", "full_signature": "private boolean includePersonInBackup(PersonRecord record, DataType type)", "class_method_signature": "MessageGenerator.includePersonInBackup(PersonRecord record, DataType type)", "testcase": false, "constructor": false}, {"identifier": "toInt", "parameters": "(String s)", "modifiers": "private static", "return": "int", "signature": "int toInt(String s)", "full_signature": "private static int toInt(String s)", "class_method_signature": "MessageGenerator.toInt(String s)", "testcase": false, "constructor": false}], "file": "app/src/main/java/com/zegoggles/smssync/mail/MessageGenerator.java"}, "focal_method": {"identifier": "messageForDataType", "parameters": "(Map<String, String> msgMap, DataType dataType)", "modifiers": "public @Nullable", "return": "Message", "body": "public  @Nullable Message messageForDataType(Map<String, String> msgMap, DataType dataType) throws MessagingException {\n        switch (dataType) {\n            case SMS: return messageFromMapSms(msgMap);\n            case MMS: return messageFromMapMms(msgMap);\n            case CALLLOG: return messageFromMapCallLog(msgMap);\n            default: return null;\n        }\n    }", "signature": "Message messageForDataType(Map<String, String> msgMap, DataType dataType)", "full_signature": "public @Nullable Message messageForDataType(Map<String, String> msgMap, DataType dataType)", "class_method_signature": "MessageGenerator.messageForDataType(Map<String, String> msgMap, DataType dataType)", "testcase": false, "constructor": false, "invocations": ["messageFromMapSms", "messageFromMapMms", "messageFromMapCallLog"]}, "repository": {"repo_id": 459348, "url": "https://github.com/jberkel/sms-backup-plus", "language": "Java", "is_fork": false, "fork_count": 481, "stargazer_count": 1507, "size": 16365, "license": "licensed"}}