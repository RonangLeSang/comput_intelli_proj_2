{"test_class": {"identifier": "TestByteArrayWrapper", "superclass": "", "interfaces": "", "fields": [], "file": "hraven-core/src/test/java/com/twitter/hraven/util/TestByteArrayWrapper.java"}, "test_case": {"identifier": "testRead", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testRead() throws IOException {\n    byte[] array = createByteArray(16);\n    ByteArrayWrapper wrapper = new ByteArrayWrapper(array);\n    // get the current position\n    final long oldPosition = wrapper.getPos();\n    final long newPosition = 3;\n    final int length = 4;\n    byte[] buffer = new byte[length];\n    int read = wrapper.read(newPosition, buffer, 0, length);\n    // compare the contents\n    assertEquals(length, read);\n    compareByteArrays(array, buffer, (int) newPosition);\n    // the position should not have changed\n    assertEquals(oldPosition, wrapper.getPos());\n    wrapper.close();\n  }", "signature": "void testRead()", "full_signature": "@Test public void testRead()", "class_method_signature": "TestByteArrayWrapper.testRead()", "testcase": true, "constructor": false, "invocations": ["createByteArray", "getPos", "read", "assertEquals", "compareByteArrays", "assertEquals", "getPos", "close"]}, "focal_class": {"identifier": "ByteArrayWrapper", "superclass": "extends ByteArrayInputStream", "interfaces": "implements PositionedReadable, Seekable, Closeable", "fields": [], "methods": [{"identifier": "ByteArrayWrapper", "parameters": "(byte[] buf)", "modifiers": "public", "return": "", "signature": " ByteArrayWrapper(byte[] buf)", "full_signature": "public  ByteArrayWrapper(byte[] buf)", "class_method_signature": "ByteArrayWrapper.ByteArrayWrapper(byte[] buf)", "testcase": false, "constructor": true}, {"identifier": "seek", "parameters": "(long position)", "modifiers": "public synchronized", "return": "void", "signature": "void seek(long position)", "full_signature": "public synchronized void seek(long position)", "class_method_signature": "ByteArrayWrapper.seek(long position)", "testcase": false, "constructor": false}, {"identifier": "getPos", "parameters": "()", "modifiers": "public synchronized", "return": "long", "signature": "long getPos()", "full_signature": "public synchronized long getPos()", "class_method_signature": "ByteArrayWrapper.getPos()", "testcase": false, "constructor": false}, {"identifier": "seekToNewSource", "parameters": "(long targetPos)", "modifiers": "public", "return": "boolean", "signature": "boolean seekToNewSource(long targetPos)", "full_signature": "public boolean seekToNewSource(long targetPos)", "class_method_signature": "ByteArrayWrapper.seekToNewSource(long targetPos)", "testcase": false, "constructor": false}, {"identifier": "read", "parameters": "(long position, byte[] buffer, int offset, int length)", "modifiers": "public synchronized", "return": "int", "signature": "int read(long position, byte[] buffer, int offset, int length)", "full_signature": "public synchronized int read(long position, byte[] buffer, int offset, int length)", "class_method_signature": "ByteArrayWrapper.read(long position, byte[] buffer, int offset, int length)", "testcase": false, "constructor": false}, {"identifier": "readFully", "parameters": "(long position, byte[] buffer, int offset, int length)", "modifiers": "public synchronized", "return": "void", "signature": "void readFully(long position, byte[] buffer, int offset, int length)", "full_signature": "public synchronized void readFully(long position, byte[] buffer, int offset, int length)", "class_method_signature": "ByteArrayWrapper.readFully(long position, byte[] buffer, int offset, int length)", "testcase": false, "constructor": false}, {"identifier": "readFully", "parameters": "(long position, byte[] buffer)", "modifiers": "public synchronized", "return": "void", "signature": "void readFully(long position, byte[] buffer)", "full_signature": "public synchronized void readFully(long position, byte[] buffer)", "class_method_signature": "ByteArrayWrapper.readFully(long position, byte[] buffer)", "testcase": false, "constructor": false}], "file": "hraven-core/src/main/java/com/twitter/hraven/util/ByteArrayWrapper.java"}, "focal_method": {"identifier": "read", "parameters": "(long position, byte[] buffer, int offset, int length)", "modifiers": "public synchronized", "return": "int", "body": "public synchronized int read(long position, byte[] buffer, int offset, int length)\n      throws IOException {\n    long oldPos = getPos();\n    int nread = -1;\n    try {\n      seek(position);\n      nread = read(buffer, offset, length);\n    } finally {\n      seek(oldPos);\n    }\n    return nread;\n  }", "signature": "int read(long position, byte[] buffer, int offset, int length)", "full_signature": "public synchronized int read(long position, byte[] buffer, int offset, int length)", "class_method_signature": "ByteArrayWrapper.read(long position, byte[] buffer, int offset, int length)", "testcase": false, "constructor": false, "invocations": ["getPos", "seek", "read", "seek"]}, "repository": {"repo_id": 10953866, "url": "https://github.com/twitter/hraven", "language": "Java", "is_fork": false, "fork_count": 66, "stargazer_count": 126, "size": 1235, "license": "licensed"}}