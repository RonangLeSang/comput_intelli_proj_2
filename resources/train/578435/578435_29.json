{"test_class": {"identifier": "TestHadoopUtils", "superclass": "", "interfaces": "", "fields": [], "file": "core/src/test/java/com/twitter/elephantbird/util/TestHadoopUtils.java"}, "test_case": {"identifier": "readObjectFromConfAsBase64UnsetKey", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void readObjectFromConfAsBase64UnsetKey() throws Exception {\n    assertNull(HadoopUtils.readObjectFromConfAsBase64(\"non-existant-key\", new Configuration()));\n  }", "signature": "void readObjectFromConfAsBase64UnsetKey()", "full_signature": "@Test public void readObjectFromConfAsBase64UnsetKey()", "class_method_signature": "TestHadoopUtils.readObjectFromConfAsBase64UnsetKey()", "testcase": true, "constructor": false, "invocations": ["assertNull", "readObjectFromConfAsBase64"]}, "focal_class": {"identifier": "HadoopUtils", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger LOG = LoggerFactory.getLogger(HadoopUtils.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(HadoopUtils.class)", "var_name": "LOG"}, {"original_string": "private static final Splitter COMMA_SPLITTER = Splitter.on(',');", "modifier": "private static final", "type": "Splitter", "declarator": "COMMA_SPLITTER = Splitter.on(',')", "var_name": "COMMA_SPLITTER"}], "methods": [{"identifier": "HadoopUtils", "parameters": "()", "modifiers": "private", "return": "", "signature": " HadoopUtils()", "full_signature": "private  HadoopUtils()", "class_method_signature": "HadoopUtils.HadoopUtils()", "testcase": false, "constructor": true}, {"identifier": "getCounter", "parameters": "(JobContext ctx, String group, String counter)", "modifiers": "public static", "return": "Counter", "signature": "Counter getCounter(JobContext ctx, String group, String counter)", "full_signature": "public static Counter getCounter(JobContext ctx, String group, String counter)", "class_method_signature": "HadoopUtils.getCounter(JobContext ctx, String group, String counter)", "testcase": false, "constructor": false}, {"identifier": "setInputFormatClass", "parameters": "(Configuration  conf,\n                                         String         configKey,\n                                         Class<?>       clazz)", "modifiers": "@Deprecated public static", "return": "void", "signature": "void setInputFormatClass(Configuration  conf,\n                                         String         configKey,\n                                         Class<?>       clazz)", "full_signature": "@Deprecated public static void setInputFormatClass(Configuration  conf,\n                                         String         configKey,\n                                         Class<?>       clazz)", "class_method_signature": "HadoopUtils.setInputFormatClass(Configuration  conf,\n                                         String         configKey,\n                                         Class<?>       clazz)", "testcase": false, "constructor": false}, {"identifier": "setClassConf", "parameters": "(Configuration  conf,\n                                  String         configKey,\n                                  Class<?>       clazz)", "modifiers": "public static", "return": "void", "signature": "void setClassConf(Configuration  conf,\n                                  String         configKey,\n                                  Class<?>       clazz)", "full_signature": "public static void setClassConf(Configuration  conf,\n                                  String         configKey,\n                                  Class<?>       clazz)", "class_method_signature": "HadoopUtils.setClassConf(Configuration  conf,\n                                  String         configKey,\n                                  Class<?>       clazz)", "testcase": false, "constructor": false}, {"identifier": "writeObjectToConfAsBase64", "parameters": "(String key, Object obj, Configuration conf)", "modifiers": "public static", "return": "void", "signature": "void writeObjectToConfAsBase64(String key, Object obj, Configuration conf)", "full_signature": "public static void writeObjectToConfAsBase64(String key, Object obj, Configuration conf)", "class_method_signature": "HadoopUtils.writeObjectToConfAsBase64(String key, Object obj, Configuration conf)", "testcase": false, "constructor": false}, {"identifier": "readObjectFromConfAsBase64", "parameters": "(String key, Configuration conf)", "modifiers": "@SuppressWarnings(\"unchecked\") public static", "return": "T", "signature": "T readObjectFromConfAsBase64(String key, Configuration conf)", "full_signature": "@SuppressWarnings(\"unchecked\") public static T readObjectFromConfAsBase64(String key, Configuration conf)", "class_method_signature": "HadoopUtils.readObjectFromConfAsBase64(String key, Configuration conf)", "testcase": false, "constructor": false}, {"identifier": "writeStringListToConfAsJson", "parameters": "(String key,\n                                                 List<String> list,\n                                                 Configuration conf)", "modifiers": "public static", "return": "void", "signature": "void writeStringListToConfAsJson(String key,\n                                                 List<String> list,\n                                                 Configuration conf)", "full_signature": "public static void writeStringListToConfAsJson(String key,\n                                                 List<String> list,\n                                                 Configuration conf)", "class_method_signature": "HadoopUtils.writeStringListToConfAsJson(String key,\n                                                 List<String> list,\n                                                 Configuration conf)", "testcase": false, "constructor": false}, {"identifier": "readStringListFromConfAsJson", "parameters": "(String key, Configuration conf)", "modifiers": "@SuppressWarnings(\"unchecked\") public static", "return": "List<String>", "signature": "List<String> readStringListFromConfAsJson(String key, Configuration conf)", "full_signature": "@SuppressWarnings(\"unchecked\") public static List<String> readStringListFromConfAsJson(String key, Configuration conf)", "class_method_signature": "HadoopUtils.readStringListFromConfAsJson(String key, Configuration conf)", "testcase": false, "constructor": false}, {"identifier": "writeStringListToConfAsBase64", "parameters": "(String key, List<String> list, Configuration\n    conf)", "modifiers": "public static", "return": "void", "signature": "void writeStringListToConfAsBase64(String key, List<String> list, Configuration\n    conf)", "full_signature": "public static void writeStringListToConfAsBase64(String key, List<String> list, Configuration\n    conf)", "class_method_signature": "HadoopUtils.writeStringListToConfAsBase64(String key, List<String> list, Configuration\n    conf)", "testcase": false, "constructor": false}, {"identifier": "readStringListFromConfAsBase64", "parameters": "(String key, Configuration conf)", "modifiers": "@SuppressWarnings(\"unchecked\") public static", "return": "List<String>", "signature": "List<String> readStringListFromConfAsBase64(String key, Configuration conf)", "full_signature": "@SuppressWarnings(\"unchecked\") public static List<String> readStringListFromConfAsBase64(String key, Configuration conf)", "class_method_signature": "HadoopUtils.readStringListFromConfAsBase64(String key, Configuration conf)", "testcase": false, "constructor": false}], "file": "core/src/main/java/com/twitter/elephantbird/util/HadoopUtils.java"}, "focal_method": {"identifier": "readObjectFromConfAsBase64", "parameters": "(String key, Configuration conf)", "modifiers": "@SuppressWarnings(\"unchecked\") public static", "return": "T", "body": "@SuppressWarnings(\"unchecked\")\n  public static <T> T readObjectFromConfAsBase64(String key, Configuration conf) throws IOException {\n    String b64 = conf.get(key);\n    if (b64 == null) {\n      return null;\n    }\n\n    byte[] bytes = Base64.decodeBase64(b64.getBytes(Charsets.UTF_8));\n\n    ByteArrayInputStream bais = null;\n    GZIPInputStream gis = null;\n    ObjectInputStream ois = null;\n\n    try {\n      bais = new ByteArrayInputStream(bytes);\n      gis = new GZIPInputStream(bais);\n      ois = new ObjectInputStream(gis);\n      return (T) ois.readObject();\n    } catch (ClassNotFoundException e) {\n      LOG.error(\"Could not read object from config with key \" + key, e);\n      throw new IOException(e);\n    } catch (ClassCastException e) {\n      LOG.error(\"Couldn't cast object read from config with key \" + key, e);\n      throw new IOException(e);\n    } finally {\n      Closeables.close(ois, false);\n      Closeables.close(gis, false);\n      Closeables.close(bais, false);\n    }\n  }", "signature": "T readObjectFromConfAsBase64(String key, Configuration conf)", "full_signature": "@SuppressWarnings(\"unchecked\") public static T readObjectFromConfAsBase64(String key, Configuration conf)", "class_method_signature": "HadoopUtils.readObjectFromConfAsBase64(String key, Configuration conf)", "testcase": false, "constructor": false, "invocations": ["get", "decodeBase64", "getBytes", "readObject", "error", "error", "close", "close", "close"]}, "repository": {"repo_id": 578435, "url": "https://github.com/twitter/elephant-bird", "language": "Java", "is_fork": false, "fork_count": 385, "stargazer_count": 1096, "size": 62266, "license": "licensed"}}