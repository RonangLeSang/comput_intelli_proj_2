{"test_class": {"identifier": "ClientTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private YarnClient mYarnClient;", "modifier": "private", "type": "YarnClient", "declarator": "mYarnClient", "var_name": "mYarnClient"}, {"original_string": "private InstancedConfiguration mConf = ConfigurationTestUtils.defaults();", "modifier": "private", "type": "InstancedConfiguration", "declarator": "mConf = ConfigurationTestUtils.defaults()", "var_name": "mConf"}, {"original_string": "@Rule\n  public ExpectedException mThrown = ExpectedException.none();", "modifier": "@Rule\n  public", "type": "ExpectedException", "declarator": "mThrown = ExpectedException.none()", "var_name": "mThrown"}], "file": "integration/yarn/src/test/java/alluxio/yarn/ClientTest.java"}, "test_case": {"identifier": "notEnoughVCoreForAlluxioMaster", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void notEnoughVCoreForAlluxioMaster() throws Exception {\n    mConf.set(PropertyKey.INTEGRATION_MASTER_RESOURCE_MEM, \"2048.00MB\");\n    mConf.set(PropertyKey.INTEGRATION_MASTER_RESOURCE_CPU, \"4\");\n    int masterMemInMB = (int) (mConf.getBytes(\n        PropertyKey.INTEGRATION_MASTER_RESOURCE_MEM) / Constants.MB);\n    int masterVCores = mConf.getInt(PropertyKey.INTEGRATION_MASTER_RESOURCE_CPU);\n    Resource resource = Resource.newInstance(masterMemInMB, 3);\n    generateMaxAllocation(resource);\n    mThrown.expect(RuntimeException.class);\n    mThrown.expectMessage(ExceptionMessage.YARN_NOT_ENOUGH_RESOURCES.getMessage(\n        \"Alluxio Master\", \"virtual cores\", masterVCores, resource.getVirtualCores()));\n    Client client = new Client(mConf);\n    client.run();\n  }", "signature": "void notEnoughVCoreForAlluxioMaster()", "full_signature": "@Test public void notEnoughVCoreForAlluxioMaster()", "class_method_signature": "ClientTest.notEnoughVCoreForAlluxioMaster()", "testcase": true, "constructor": false, "invocations": ["set", "set", "getBytes", "getInt", "newInstance", "generateMaxAllocation", "expect", "expectMessage", "getMessage", "getVirtualCores", "run"]}, "focal_class": {"identifier": "Client", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger LOG = LoggerFactory.getLogger(Client.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(Client.class)", "var_name": "LOG"}, {"original_string": "private YarnClient mYarnClient;", "modifier": "private", "type": "YarnClient", "declarator": "mYarnClient", "var_name": "mYarnClient"}, {"original_string": "private YarnConfiguration mYarnConf = new YarnConfiguration();", "modifier": "private", "type": "YarnConfiguration", "declarator": "mYarnConf = new YarnConfiguration()", "var_name": "mYarnConf"}, {"original_string": "private ContainerLaunchContext mAmContainer;", "modifier": "private", "type": "ContainerLaunchContext", "declarator": "mAmContainer", "var_name": "mAmContainer"}, {"original_string": "private ApplicationSubmissionContext mAppContext;", "modifier": "private", "type": "ApplicationSubmissionContext", "declarator": "mAppContext", "var_name": "mAppContext"}, {"original_string": "private String mAppName;", "modifier": "private", "type": "String", "declarator": "mAppName", "var_name": "mAppName"}, {"original_string": "private int mAmPriority;", "modifier": "private", "type": "int", "declarator": "mAmPriority", "var_name": "mAmPriority"}, {"original_string": "private String mAmQueue;", "modifier": "private", "type": "String", "declarator": "mAmQueue", "var_name": "mAmQueue"}, {"original_string": "private int mAmMemoryInMB;", "modifier": "private", "type": "int", "declarator": "mAmMemoryInMB", "var_name": "mAmMemoryInMB"}, {"original_string": "private int mAmVCores;", "modifier": "private", "type": "int", "declarator": "mAmVCores", "var_name": "mAmVCores"}, {"original_string": "private String mResourcePath;", "modifier": "private", "type": "String", "declarator": "mResourcePath", "var_name": "mResourcePath"}, {"original_string": "private int mNumWorkers;", "modifier": "private", "type": "int", "declarator": "mNumWorkers", "var_name": "mNumWorkers"}, {"original_string": "private String mMasterAddress;", "modifier": "private", "type": "String", "declarator": "mMasterAddress", "var_name": "mMasterAddress"}, {"original_string": "private int mMaxWorkersPerHost;", "modifier": "private", "type": "int", "declarator": "mMaxWorkersPerHost", "var_name": "mMaxWorkersPerHost"}, {"original_string": "private ApplicationId mAppId;", "modifier": "private", "type": "ApplicationId", "declarator": "mAppId", "var_name": "mAppId"}, {"original_string": "private Options mOptions;", "modifier": "private", "type": "Options", "declarator": "mOptions", "var_name": "mOptions"}, {"original_string": "private final AlluxioConfiguration mAlluxioConf;", "modifier": "private final", "type": "AlluxioConfiguration", "declarator": "mAlluxioConf", "var_name": "mAlluxioConf"}], "methods": [{"identifier": "Client", "parameters": "(AlluxioConfiguration alluxioConf)", "modifiers": "public", "return": "", "signature": " Client(AlluxioConfiguration alluxioConf)", "full_signature": "public  Client(AlluxioConfiguration alluxioConf)", "class_method_signature": "Client.Client(AlluxioConfiguration alluxioConf)", "testcase": false, "constructor": true}, {"identifier": "Client", "parameters": "(String[] args, AlluxioConfiguration alluxioConf)", "modifiers": "public", "return": "", "signature": " Client(String[] args, AlluxioConfiguration alluxioConf)", "full_signature": "public  Client(String[] args, AlluxioConfiguration alluxioConf)", "class_method_signature": "Client.Client(String[] args, AlluxioConfiguration alluxioConf)", "testcase": false, "constructor": true}, {"identifier": "main", "parameters": "(String[] args)", "modifiers": "public static", "return": "void", "signature": "void main(String[] args)", "full_signature": "public static void main(String[] args)", "class_method_signature": "Client.main(String[] args)", "testcase": false, "constructor": false}, {"identifier": "run", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void run()", "full_signature": "public void run()", "class_method_signature": "Client.run()", "testcase": false, "constructor": false}, {"identifier": "printUsage", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void printUsage()", "full_signature": "private void printUsage()", "class_method_signature": "Client.printUsage()", "testcase": false, "constructor": false}, {"identifier": "parseArgs", "parameters": "(String[] args)", "modifiers": "private", "return": "boolean", "signature": "boolean parseArgs(String[] args)", "full_signature": "private boolean parseArgs(String[] args)", "class_method_signature": "Client.parseArgs(String[] args)", "testcase": false, "constructor": false}, {"identifier": "submitApplication", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void submitApplication()", "full_signature": "private void submitApplication()", "class_method_signature": "Client.submitApplication()", "testcase": false, "constructor": false}, {"identifier": "checkClusterResource", "parameters": "(GetNewApplicationResponse appResponse)", "modifiers": "private", "return": "void", "signature": "void checkClusterResource(GetNewApplicationResponse appResponse)", "full_signature": "private void checkClusterResource(GetNewApplicationResponse appResponse)", "class_method_signature": "Client.checkClusterResource(GetNewApplicationResponse appResponse)", "testcase": false, "constructor": false}, {"identifier": "checkNodesAvailable", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void checkNodesAvailable()", "full_signature": "private void checkNodesAvailable()", "class_method_signature": "Client.checkNodesAvailable()", "testcase": false, "constructor": false}, {"identifier": "setupContainerLaunchContext", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void setupContainerLaunchContext()", "full_signature": "private void setupContainerLaunchContext()", "class_method_signature": "Client.setupContainerLaunchContext()", "testcase": false, "constructor": false}, {"identifier": "setupAppMasterEnv", "parameters": "(Map<String, String> appMasterEnv)", "modifiers": "private", "return": "void", "signature": "void setupAppMasterEnv(Map<String, String> appMasterEnv)", "full_signature": "private void setupAppMasterEnv(Map<String, String> appMasterEnv)", "class_method_signature": "Client.setupAppMasterEnv(Map<String, String> appMasterEnv)", "testcase": false, "constructor": false}], "file": "integration/yarn/src/main/java/alluxio/yarn/Client.java"}, "focal_method": {"identifier": "run", "parameters": "()", "modifiers": "public", "return": "void", "body": "public void run() throws IOException, YarnException {\n    submitApplication();\n  }", "signature": "void run()", "full_signature": "public void run()", "class_method_signature": "Client.run()", "testcase": false, "constructor": false, "invocations": ["submitApplication"]}, "repository": {"repo_id": 7276954, "url": "https://github.com/Alluxio/alluxio", "stars": 4494, "created": "12/21/2012 5:43:46 PM +00:00", "updates": "2020-01-24T20:27:46+00:00", "fork": "False", "license": "licensed"}}