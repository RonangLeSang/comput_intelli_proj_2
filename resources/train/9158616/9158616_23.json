{"test_class": {"identifier": "PatientDomainWrapperTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private PatientDomainWrapper patientDomainWrapper;", "modifier": "private", "type": "PatientDomainWrapper", "declarator": "patientDomainWrapper", "var_name": "patientDomainWrapper"}, {"original_string": "private EmrApiProperties emrApiProperties;", "modifier": "private", "type": "EmrApiProperties", "declarator": "emrApiProperties", "var_name": "emrApiProperties"}, {"original_string": "private Patient patient;", "modifier": "private", "type": "Patient", "declarator": "patient", "var_name": "patient"}, {"original_string": "private VisitService visitService;", "modifier": "private", "type": "VisitService", "declarator": "visitService", "var_name": "visitService"}, {"original_string": "private DomainWrapperFactory domainWrapperFactory;", "modifier": "private", "type": "DomainWrapperFactory", "declarator": "domainWrapperFactory", "var_name": "domainWrapperFactory"}], "file": "api/src/test/java/org/openmrs/module/emrapi/patient/PatientDomainWrapperTest.java"}, "test_case": {"identifier": "shouldVerifyIfPatientIsUnknown", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void shouldVerifyIfPatientIsUnknown() {\n\n        PersonAttributeType personAttributeType = new PersonAttributeType();\n        personAttributeType.setPersonAttributeTypeId(10);\n        personAttributeType.setName(EmrApiConstants.UNKNOWN_PATIENT_PERSON_ATTRIBUTE_TYPE_NAME);\n        personAttributeType.setFormat(\"java.lang.String\");\n\n        PersonAttribute newAttribute = new PersonAttribute(personAttributeType, \"true\");\n        patient.addAttribute(newAttribute);\n\n        when(emrApiProperties.getUnknownPatientPersonAttributeType()).thenReturn(personAttributeType);\n\n        assertTrue(patientDomainWrapper.isUnknownPatient());\n\n    }", "signature": "void shouldVerifyIfPatientIsUnknown()", "full_signature": "@Test public void shouldVerifyIfPatientIsUnknown()", "class_method_signature": "PatientDomainWrapperTest.shouldVerifyIfPatientIsUnknown()", "testcase": true, "constructor": false, "invocations": ["setPersonAttributeTypeId", "setName", "setFormat", "addAttribute", "thenReturn", "when", "getUnknownPatientPersonAttributeType", "assertTrue", "isUnknownPatient"]}, "focal_class": {"identifier": "PatientDomainWrapper", "superclass": "", "interfaces": "implements DomainWrapper", "fields": [{"original_string": "private Patient patient;", "modifier": "private", "type": "Patient", "declarator": "patient", "var_name": "patient"}, {"original_string": "@Qualifier(\"emrApiProperties\")\n\t@Autowired\n\tprotected EmrApiProperties emrApiProperties;", "modifier": "@Qualifier(\"emrApiProperties\")\n\t@Autowired\n\tprotected", "type": "EmrApiProperties", "declarator": "emrApiProperties", "var_name": "emrApiProperties"}, {"original_string": "@Qualifier(\"adtService\")\n\t@Autowired\n\tprotected AdtService adtService;", "modifier": "@Qualifier(\"adtService\")\n\t@Autowired\n\tprotected", "type": "AdtService", "declarator": "adtService", "var_name": "adtService"}, {"original_string": "@Qualifier(\"visitService\")\n\t@Autowired\n\tprotected VisitService visitService;", "modifier": "@Qualifier(\"visitService\")\n\t@Autowired\n\tprotected", "type": "VisitService", "declarator": "visitService", "var_name": "visitService"}, {"original_string": "@Qualifier(\"encounterService\")\n\t@Autowired\n\tprotected EncounterService encounterService;", "modifier": "@Qualifier(\"encounterService\")\n\t@Autowired\n\tprotected", "type": "EncounterService", "declarator": "encounterService", "var_name": "encounterService"}, {"original_string": "@Qualifier(\"emrDiagnosisService\")\n\t@Autowired\n\tprotected DiagnosisService diagnosisService;", "modifier": "@Qualifier(\"emrDiagnosisService\")\n\t@Autowired\n\tprotected", "type": "DiagnosisService", "declarator": "diagnosisService", "var_name": "diagnosisService"}, {"original_string": "@Autowired\n   protected VisitQueryService visitQueryService;", "modifier": "@Autowired\n   protected", "type": "VisitQueryService", "declarator": "visitQueryService", "var_name": "visitQueryService"}, {"original_string": "@Qualifier(\"domainWrapperFactory\")\n   @Autowired\n   protected DomainWrapperFactory domainWrapperFactory;", "modifier": "@Qualifier(\"domainWrapperFactory\")\n   @Autowired\n   protected", "type": "DomainWrapperFactory", "declarator": "domainWrapperFactory", "var_name": "domainWrapperFactory"}], "methods": [{"identifier": "PatientDomainWrapper", "parameters": "()", "modifiers": "public", "return": "", "signature": " PatientDomainWrapper()", "full_signature": "public  PatientDomainWrapper()", "class_method_signature": "PatientDomainWrapper.PatientDomainWrapper()", "testcase": false, "constructor": true}, {"identifier": "PatientDomainWrapper", "parameters": "(Patient patient, EmrApiProperties emrApiProperties, AdtService adtService,\n\t\t\t\t\t\t\t\tVisitService visitService, EncounterService encounterService, DiagnosisService diagnosisService, DomainWrapperFactory domainWrapperFactory)", "modifiers": "@Deprecated // use the PatientDomainWrapperFactory component to instantiate a new PDW public", "return": "", "signature": " PatientDomainWrapper(Patient patient, EmrApiProperties emrApiProperties, AdtService adtService,\n\t\t\t\t\t\t\t\tVisitService visitService, EncounterService encounterService, DiagnosisService diagnosisService, DomainWrapperFactory domainWrapperFactory)", "full_signature": "@Deprecated // use the PatientDomainWrapperFactory component to instantiate a new PDW public  PatientDomainWrapper(Patient patient, EmrApiProperties emrApiProperties, AdtService adtService,\n\t\t\t\t\t\t\t\tVisitService visitService, EncounterService encounterService, DiagnosisService diagnosisService, DomainWrapperFactory domainWrapperFactory)", "class_method_signature": "PatientDomainWrapper.PatientDomainWrapper(Patient patient, EmrApiProperties emrApiProperties, AdtService adtService,\n\t\t\t\t\t\t\t\tVisitService visitService, EncounterService encounterService, DiagnosisService diagnosisService, DomainWrapperFactory domainWrapperFactory)", "testcase": false, "constructor": true}, {"identifier": "setPatient", "parameters": "(Patient patient)", "modifiers": "public", "return": "void", "signature": "void setPatient(Patient patient)", "full_signature": "public void setPatient(Patient patient)", "class_method_signature": "PatientDomainWrapper.setPatient(Patient patient)", "testcase": false, "constructor": false}, {"identifier": "setEmrApiProperties", "parameters": "(EmrApiProperties emrApiProperties)", "modifiers": "public", "return": "void", "signature": "void setEmrApiProperties(EmrApiProperties emrApiProperties)", "full_signature": "public void setEmrApiProperties(EmrApiProperties emrApiProperties)", "class_method_signature": "PatientDomainWrapper.setEmrApiProperties(EmrApiProperties emrApiProperties)", "testcase": false, "constructor": false}, {"identifier": "setAdtService", "parameters": "(AdtService adtService)", "modifiers": "public", "return": "void", "signature": "void setAdtService(AdtService adtService)", "full_signature": "public void setAdtService(AdtService adtService)", "class_method_signature": "PatientDomainWrapper.setAdtService(AdtService adtService)", "testcase": false, "constructor": false}, {"identifier": "setVisitService", "parameters": "(VisitService visitService)", "modifiers": "public", "return": "void", "signature": "void setVisitService(VisitService visitService)", "full_signature": "public void setVisitService(VisitService visitService)", "class_method_signature": "PatientDomainWrapper.setVisitService(VisitService visitService)", "testcase": false, "constructor": false}, {"identifier": "setEncounterService", "parameters": "(EncounterService encounterService)", "modifiers": "public", "return": "void", "signature": "void setEncounterService(EncounterService encounterService)", "full_signature": "public void setEncounterService(EncounterService encounterService)", "class_method_signature": "PatientDomainWrapper.setEncounterService(EncounterService encounterService)", "testcase": false, "constructor": false}, {"identifier": "setDiagnosisService", "parameters": "(DiagnosisService diagnosisService)", "modifiers": "public", "return": "void", "signature": "void setDiagnosisService(DiagnosisService diagnosisService)", "full_signature": "public void setDiagnosisService(DiagnosisService diagnosisService)", "class_method_signature": "PatientDomainWrapper.setDiagnosisService(DiagnosisService diagnosisService)", "testcase": false, "constructor": false}, {"identifier": "setVisitQueryService", "parameters": "(VisitQueryService visitQueryService)", "modifiers": "public", "return": "void", "signature": "void setVisitQueryService(VisitQueryService visitQueryService)", "full_signature": "public void setVisitQueryService(VisitQueryService visitQueryService)", "class_method_signature": "PatientDomainWrapper.setVisitQueryService(VisitQueryService visitQueryService)", "testcase": false, "constructor": false}, {"identifier": "getPatient", "parameters": "()", "modifiers": "public", "return": "Patient", "signature": "Patient getPatient()", "full_signature": "public Patient getPatient()", "class_method_signature": "PatientDomainWrapper.getPatient()", "testcase": false, "constructor": false}, {"identifier": "getId", "parameters": "()", "modifiers": "public", "return": "Integer", "signature": "Integer getId()", "full_signature": "public Integer getId()", "class_method_signature": "PatientDomainWrapper.getId()", "testcase": false, "constructor": false}, {"identifier": "getGender", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getGender()", "full_signature": "public String getGender()", "class_method_signature": "PatientDomainWrapper.getGender()", "testcase": false, "constructor": false}, {"identifier": "getAge", "parameters": "()", "modifiers": "public", "return": "Integer", "signature": "Integer getAge()", "full_signature": "public Integer getAge()", "class_method_signature": "PatientDomainWrapper.getAge()", "testcase": false, "constructor": false}, {"identifier": "getAgeInMonths", "parameters": "()", "modifiers": "public", "return": "Integer", "signature": "Integer getAgeInMonths()", "full_signature": "public Integer getAgeInMonths()", "class_method_signature": "PatientDomainWrapper.getAgeInMonths()", "testcase": false, "constructor": false}, {"identifier": "getAgeInDays", "parameters": "()", "modifiers": "public", "return": "Integer", "signature": "Integer getAgeInDays()", "full_signature": "public Integer getAgeInDays()", "class_method_signature": "PatientDomainWrapper.getAgeInDays()", "testcase": false, "constructor": false}, {"identifier": "getBirthdateEstimated", "parameters": "()", "modifiers": "public", "return": "Boolean", "signature": "Boolean getBirthdateEstimated()", "full_signature": "public Boolean getBirthdateEstimated()", "class_method_signature": "PatientDomainWrapper.getBirthdateEstimated()", "testcase": false, "constructor": false}, {"identifier": "getBirthdate", "parameters": "()", "modifiers": "public", "return": "Date", "signature": "Date getBirthdate()", "full_signature": "public Date getBirthdate()", "class_method_signature": "PatientDomainWrapper.getBirthdate()", "testcase": false, "constructor": false}, {"identifier": "getTelephoneNumber", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getTelephoneNumber()", "full_signature": "public String getTelephoneNumber()", "class_method_signature": "PatientDomainWrapper.getTelephoneNumber()", "testcase": false, "constructor": false}, {"identifier": "getPersonAddress", "parameters": "()", "modifiers": "public", "return": "PersonAddress", "signature": "PersonAddress getPersonAddress()", "full_signature": "public PersonAddress getPersonAddress()", "class_method_signature": "PatientDomainWrapper.getPersonAddress()", "testcase": false, "constructor": false}, {"identifier": "getPrimaryIdentifier", "parameters": "()", "modifiers": "public", "return": "PatientIdentifier", "signature": "PatientIdentifier getPrimaryIdentifier()", "full_signature": "public PatientIdentifier getPrimaryIdentifier()", "class_method_signature": "PatientDomainWrapper.getPrimaryIdentifier()", "testcase": false, "constructor": false}, {"identifier": "getPrimaryIdentifiers", "parameters": "()", "modifiers": "public", "return": "List<PatientIdentifier>", "signature": "List<PatientIdentifier> getPrimaryIdentifiers()", "full_signature": "public List<PatientIdentifier> getPrimaryIdentifiers()", "class_method_signature": "PatientDomainWrapper.getPrimaryIdentifiers()", "testcase": false, "constructor": false}, {"identifier": "getExtraIdentifiers", "parameters": "()", "modifiers": "public", "return": "List<PatientIdentifier>", "signature": "List<PatientIdentifier> getExtraIdentifiers()", "full_signature": "public List<PatientIdentifier> getExtraIdentifiers()", "class_method_signature": "PatientDomainWrapper.getExtraIdentifiers()", "testcase": false, "constructor": false}, {"identifier": "getExtraIdentifiers", "parameters": "(Location location)", "modifiers": "public", "return": "List<PatientIdentifier>", "signature": "List<PatientIdentifier> getExtraIdentifiers(Location location)", "full_signature": "public List<PatientIdentifier> getExtraIdentifiers(Location location)", "class_method_signature": "PatientDomainWrapper.getExtraIdentifiers(Location location)", "testcase": false, "constructor": false}, {"identifier": "getExtraIdentifiersMappedByType", "parameters": "(Location location)", "modifiers": "public", "return": "Map<PatientIdentifierType, List<PatientIdentifier>>", "signature": "Map<PatientIdentifierType, List<PatientIdentifier>> getExtraIdentifiersMappedByType(Location location)", "full_signature": "public Map<PatientIdentifierType, List<PatientIdentifier>> getExtraIdentifiersMappedByType(Location location)", "class_method_signature": "PatientDomainWrapper.getExtraIdentifiersMappedByType(Location location)", "testcase": false, "constructor": false}, {"identifier": "getExtraIdentifiersMappedByType", "parameters": "()", "modifiers": "public", "return": "Map<PatientIdentifierType, List<PatientIdentifier>>", "signature": "Map<PatientIdentifierType, List<PatientIdentifier>> getExtraIdentifiersMappedByType()", "full_signature": "public Map<PatientIdentifierType, List<PatientIdentifier>> getExtraIdentifiersMappedByType()", "class_method_signature": "PatientDomainWrapper.getExtraIdentifiersMappedByType()", "testcase": false, "constructor": false}, {"identifier": "getLastEncounter", "parameters": "()", "modifiers": "public", "return": "Encounter", "signature": "Encounter getLastEncounter()", "full_signature": "public Encounter getLastEncounter()", "class_method_signature": "PatientDomainWrapper.getLastEncounter()", "testcase": false, "constructor": false}, {"identifier": "getActiveVisit", "parameters": "(Location location)", "modifiers": "public", "return": "VisitDomainWrapper", "signature": "VisitDomainWrapper getActiveVisit(Location location)", "full_signature": "public VisitDomainWrapper getActiveVisit(Location location)", "class_method_signature": "PatientDomainWrapper.getActiveVisit(Location location)", "testcase": false, "constructor": false}, {"identifier": "getCountOfEncounters", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getCountOfEncounters()", "full_signature": "public int getCountOfEncounters()", "class_method_signature": "PatientDomainWrapper.getCountOfEncounters()", "testcase": false, "constructor": false}, {"identifier": "getCountOfVisits", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getCountOfVisits()", "full_signature": "public int getCountOfVisits()", "class_method_signature": "PatientDomainWrapper.getCountOfVisits()", "testcase": false, "constructor": false}, {"identifier": "getAllEncounters", "parameters": "()", "modifiers": "public", "return": "List<Encounter>", "signature": "List<Encounter> getAllEncounters()", "full_signature": "public List<Encounter> getAllEncounters()", "class_method_signature": "PatientDomainWrapper.getAllEncounters()", "testcase": false, "constructor": false}, {"identifier": "getVisitsByType", "parameters": "(VisitType visitType)", "modifiers": "public", "return": "List<Visit>", "signature": "List<Visit> getVisitsByType(VisitType visitType)", "full_signature": "public List<Visit> getVisitsByType(VisitType visitType)", "class_method_signature": "PatientDomainWrapper.getVisitsByType(VisitType visitType)", "testcase": false, "constructor": false}, {"identifier": "getAllVisits", "parameters": "()", "modifiers": "public", "return": "List<Visit>", "signature": "List<Visit> getAllVisits()", "full_signature": "public List<Visit> getAllVisits()", "class_method_signature": "PatientDomainWrapper.getAllVisits()", "testcase": false, "constructor": false}, {"identifier": "hasOverlappingVisitsWith", "parameters": "(Patient otherPatient)", "modifiers": "public", "return": "boolean", "signature": "boolean hasOverlappingVisitsWith(Patient otherPatient)", "full_signature": "public boolean hasOverlappingVisitsWith(Patient otherPatient)", "class_method_signature": "PatientDomainWrapper.hasOverlappingVisitsWith(Patient otherPatient)", "testcase": false, "constructor": false}, {"identifier": "isUnknownPatient", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isUnknownPatient()", "full_signature": "public boolean isUnknownPatient()", "class_method_signature": "PatientDomainWrapper.isUnknownPatient()", "testcase": false, "constructor": false}, {"identifier": "getVisitsByTypeUsingWrappers", "parameters": "(VisitType visitType)", "modifiers": "public", "return": "List<VisitDomainWrapper>", "signature": "List<VisitDomainWrapper> getVisitsByTypeUsingWrappers(VisitType visitType)", "full_signature": "public List<VisitDomainWrapper> getVisitsByTypeUsingWrappers(VisitType visitType)", "class_method_signature": "PatientDomainWrapper.getVisitsByTypeUsingWrappers(VisitType visitType)", "testcase": false, "constructor": false}, {"identifier": "getAllVisitsUsingWrappers", "parameters": "()", "modifiers": "public", "return": "List<VisitDomainWrapper>", "signature": "List<VisitDomainWrapper> getAllVisitsUsingWrappers()", "full_signature": "public List<VisitDomainWrapper> getAllVisitsUsingWrappers()", "class_method_signature": "PatientDomainWrapper.getAllVisitsUsingWrappers()", "testcase": false, "constructor": false}, {"identifier": "getFormattedName", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getFormattedName()", "full_signature": "public String getFormattedName()", "class_method_signature": "PatientDomainWrapper.getFormattedName()", "testcase": false, "constructor": false}, {"identifier": "getPersonName", "parameters": "()", "modifiers": "public", "return": "PersonName", "signature": "PersonName getPersonName()", "full_signature": "public PersonName getPersonName()", "class_method_signature": "PatientDomainWrapper.getPersonName()", "testcase": false, "constructor": false}, {"identifier": "isTestPatient", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isTestPatient()", "full_signature": "public boolean isTestPatient()", "class_method_signature": "PatientDomainWrapper.isTestPatient()", "testcase": false, "constructor": false}, {"identifier": "getDiagnosesSince", "parameters": "(Date date)", "modifiers": "public", "return": "List<Diagnosis>", "signature": "List<Diagnosis> getDiagnosesSince(Date date)", "full_signature": "public List<Diagnosis> getDiagnosesSince(Date date)", "class_method_signature": "PatientDomainWrapper.getDiagnosesSince(Date date)", "testcase": false, "constructor": false}, {"identifier": "getUniqueDiagnosesSince", "parameters": "(Date date)", "modifiers": "public", "return": "List<Diagnosis>", "signature": "List<Diagnosis> getUniqueDiagnosesSince(Date date)", "full_signature": "public List<Diagnosis> getUniqueDiagnosesSince(Date date)", "class_method_signature": "PatientDomainWrapper.getUniqueDiagnosesSince(Date date)", "testcase": false, "constructor": false}], "file": "api/src/main/java/org/openmrs/module/emrapi/patient/PatientDomainWrapper.java"}, "focal_method": {"identifier": "isUnknownPatient", "parameters": "()", "modifiers": "public", "return": "boolean", "body": "public boolean isUnknownPatient() {\n\t\tboolean unknownPatient = false;\n\t\tPersonAttributeType unknownPatientAttributeType = emrApiProperties.getUnknownPatientPersonAttributeType();\n\t\tif (patient != null) {\n\t\t\tPersonAttribute att = patient.getAttribute(unknownPatientAttributeType);\n\t\t\tif (att != null && \"true\".equals(att.getValue())) {\n\t\t\t\tunknownPatient = true;\n\t\t\t}\n\t\t}\n\t\treturn unknownPatient;\n\t}", "signature": "boolean isUnknownPatient()", "full_signature": "public boolean isUnknownPatient()", "class_method_signature": "PatientDomainWrapper.isUnknownPatient()", "testcase": false, "constructor": false, "invocations": ["getUnknownPatientPersonAttributeType", "getAttribute", "equals", "getValue"]}, "repository": {"repo_id": 9158616, "url": "https://github.com/openmrs/openmrs-module-emrapi", "language": "Java", "is_fork": false, "fork_count": 117, "stargazer_count": 12, "size": 2691, "license": "licensed"}}