{"test_class": {"identifier": "PreDeployMojoTest", "superclass": "", "interfaces": "", "fields": [], "file": "modules/xcode-maven-plugin/src/test/java/com/sap/prd/mobile/ios/mios/PreDeployMojoTest.java"}, "test_case": {"identifier": "testGetRedirectHtmlFilename_dSym", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testGetRedirectHtmlFilename_dSym()\n  {\n    assertEquals(\"MyApp-Release-iphoneos-app.dSYM.zip.htm\",\n          getRedirectHtmlFilename(\"MyApp-1.0.0-20120821.132955-1-Release-iphoneos-app.dSYM.zip\", \"MyApp\"));\n  }", "signature": "void testGetRedirectHtmlFilename_dSym()", "full_signature": "@Test public void testGetRedirectHtmlFilename_dSym()", "class_method_signature": "PreDeployMojoTest.testGetRedirectHtmlFilename_dSym()", "testcase": true, "constructor": false, "invocations": ["assertEquals", "getRedirectHtmlFilename"]}, "focal_class": {"identifier": "PreDeployMojo", "superclass": "extends AbstractDeployMojo", "interfaces": "", "fields": [{"original_string": "private File archiveFolder;", "modifier": "private", "type": "File", "declarator": "archiveFolder", "var_name": "archiveFolder"}, {"original_string": "private final static String HTML_TEMPLATE = \"<html><head><meta http-equiv=\\\"refresh\\\" content=\\\"0; URL=$LOCATION\\\">\" +\n        \"<body>You will be redirected within the next few seconds.<br />\" +\n        \"In case this does not work click <a href=\\\"$LOCATION\\\">here</a></body></html>\";", "modifier": "private final static", "type": "String", "declarator": "HTML_TEMPLATE = \"<html><head><meta http-equiv=\\\"refresh\\\" content=\\\"0; URL=$LOCATION\\\">\" +\n        \"<body>You will be redirected within the next few seconds.<br />\" +\n        \"In case this does not work click <a href=\\\"$LOCATION\\\">here</a></body></html>\"", "var_name": "HTML_TEMPLATE"}], "methods": [{"identifier": "getProjectArchiveFolder", "parameters": "(File rootArchiveFolder, MavenProject project)", "modifiers": "static", "return": "File", "signature": "File getProjectArchiveFolder(File rootArchiveFolder, MavenProject project)", "full_signature": "static File getProjectArchiveFolder(File rootArchiveFolder, MavenProject project)", "class_method_signature": "PreDeployMojo.getProjectArchiveFolder(File rootArchiveFolder, MavenProject project)", "testcase": false, "constructor": false}, {"identifier": "execute", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void execute()", "full_signature": "@Override public void execute()", "class_method_signature": "PreDeployMojo.execute()", "testcase": false, "constructor": false}, {"identifier": "createArchiveFolder", "parameters": "(File archiveFolder)", "modifiers": "private static", "return": "void", "signature": "void createArchiveFolder(File archiveFolder)", "full_signature": "private static void createArchiveFolder(File archiveFolder)", "class_method_signature": "PreDeployMojo.createArchiveFolder(File archiveFolder)", "testcase": false, "constructor": false}, {"identifier": "getRedirectHtmlFilename", "parameters": "(String artifactFileName, String artifactId)", "modifiers": "static", "return": "String", "signature": "String getRedirectHtmlFilename(String artifactFileName, String artifactId)", "full_signature": "static String getRedirectHtmlFilename(String artifactFileName, String artifactId)", "class_method_signature": "PreDeployMojo.getRedirectHtmlFilename(String artifactFileName, String artifactId)", "testcase": false, "constructor": false}, {"identifier": "getNthIndexFromBack", "parameters": "(String string, String searchString, int countFromBack)", "modifiers": "static", "return": "int", "signature": "int getNthIndexFromBack(String string, String searchString, int countFromBack)", "full_signature": "static int getNthIndexFromBack(String string, String searchString, int countFromBack)", "class_method_signature": "PreDeployMojo.getNthIndexFromBack(String string, String searchString, int countFromBack)", "testcase": false, "constructor": false}], "file": "modules/xcode-maven-plugin/src/main/java/com/sap/prd/mobile/ios/mios/PreDeployMojo.java"}, "focal_method": {"identifier": "getRedirectHtmlFilename", "parameters": "(String artifactFileName, String artifactId)", "modifiers": "static", "return": "String", "body": "static String getRedirectHtmlFilename(String artifactFileName, String artifactId)\n  {\n    String search = \"-\";\n    int nthElement = 0;\n    if (artifactFileName.endsWith(XCodeOtaHtmlGeneratorMojo.OTA_CLASSIFIER_APPENDIX + \".\"\n          + XCodeOtaHtmlGeneratorMojo.OTA_HTML_FILE_APPENDIX)) {\n      nthElement = 3;\n    }\n    else if (artifactFileName.endsWith(\"-AppStoreMetaData.zip\")) {\n      nthElement = 1;\n    }\n    else if (artifactFileName.endsWith(\"-app.dSYM.zip\")) {\n      nthElement = 3;\n    }\n    else if (artifactFileName.endsWith(\"-app.zip\")) {\n      nthElement = 3;\n    }\n    else if (artifactFileName.endsWith(\".ipa\")) {\n      nthElement = 2;\n    }\n    else if (artifactFileName.endsWith(\"versions.xml\")) {\n      nthElement = 1;\n    }\n    else if (artifactFileName.endsWith(\".pom\")) {\n      nthElement = 1;\n      search = \".\";\n    }\n    else if (artifactFileName.endsWith(\"-fat-binary.a\")) {\n      nthElement = 3;\n    }\n    else if (artifactFileName.endsWith(\".a\")) {\n      nthElement = 2;\n    }\n    else if (artifactFileName.endsWith(\".headers.tar\")) {\n      nthElement = 2;\n    }\n    else if (artifactFileName.endsWith(\".tar\")) {\n      nthElement = 1;\n      search = \".\";\n    }\n\n    int idx = getNthIndexFromBack(artifactFileName, search, nthElement);\n    if (idx >= 0) {\n      String name = artifactId + artifactFileName.substring(idx);\n      if (!name.endsWith(\".htm\")) {\n        name = name + \".htm\";\n      }\n      return name;\n    }\n    return artifactId + \"-\" + artifactFileName + \".htm\";\n  }", "signature": "String getRedirectHtmlFilename(String artifactFileName, String artifactId)", "full_signature": "static String getRedirectHtmlFilename(String artifactFileName, String artifactId)", "class_method_signature": "PreDeployMojo.getRedirectHtmlFilename(String artifactFileName, String artifactId)", "testcase": false, "constructor": false, "invocations": ["endsWith", "endsWith", "endsWith", "endsWith", "endsWith", "endsWith", "endsWith", "endsWith", "endsWith", "endsWith", "endsWith", "getNthIndexFromBack", "substring", "endsWith"]}, "repository": {"repo_id": 3513261, "url": "https://github.com/sap-production/xcode-maven-plugin", "language": "Java", "is_fork": false, "fork_count": 29, "stargazer_count": 66, "size": 12424, "license": "licensed"}}