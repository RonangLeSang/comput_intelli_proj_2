{"test_class": {"identifier": "CommandEntityTest", "superclass": "extends EntityTestBase", "interfaces": "", "fields": [{"original_string": "private static final Comparator<? super List<? extends CriterionEntity>> UNIQUE_ID_CRITERIA_LIST_COMPARATOR =\n        (l1, l2) -> {\n            if (l1.size() != l2.size()) {\n                return l1.size() - l2.size();\n            }\n\n            for (int i = 0; i < l1.size(); i++) {\n                final String c1 = l1.get(i).getUniqueId().orElse(UUID.randomUUID().toString());\n                final String c2 = l2.get(i).getUniqueId().orElse(UUID.randomUUID().toString());\n                if (!c1.equals(c2)) {\n                    return c1.compareTo(c2);\n                }\n            }\n            return 0;\n        };", "modifier": "private static final", "type": "Comparator<? super List<? extends CriterionEntity>>", "declarator": "UNIQUE_ID_CRITERIA_LIST_COMPARATOR =\n        (l1, l2) -> {\n            if (l1.size() != l2.size()) {\n                return l1.size() - l2.size();\n            }\n\n            for (int i = 0; i < l1.size(); i++) {\n                final String c1 = l1.get(i).getUniqueId().orElse(UUID.randomUUID().toString());\n                final String c2 = l2.get(i).getUniqueId().orElse(UUID.randomUUID().toString());\n                if (!c1.equals(c2)) {\n                    return c1.compareTo(c2);\n                }\n            }\n            return 0;\n        }", "var_name": "UNIQUE_ID_CRITERIA_LIST_COMPARATOR"}, {"original_string": "private static final Comparator<CriterionEntity> UNIQUE_ID_CRITERION_COMPARATOR = Comparator.comparing(\n        criterion -> criterion.getUniqueId().orElse(UUID.randomUUID().toString())\n    );", "modifier": "private static final", "type": "Comparator<CriterionEntity>", "declarator": "UNIQUE_ID_CRITERION_COMPARATOR = Comparator.comparing(\n        criterion -> criterion.getUniqueId().orElse(UUID.randomUUID().toString())\n    )", "var_name": "UNIQUE_ID_CRITERION_COMPARATOR"}, {"original_string": "private static final String NAME = \"pig13\";", "modifier": "private static final", "type": "String", "declarator": "NAME = \"pig13\"", "var_name": "NAME"}, {"original_string": "private static final String USER = \"tgianos\";", "modifier": "private static final", "type": "String", "declarator": "USER = \"tgianos\"", "var_name": "USER"}, {"original_string": "private static final List<String> EXECUTABLE = Lists.newArrayList(\"/bin/pig13\", \"-Dblah\");", "modifier": "private static final", "type": "List<String>", "declarator": "EXECUTABLE = Lists.newArrayList(\"/bin/pig13\", \"-Dblah\")", "var_name": "EXECUTABLE"}, {"original_string": "private static final String VERSION = \"1.0\";", "modifier": "private static final", "type": "String", "declarator": "VERSION = \"1.0\"", "var_name": "VERSION"}, {"original_string": "private static final long CHECK_DELAY = 18083L;", "modifier": "private static final", "type": "long", "declarator": "CHECK_DELAY = 18083L", "var_name": "CHECK_DELAY"}, {"original_string": "private static final int MEMORY = 10_240;", "modifier": "private static final", "type": "int", "declarator": "MEMORY = 10_240", "var_name": "MEMORY"}, {"original_string": "private CommandEntity c;", "modifier": "private", "type": "CommandEntity", "declarator": "c", "var_name": "c"}], "file": "genie-web/src/test/java/com/netflix/genie/web/data/services/impl/jpa/entities/CommandEntityTest.java"}, "test_case": {"identifier": "testSetMemory", "parameters": "()", "modifiers": "@Test", "return": "void", "body": "@Test\n    void testSetMemory() {\n        Assertions.assertThat(this.c.getMemory()).isPresent().contains(MEMORY);\n        final int newMemory = MEMORY + 1;\n        this.c.setMemory(newMemory);\n        Assertions.assertThat(this.c.getMemory()).isPresent().contains(newMemory);\n    }", "signature": "void testSetMemory()", "full_signature": "@Test void testSetMemory()", "class_method_signature": "CommandEntityTest.testSetMemory()", "testcase": true, "constructor": false, "invocations": ["contains", "isPresent", "assertThat", "getMemory", "setMemory", "contains", "isPresent", "assertThat", "getMemory"]}, "focal_class": {"identifier": "CommandEntity", "superclass": "extends BaseEntity", "interfaces": "", "fields": [{"original_string": "public static final String APPLICATIONS_ENTITY_GRAPH = \"Command.applications\";", "modifier": "public static final", "type": "String", "declarator": "APPLICATIONS_ENTITY_GRAPH = \"Command.applications\"", "var_name": "APPLICATIONS_ENTITY_GRAPH"}, {"original_string": "public static final String APPLICATIONS_DTO_ENTITY_GRAPH = \"Command.applications.dto\";", "modifier": "public static final", "type": "String", "declarator": "APPLICATIONS_DTO_ENTITY_GRAPH = \"Command.applications.dto\"", "var_name": "APPLICATIONS_DTO_ENTITY_GRAPH"}, {"original_string": "public static final String CLUSTER_CRITERIA_ENTITY_GRAPH = \"Command.clusterCriteria\";", "modifier": "public static final", "type": "String", "declarator": "CLUSTER_CRITERIA_ENTITY_GRAPH = \"Command.clusterCriteria\"", "var_name": "CLUSTER_CRITERIA_ENTITY_GRAPH"}, {"original_string": "public static final String DTO_ENTITY_GRAPH = \"Command.DTO\";", "modifier": "public static final", "type": "String", "declarator": "DTO_ENTITY_GRAPH = \"Command.DTO\"", "var_name": "DTO_ENTITY_GRAPH"}, {"original_string": "private static final long serialVersionUID = -8058995173025433517L;", "modifier": "private static final", "type": "long", "declarator": "serialVersionUID = -8058995173025433517L", "var_name": "serialVersionUID"}, {"original_string": "private static final int HIGHEST_CRITERION_PRIORITY = 0;", "modifier": "private static final", "type": "int", "declarator": "HIGHEST_CRITERION_PRIORITY = 0", "var_name": "HIGHEST_CRITERION_PRIORITY"}, {"original_string": "@ElementCollection\n    @CollectionTable(\n        name = \"command_executable_arguments\",\n        joinColumns = {\n            @JoinColumn(name = \"command_id\", nullable = false)\n        }\n    )\n    @Column(name = \"argument\", length = 1024, nullable = false)\n    @OrderColumn(name = \"argument_order\", nullable = false)\n    @NotEmpty(message = \"No executable arguments entered. At least one is required.\")\n    private List<@NotBlank @Size(max = 1024) String> executable = new ArrayList<>();", "modifier": "@ElementCollection\n    @CollectionTable(\n        name = \"command_executable_arguments\",\n        joinColumns = {\n            @JoinColumn(name = \"command_id\", nullable = false)\n        }\n    )\n    @Column(name = \"argument\", length = 1024, nullable = false)\n    @OrderColumn(name = \"argument_order\", nullable = false)\n    @NotEmpty(message = \"No executable arguments entered. At least one is required.\")\n    private", "type": "List<@NotBlank @Size(max = 1024) String>", "declarator": "executable = new ArrayList<>()", "var_name": "executable"}, {"original_string": "@Basic(optional = false)\n    @Column(name = \"check_delay\", nullable = false)\n    @Min(1)\n    private long checkDelay = Command.DEFAULT_CHECK_DELAY;", "modifier": "@Basic(optional = false)\n    @Column(name = \"check_delay\", nullable = false)\n    @Min(1)\n    private", "type": "long", "declarator": "checkDelay = Command.DEFAULT_CHECK_DELAY", "var_name": "checkDelay"}, {"original_string": "@Basic\n    @Column(name = \"memory\")\n    @Min(1)\n    private Integer memory;", "modifier": "@Basic\n    @Column(name = \"memory\")\n    @Min(1)\n    private", "type": "Integer", "declarator": "memory", "var_name": "memory"}, {"original_string": "@Lob\n    @Basic(fetch = FetchType.LAZY)\n    @Column(name = \"launcher_ext\", columnDefinition = \"TEXT DEFAULT NULL\")\n    @Convert(converter = JsonAttributeConverter.class)\n    @ToString.Exclude\n    private JsonNode launcherExt;", "modifier": "@Lob\n    @Basic(fetch = FetchType.LAZY)\n    @Column(name = \"launcher_ext\", columnDefinition = \"TEXT DEFAULT NULL\")\n    @Convert(converter = JsonAttributeConverter.class)\n    @ToString.Exclude\n    private", "type": "JsonNode", "declarator": "launcherExt", "var_name": "launcherExt"}, {"original_string": "@ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n        name = \"commands_configs\",\n        joinColumns = {\n            @JoinColumn(name = \"command_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        },\n        inverseJoinColumns = {\n            @JoinColumn(name = \"file_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        }\n    )\n    @ToString.Exclude\n    private Set<FileEntity> configs = new HashSet<>();", "modifier": "@ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n        name = \"commands_configs\",\n        joinColumns = {\n            @JoinColumn(name = \"command_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        },\n        inverseJoinColumns = {\n            @JoinColumn(name = \"file_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        }\n    )\n    @ToString.Exclude\n    private", "type": "Set<FileEntity>", "declarator": "configs = new HashSet<>()", "var_name": "configs"}, {"original_string": "@ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n        name = \"commands_dependencies\",\n        joinColumns = {\n            @JoinColumn(name = \"command_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        },\n        inverseJoinColumns = {\n            @JoinColumn(name = \"file_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        }\n    )\n    @ToString.Exclude\n    private Set<FileEntity> dependencies = new HashSet<>();", "modifier": "@ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n        name = \"commands_dependencies\",\n        joinColumns = {\n            @JoinColumn(name = \"command_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        },\n        inverseJoinColumns = {\n            @JoinColumn(name = \"file_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        }\n    )\n    @ToString.Exclude\n    private", "type": "Set<FileEntity>", "declarator": "dependencies = new HashSet<>()", "var_name": "dependencies"}, {"original_string": "@ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n        name = \"commands_tags\",\n        joinColumns = {\n            @JoinColumn(name = \"command_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        },\n        inverseJoinColumns = {\n            @JoinColumn(name = \"tag_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        }\n    )\n    @ToString.Exclude\n    private Set<TagEntity> tags = new HashSet<>();", "modifier": "@ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n        name = \"commands_tags\",\n        joinColumns = {\n            @JoinColumn(name = \"command_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        },\n        inverseJoinColumns = {\n            @JoinColumn(name = \"tag_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        }\n    )\n    @ToString.Exclude\n    private", "type": "Set<TagEntity>", "declarator": "tags = new HashSet<>()", "var_name": "tags"}, {"original_string": "@ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n        name = \"commands_applications\",\n        joinColumns = {\n            @JoinColumn(name = \"command_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        },\n        inverseJoinColumns = {\n            @JoinColumn(name = \"application_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        }\n    )\n    @OrderColumn(name = \"application_order\", nullable = false)\n    @ToString.Exclude\n    private List<ApplicationEntity> applications = new ArrayList<>();", "modifier": "@ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n        name = \"commands_applications\",\n        joinColumns = {\n            @JoinColumn(name = \"command_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        },\n        inverseJoinColumns = {\n            @JoinColumn(name = \"application_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        }\n    )\n    @OrderColumn(name = \"application_order\", nullable = false)\n    @ToString.Exclude\n    private", "type": "List<ApplicationEntity>", "declarator": "applications = new ArrayList<>()", "var_name": "applications"}, {"original_string": "@ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinTable(\n        name = \"commands_cluster_criteria\",\n        joinColumns = {\n            @JoinColumn(name = \"command_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        },\n        inverseJoinColumns = {\n            @JoinColumn(name = \"criterion_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        }\n    )\n    @OrderColumn(name = \"priority_order\", nullable = false)\n    private List<CriterionEntity> clusterCriteria = new ArrayList<>();", "modifier": "@ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinTable(\n        name = \"commands_cluster_criteria\",\n        joinColumns = {\n            @JoinColumn(name = \"command_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        },\n        inverseJoinColumns = {\n            @JoinColumn(name = \"criterion_id\", referencedColumnName = \"id\", nullable = false, updatable = false)\n        }\n    )\n    @OrderColumn(name = \"priority_order\", nullable = false)\n    private", "type": "List<CriterionEntity>", "declarator": "clusterCriteria = new ArrayList<>()", "var_name": "clusterCriteria"}], "methods": [{"identifier": "CommandEntity", "parameters": "()", "modifiers": "public", "return": "", "signature": " CommandEntity()", "full_signature": "public  CommandEntity()", "class_method_signature": "CommandEntity.CommandEntity()", "testcase": false, "constructor": true}, {"identifier": "setExecutable", "parameters": "(@NotEmpty final List<@NotBlank @Size(max = 1024) String> executable)", "modifiers": "public", "return": "void", "signature": "void setExecutable(@NotEmpty final List<@NotBlank @Size(max = 1024) String> executable)", "full_signature": "public void setExecutable(@NotEmpty final List<@NotBlank @Size(max = 1024) String> executable)", "class_method_signature": "CommandEntity.setExecutable(@NotEmpty final List<@NotBlank @Size(max = 1024) String> executable)", "testcase": false, "constructor": false}, {"identifier": "setConfigs", "parameters": "(@Nullable final Set<FileEntity> configs)", "modifiers": "public", "return": "void", "signature": "void setConfigs(@Nullable final Set<FileEntity> configs)", "full_signature": "public void setConfigs(@Nullable final Set<FileEntity> configs)", "class_method_signature": "CommandEntity.setConfigs(@Nullable final Set<FileEntity> configs)", "testcase": false, "constructor": false}, {"identifier": "setDependencies", "parameters": "(@Nullable final Set<FileEntity> dependencies)", "modifiers": "public", "return": "void", "signature": "void setDependencies(@Nullable final Set<FileEntity> dependencies)", "full_signature": "public void setDependencies(@Nullable final Set<FileEntity> dependencies)", "class_method_signature": "CommandEntity.setDependencies(@Nullable final Set<FileEntity> dependencies)", "testcase": false, "constructor": false}, {"identifier": "setTags", "parameters": "(@Nullable final Set<TagEntity> tags)", "modifiers": "public", "return": "void", "signature": "void setTags(@Nullable final Set<TagEntity> tags)", "full_signature": "public void setTags(@Nullable final Set<TagEntity> tags)", "class_method_signature": "CommandEntity.setTags(@Nullable final Set<TagEntity> tags)", "testcase": false, "constructor": false}, {"identifier": "getMemory", "parameters": "()", "modifiers": "public", "return": "Optional<Integer>", "signature": "Optional<Integer> getMemory()", "full_signature": "public Optional<Integer> getMemory()", "class_method_signature": "CommandEntity.getMemory()", "testcase": false, "constructor": false}, {"identifier": "getLauncherExt", "parameters": "()", "modifiers": "public", "return": "Optional<JsonNode>", "signature": "Optional<JsonNode> getLauncherExt()", "full_signature": "public Optional<JsonNode> getLauncherExt()", "class_method_signature": "CommandEntity.getLauncherExt()", "testcase": false, "constructor": false}, {"identifier": "setLauncherExt", "parameters": "(@Nullable final JsonNode launcherExt)", "modifiers": "public", "return": "void", "signature": "void setLauncherExt(@Nullable final JsonNode launcherExt)", "full_signature": "public void setLauncherExt(@Nullable final JsonNode launcherExt)", "class_method_signature": "CommandEntity.setLauncherExt(@Nullable final JsonNode launcherExt)", "testcase": false, "constructor": false}, {"identifier": "setApplications", "parameters": "(\n        @Nullable final List<ApplicationEntity> applications\n    )", "modifiers": "public", "return": "void", "signature": "void setApplications(\n        @Nullable final List<ApplicationEntity> applications\n    )", "full_signature": "public void setApplications(\n        @Nullable final List<ApplicationEntity> applications\n    )", "class_method_signature": "CommandEntity.setApplications(\n        @Nullable final List<ApplicationEntity> applications\n    )", "testcase": false, "constructor": false}, {"identifier": "addApplication", "parameters": "(@NotNull final ApplicationEntity application)", "modifiers": "public", "return": "void", "signature": "void addApplication(@NotNull final ApplicationEntity application)", "full_signature": "public void addApplication(@NotNull final ApplicationEntity application)", "class_method_signature": "CommandEntity.addApplication(@NotNull final ApplicationEntity application)", "testcase": false, "constructor": false}, {"identifier": "removeApplication", "parameters": "(@NotNull final ApplicationEntity application)", "modifiers": "public", "return": "void", "signature": "void removeApplication(@NotNull final ApplicationEntity application)", "full_signature": "public void removeApplication(@NotNull final ApplicationEntity application)", "class_method_signature": "CommandEntity.removeApplication(@NotNull final ApplicationEntity application)", "testcase": false, "constructor": false}, {"identifier": "setClusterCriteria", "parameters": "(@Nullable final List<CriterionEntity> clusterCriteria)", "modifiers": "public", "return": "void", "signature": "void setClusterCriteria(@Nullable final List<CriterionEntity> clusterCriteria)", "full_signature": "public void setClusterCriteria(@Nullable final List<CriterionEntity> clusterCriteria)", "class_method_signature": "CommandEntity.setClusterCriteria(@Nullable final List<CriterionEntity> clusterCriteria)", "testcase": false, "constructor": false}, {"identifier": "addClusterCriterion", "parameters": "(final CriterionEntity criterion)", "modifiers": "public", "return": "void", "signature": "void addClusterCriterion(final CriterionEntity criterion)", "full_signature": "public void addClusterCriterion(final CriterionEntity criterion)", "class_method_signature": "CommandEntity.addClusterCriterion(final CriterionEntity criterion)", "testcase": false, "constructor": false}, {"identifier": "addClusterCriterion", "parameters": "(final CriterionEntity criterion, final int priority)", "modifiers": "public", "return": "void", "signature": "void addClusterCriterion(final CriterionEntity criterion, final int priority)", "full_signature": "public void addClusterCriterion(final CriterionEntity criterion, final int priority)", "class_method_signature": "CommandEntity.addClusterCriterion(final CriterionEntity criterion, final int priority)", "testcase": false, "constructor": false}, {"identifier": "removeClusterCriterion", "parameters": "(final int priority)", "modifiers": "public", "return": "CriterionEntity", "signature": "CriterionEntity removeClusterCriterion(final int priority)", "full_signature": "public CriterionEntity removeClusterCriterion(final int priority)", "class_method_signature": "CommandEntity.removeClusterCriterion(final int priority)", "testcase": false, "constructor": false}, {"identifier": "equals", "parameters": "(final Object o)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean equals(final Object o)", "full_signature": "@Override public boolean equals(final Object o)", "class_method_signature": "CommandEntity.equals(final Object o)", "testcase": false, "constructor": false}, {"identifier": "hashCode", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int hashCode()", "full_signature": "@Override public int hashCode()", "class_method_signature": "CommandEntity.hashCode()", "testcase": false, "constructor": false}], "file": "genie-web/src/main/java/com/netflix/genie/web/data/services/impl/jpa/entities/CommandEntity.java"}, "focal_method": {"identifier": "getMemory", "parameters": "()", "modifiers": "public", "return": "Optional<Integer>", "body": "public Optional<Integer> getMemory() {\n        return Optional.ofNullable(this.memory);\n    }", "signature": "Optional<Integer> getMemory()", "full_signature": "public Optional<Integer> getMemory()", "class_method_signature": "CommandEntity.getMemory()", "testcase": false, "constructor": false, "invocations": ["ofNullable"]}, "repository": {"repo_id": 10828921, "url": "https://github.com/Netflix/genie", "stars": 1273, "created": "6/20/2013 8:35:56 PM +00:00", "updates": "2020-01-27T17:49:42+00:00", "fork": "False", "license": "licensed"}}