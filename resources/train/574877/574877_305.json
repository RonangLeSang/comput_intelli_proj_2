{"test_class": {"identifier": "EnvironmentVariableCsmConfigurationProviderTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final EnvironmentVariableHelper environmentVariableHelper =\n        new EnvironmentVariableHelper();", "modifier": "private static final", "type": "EnvironmentVariableHelper", "declarator": "environmentVariableHelper =\n        new EnvironmentVariableHelper()", "var_name": "environmentVariableHelper"}, {"original_string": "private final EnvironmentVariableCsmConfigurationProvider provider =\n        new EnvironmentVariableCsmConfigurationProvider();", "modifier": "private final", "type": "EnvironmentVariableCsmConfigurationProvider", "declarator": "provider =\n        new EnvironmentVariableCsmConfigurationProvider()", "var_name": "provider"}], "file": "aws-java-sdk-core/src/test/java/com/amazonaws/monitoring/EnvironmentVariableCsmConfigurationProviderTest.java"}, "test_case": {"identifier": "optionalValuesNotSet_shouldUseDefaultValues", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void optionalValuesNotSet_shouldUseDefaultValues() {\n        environmentVariableHelper.reset();\n        environmentVariableHelper.set(AWS_CSM_ENABLED_ENV_VAR, \"true\");\n\n        CsmConfiguration configuration = provider.getConfiguration();\n        assertEquals(DEFAULT_AWS_CSM_PORT, configuration.getPort());\n        assertEquals(DEFAULT_AWS_CSM_HOST, configuration.getHost());\n        assertEquals(DEFAULT_AWS_CSM_CLIENT_ID, configuration.getClientId());\n    }", "signature": "void optionalValuesNotSet_shouldUseDefaultValues()", "full_signature": "@Test public void optionalValuesNotSet_shouldUseDefaultValues()", "class_method_signature": "EnvironmentVariableCsmConfigurationProviderTest.optionalValuesNotSet_shouldUseDefaultValues()", "testcase": true, "constructor": false, "invocations": ["reset", "set", "getConfiguration", "assertEquals", "getPort", "assertEquals", "getHost", "assertEquals", "getClientId"]}, "focal_class": {"identifier": "EnvironmentVariableCsmConfigurationProvider", "superclass": "", "interfaces": "implements CsmConfigurationProvider", "fields": [], "methods": [{"identifier": "getConfiguration", "parameters": "()", "modifiers": "@Override public", "return": "CsmConfiguration", "signature": "CsmConfiguration getConfiguration()", "full_signature": "@Override public CsmConfiguration getConfiguration()", "class_method_signature": "EnvironmentVariableCsmConfigurationProvider.getConfiguration()", "testcase": false, "constructor": false}], "file": "aws-java-sdk-core/src/main/java/com/amazonaws/monitoring/EnvironmentVariableCsmConfigurationProvider.java"}, "focal_method": {"identifier": "getConfiguration", "parameters": "()", "modifiers": "@Override public", "return": "CsmConfiguration", "body": "@Override\n    public CsmConfiguration getConfiguration() {\n        String enabled = System.getenv(AWS_CSM_ENABLED_ENV_VAR);\n\n        if (enabled == null) {\n            throw new SdkClientException(\"Unable to load Client Side Monitoring configurations from\"\n                                         + \" environment variables!\");\n        }\n\n        String host = System.getenv(AWS_CSM_HOST_ENV_VAR);\n        host = host == null ? DEFAULT_AWS_CSM_HOST : host;\n        String port = System.getenv(AWS_CSM_PORT_ENV_VAR);\n        String clientId = System.getenv(AWS_CSM_CLIENT_ID_ENV_VAR);\n        clientId = clientId == null ? DEFAULT_AWS_CSM_CLIENT_ID : clientId;\n\n        try {\n            int portNumber = port == null ? DEFAULT_AWS_CSM_PORT : Integer.parseInt(port);\n            return CsmConfiguration.builder()\n                    .withEnabled(Boolean.parseBoolean(enabled))\n                    .withHost(host)\n                    .withPort(portNumber)\n                    .withClientId(clientId)\n                    .build();\n        } catch (Exception e) {\n            throw new SdkClientException(\"Unable to load Client Side Monitoring configurations from\"\n                    + \" environment variables!\", e);\n        }\n    }", "signature": "CsmConfiguration getConfiguration()", "full_signature": "@Override public CsmConfiguration getConfiguration()", "class_method_signature": "EnvironmentVariableCsmConfigurationProvider.getConfiguration()", "testcase": false, "constructor": false, "invocations": ["getenv", "getenv", "getenv", "getenv", "parseInt", "build", "withClientId", "withPort", "withHost", "withEnabled", "builder", "parseBoolean"]}, "repository": {"repo_id": 574877, "url": "https://github.com/aws/aws-sdk-java", "stars": 3141, "created": "3/22/2010 11:34:58 PM +00:00", "updates": "2020-01-25T22:06:42+00:00", "fork": "False", "license": "licensed"}}