{"test_class": {"identifier": "SystemPropertyTlsKeyManagersProviderTest", "superclass": "extends ClientTlsAuthTestBase", "interfaces": "", "fields": [{"original_string": "private static final String BAD_CERT = \"/resources/client-tls-auth/bad-cert.p12\";", "modifier": "private static final", "type": "String", "declarator": "BAD_CERT = \"/resources/client-tls-auth/bad-cert.p12\"", "var_name": "BAD_CERT"}, {"original_string": "private static final String KEY_STORE_PROPERTY = \"javax.net.ssl.keyStore\";", "modifier": "private static final", "type": "String", "declarator": "KEY_STORE_PROPERTY = \"javax.net.ssl.keyStore\"", "var_name": "KEY_STORE_PROPERTY"}, {"original_string": "private static final String KEY_STORE_PASSWORD_PROPERTY = \"javax.net.ssl.keyStorePassword\";", "modifier": "private static final", "type": "String", "declarator": "KEY_STORE_PASSWORD_PROPERTY = \"javax.net.ssl.keyStorePassword\"", "var_name": "KEY_STORE_PASSWORD_PROPERTY"}, {"original_string": "private static final String KEY_STORE_TYPE_PROPERTY = \"javax.net.ssl.keyStoreType\";", "modifier": "private static final", "type": "String", "declarator": "KEY_STORE_TYPE_PROPERTY = \"javax.net.ssl.keyStoreType\"", "var_name": "KEY_STORE_TYPE_PROPERTY"}, {"original_string": "private static File badCertPath;", "modifier": "private static", "type": "File", "declarator": "badCertPath", "var_name": "badCertPath"}, {"original_string": "private final SystemPropertyTlsKeyManagersProvider provider = new SystemPropertyTlsKeyManagersProvider();", "modifier": "private final", "type": "SystemPropertyTlsKeyManagersProvider", "declarator": "provider = new SystemPropertyTlsKeyManagersProvider()", "var_name": "provider"}], "file": "aws-java-sdk-core/src/test/java/com/amazonaws/http/SystemPropertyTlsKeyManagersProviderTest.java"}, "test_case": {"identifier": "invalidKeyStoreType_returnsNull", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void invalidKeyStoreType_returnsNull() {\n        System.setProperty(KEY_STORE_PROPERTY, clientKeyStore.getAbsolutePath());\n        System.setProperty(KEY_STORE_TYPE_PROPERTY, \"some-unknown-type\");\n        System.setProperty(KEY_STORE_PASSWORD_PROPERTY, \"password\");\n\n        assertThat(provider.getKeyManagers(), nullValue());\n    }", "signature": "void invalidKeyStoreType_returnsNull()", "full_signature": "@Test public void invalidKeyStoreType_returnsNull()", "class_method_signature": "SystemPropertyTlsKeyManagersProviderTest.invalidKeyStoreType_returnsNull()", "testcase": true, "constructor": false, "invocations": ["setProperty", "getAbsolutePath", "setProperty", "setProperty", "assertThat", "getKeyManagers", "nullValue"]}, "focal_class": {"identifier": "SystemPropertyTlsKeyManagersProvider", "superclass": "extends AbstractFileTlsKeyManagersProvider", "interfaces": "", "fields": [{"original_string": "private static final Log log = LogFactory.getLog(SystemPropertyTlsKeyManagersProvider.class);", "modifier": "private static final", "type": "Log", "declarator": "log = LogFactory.getLog(SystemPropertyTlsKeyManagersProvider.class)", "var_name": "log"}, {"original_string": "private static final String KEY_STORE_PROPERTY = \"javax.net.ssl.keyStore\";", "modifier": "private static final", "type": "String", "declarator": "KEY_STORE_PROPERTY = \"javax.net.ssl.keyStore\"", "var_name": "KEY_STORE_PROPERTY"}, {"original_string": "private static final String KEY_STORE_PASSWORD_PROPERTY = \"javax.net.ssl.keyStorePassword\";", "modifier": "private static final", "type": "String", "declarator": "KEY_STORE_PASSWORD_PROPERTY = \"javax.net.ssl.keyStorePassword\"", "var_name": "KEY_STORE_PASSWORD_PROPERTY"}, {"original_string": "private static final String KEY_STORE_TYPE_PROPERTY = \"javax.net.ssl.keyStoreType\";", "modifier": "private static final", "type": "String", "declarator": "KEY_STORE_TYPE_PROPERTY = \"javax.net.ssl.keyStoreType\"", "var_name": "KEY_STORE_TYPE_PROPERTY"}], "methods": [{"identifier": "getKeyManagers", "parameters": "()", "modifiers": "@Override public", "return": "KeyManager[]", "signature": "KeyManager[] getKeyManagers()", "full_signature": "@Override public KeyManager[] getKeyManagers()", "class_method_signature": "SystemPropertyTlsKeyManagersProvider.getKeyManagers()", "testcase": false, "constructor": false}, {"identifier": "getKeyStore", "parameters": "()", "modifiers": "private static", "return": "String", "signature": "String getKeyStore()", "full_signature": "private static String getKeyStore()", "class_method_signature": "SystemPropertyTlsKeyManagersProvider.getKeyStore()", "testcase": false, "constructor": false}, {"identifier": "getKeyStoreType", "parameters": "()", "modifiers": "private static", "return": "String", "signature": "String getKeyStoreType()", "full_signature": "private static String getKeyStoreType()", "class_method_signature": "SystemPropertyTlsKeyManagersProvider.getKeyStoreType()", "testcase": false, "constructor": false}, {"identifier": "getKeyStorePassword", "parameters": "()", "modifiers": "private static", "return": "String", "signature": "String getKeyStorePassword()", "full_signature": "private static String getKeyStorePassword()", "class_method_signature": "SystemPropertyTlsKeyManagersProvider.getKeyStorePassword()", "testcase": false, "constructor": false}], "file": "aws-java-sdk-core/src/main/java/com/amazonaws/http/SystemPropertyTlsKeyManagersProvider.java"}, "focal_method": {"identifier": "getKeyManagers", "parameters": "()", "modifiers": "@Override public", "return": "KeyManager[]", "body": "@Override\n    public KeyManager[] getKeyManagers() {\n        String keyStorePath = getKeyStore();\n\n        if (keyStorePath == null) {\n            return null;\n        }\n\n        String type = getKeyStoreType();\n        String password = getKeyStorePassword();\n        char[] passwordChars = null;\n        if (password != null) {\n            passwordChars = password.toCharArray();\n        }\n\n        try {\n            return createKeyManagers(new File(keyStorePath), type, passwordChars);\n        } catch (Exception e) {\n            log.warn(\"Unable to load KeyManager from system properties\", e);\n            return null;\n        }\n    }", "signature": "KeyManager[] getKeyManagers()", "full_signature": "@Override public KeyManager[] getKeyManagers()", "class_method_signature": "SystemPropertyTlsKeyManagersProvider.getKeyManagers()", "testcase": false, "constructor": false, "invocations": ["getKeyStore", "getKeyStoreType", "getKeyStorePassword", "toCharArray", "createKeyManagers", "warn"]}, "repository": {"repo_id": 574877, "url": "https://github.com/aws/aws-sdk-java", "stars": 3141, "created": "3/22/2010 11:34:58 PM +00:00", "updates": "2020-01-25T22:06:42+00:00", "fork": "False", "license": "licensed"}}