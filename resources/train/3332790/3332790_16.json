{"test_class": {"identifier": "BosonWriterTest", "superclass": "", "interfaces": "", "fields": [], "file": "boson/src/test/java/io/higgs/boson/serialization/v1/BosonWriterTest.java"}, "test_case": {"identifier": "testWriteReadMap", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testWriteReadMap() throws Exception {\n        String intStr = \"int\";\n        Map<String, Map<String, Object>> map = new HashMap<>();\n        Map intMap = new HashMap<>();\n        Map longMap = new HashMap<>();\n        Map stringMap = new HashMap<>();\n        //\n        map.put(\"int\", intMap);\n        map.put(\"long\", longMap);\n        map.put(\"string\", stringMap);\n        //\n        intMap.put(\"a\", 1);\n        intMap.put(\"b\", 2);\n        longMap.put(\"a\", 1L);\n        longMap.put(\"b\", 2L);\n        longMap.put(\"c\", 3L);\n        stringMap.put(\"a\", \"a\");\n        stringMap.put(\"b\", \"ab\");\n        stringMap.put(\"c\", \"abc\");\n        BosonMessage msg = new BosonMessage(new Object[]{ map }, \"test\");\n        BosonWriter writer = new BosonWriter();\n        BosonReader r = new BosonReader();\n        BosonMessage m = new BosonMessage();\n        ByteBuf buf = writer.serialize(msg);\n        r.deSerialize(buf, m);\n        assertEquals(map, m.arguments[0]);\n    }", "signature": "void testWriteReadMap()", "full_signature": "@Test public void testWriteReadMap()", "class_method_signature": "BosonWriterTest.testWriteReadMap()", "testcase": true, "constructor": false, "invocations": ["put", "put", "put", "put", "put", "put", "put", "put", "put", "put", "put", "serialize", "deSerialize", "assertEquals"]}, "focal_class": {"identifier": "BosonWriter", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final int MAX_RECURSION_DEPTH = 10;", "modifier": "public static final", "type": "int", "declarator": "MAX_RECURSION_DEPTH = 10", "var_name": "MAX_RECURSION_DEPTH"}, {"original_string": "public static final Charset utf8 = Charset.forName(\"utf-8\");", "modifier": "public static final", "type": "Charset", "declarator": "utf8 = Charset.forName(\"utf-8\")", "var_name": "utf8"}, {"original_string": "protected final HashMap<Object, Integer> references = new HashMap<>();", "modifier": "protected final", "type": "HashMap<Object, Integer>", "declarator": "references = new HashMap<>()", "var_name": "references"}, {"original_string": "protected final AtomicInteger reference = new AtomicInteger();", "modifier": "protected final", "type": "AtomicInteger", "declarator": "reference = new AtomicInteger()", "var_name": "reference"}, {"original_string": "protected final Set<ReadMutator> mutators;", "modifier": "protected final", "type": "Set<ReadMutator>", "declarator": "mutators", "var_name": "mutators"}, {"original_string": "private Logger log = LoggerFactory.getLogger(getClass());", "modifier": "private", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(getClass())", "var_name": "log"}], "methods": [{"identifier": "BosonWriter", "parameters": "()", "modifiers": "public", "return": "", "signature": " BosonWriter()", "full_signature": "public  BosonWriter()", "class_method_signature": "BosonWriter.BosonWriter()", "testcase": false, "constructor": true}, {"identifier": "BosonWriter", "parameters": "(Set<ReadMutator> mutators)", "modifiers": "public", "return": "", "signature": " BosonWriter(Set<ReadMutator> mutators)", "full_signature": "public  BosonWriter(Set<ReadMutator> mutators)", "class_method_signature": "BosonWriter.BosonWriter(Set<ReadMutator> mutators)", "testcase": false, "constructor": true}, {"identifier": "serialize", "parameters": "(Object msg)", "modifiers": "public", "return": "ByteBuf", "signature": "ByteBuf serialize(Object msg)", "full_signature": "public ByteBuf serialize(Object msg)", "class_method_signature": "BosonWriter.serialize(Object msg)", "testcase": false, "constructor": false}, {"identifier": "serialize", "parameters": "(BosonMessage msg)", "modifiers": "public", "return": "ByteBuf", "signature": "ByteBuf serialize(BosonMessage msg)", "full_signature": "public ByteBuf serialize(BosonMessage msg)", "class_method_signature": "BosonWriter.serialize(BosonMessage msg)", "testcase": false, "constructor": false}, {"identifier": "serializeResponse", "parameters": "(ByteBuf buffer, BosonMessage msg)", "modifiers": "public", "return": "void", "signature": "void serializeResponse(ByteBuf buffer, BosonMessage msg)", "full_signature": "public void serializeResponse(ByteBuf buffer, BosonMessage msg)", "class_method_signature": "BosonWriter.serializeResponse(ByteBuf buffer, BosonMessage msg)", "testcase": false, "constructor": false}, {"identifier": "serializeRequest", "parameters": "(ByteBuf buffer, BosonMessage msg)", "modifiers": "public", "return": "void", "signature": "void serializeRequest(ByteBuf buffer, BosonMessage msg)", "full_signature": "public void serializeRequest(ByteBuf buffer, BosonMessage msg)", "class_method_signature": "BosonWriter.serializeRequest(ByteBuf buffer, BosonMessage msg)", "testcase": false, "constructor": false}, {"identifier": "writeByte", "parameters": "(ByteBuf buffer, byte b)", "modifiers": "public", "return": "void", "signature": "void writeByte(ByteBuf buffer, byte b)", "full_signature": "public void writeByte(ByteBuf buffer, byte b)", "class_method_signature": "BosonWriter.writeByte(ByteBuf buffer, byte b)", "testcase": false, "constructor": false}, {"identifier": "writeNull", "parameters": "(ByteBuf buffer)", "modifiers": "public", "return": "void", "signature": "void writeNull(ByteBuf buffer)", "full_signature": "public void writeNull(ByteBuf buffer)", "class_method_signature": "BosonWriter.writeNull(ByteBuf buffer)", "testcase": false, "constructor": false}, {"identifier": "writeShort", "parameters": "(ByteBuf buffer, short s)", "modifiers": "public", "return": "void", "signature": "void writeShort(ByteBuf buffer, short s)", "full_signature": "public void writeShort(ByteBuf buffer, short s)", "class_method_signature": "BosonWriter.writeShort(ByteBuf buffer, short s)", "testcase": false, "constructor": false}, {"identifier": "writeInt", "parameters": "(ByteBuf buffer, int i)", "modifiers": "public", "return": "void", "signature": "void writeInt(ByteBuf buffer, int i)", "full_signature": "public void writeInt(ByteBuf buffer, int i)", "class_method_signature": "BosonWriter.writeInt(ByteBuf buffer, int i)", "testcase": false, "constructor": false}, {"identifier": "writeLong", "parameters": "(ByteBuf buffer, long l)", "modifiers": "public", "return": "void", "signature": "void writeLong(ByteBuf buffer, long l)", "full_signature": "public void writeLong(ByteBuf buffer, long l)", "class_method_signature": "BosonWriter.writeLong(ByteBuf buffer, long l)", "testcase": false, "constructor": false}, {"identifier": "writeFloat", "parameters": "(ByteBuf buffer, float f)", "modifiers": "public", "return": "void", "signature": "void writeFloat(ByteBuf buffer, float f)", "full_signature": "public void writeFloat(ByteBuf buffer, float f)", "class_method_signature": "BosonWriter.writeFloat(ByteBuf buffer, float f)", "testcase": false, "constructor": false}, {"identifier": "writeDouble", "parameters": "(ByteBuf buffer, double d)", "modifiers": "public", "return": "void", "signature": "void writeDouble(ByteBuf buffer, double d)", "full_signature": "public void writeDouble(ByteBuf buffer, double d)", "class_method_signature": "BosonWriter.writeDouble(ByteBuf buffer, double d)", "testcase": false, "constructor": false}, {"identifier": "writeBoolean", "parameters": "(ByteBuf buffer, boolean b)", "modifiers": "public", "return": "void", "signature": "void writeBoolean(ByteBuf buffer, boolean b)", "full_signature": "public void writeBoolean(ByteBuf buffer, boolean b)", "class_method_signature": "BosonWriter.writeBoolean(ByteBuf buffer, boolean b)", "testcase": false, "constructor": false}, {"identifier": "writeChar", "parameters": "(ByteBuf buffer, char c)", "modifiers": "public", "return": "void", "signature": "void writeChar(ByteBuf buffer, char c)", "full_signature": "public void writeChar(ByteBuf buffer, char c)", "class_method_signature": "BosonWriter.writeChar(ByteBuf buffer, char c)", "testcase": false, "constructor": false}, {"identifier": "writeString", "parameters": "(ByteBuf buffer, String s)", "modifiers": "public", "return": "void", "signature": "void writeString(ByteBuf buffer, String s)", "full_signature": "public void writeString(ByteBuf buffer, String s)", "class_method_signature": "BosonWriter.writeString(ByteBuf buffer, String s)", "testcase": false, "constructor": false}, {"identifier": "writeEnum", "parameters": "(ByteBuf buf, Enum param)", "modifiers": "public", "return": "void", "signature": "void writeEnum(ByteBuf buf, Enum param)", "full_signature": "public void writeEnum(ByteBuf buf, Enum param)", "class_method_signature": "BosonWriter.writeEnum(ByteBuf buf, Enum param)", "testcase": false, "constructor": false}, {"identifier": "writeList", "parameters": "(ByteBuf buffer, List<Object> value)", "modifiers": "public", "return": "void", "signature": "void writeList(ByteBuf buffer, List<Object> value)", "full_signature": "public void writeList(ByteBuf buffer, List<Object> value)", "class_method_signature": "BosonWriter.writeList(ByteBuf buffer, List<Object> value)", "testcase": false, "constructor": false}, {"identifier": "writeSet", "parameters": "(ByteBuf buffer, Set<Object> value)", "modifiers": "public", "return": "void", "signature": "void writeSet(ByteBuf buffer, Set<Object> value)", "full_signature": "public void writeSet(ByteBuf buffer, Set<Object> value)", "class_method_signature": "BosonWriter.writeSet(ByteBuf buffer, Set<Object> value)", "testcase": false, "constructor": false}, {"identifier": "writeArray", "parameters": "(ByteBuf buffer, Object[] value)", "modifiers": "public", "return": "void", "signature": "void writeArray(ByteBuf buffer, Object[] value)", "full_signature": "public void writeArray(ByteBuf buffer, Object[] value)", "class_method_signature": "BosonWriter.writeArray(ByteBuf buffer, Object[] value)", "testcase": false, "constructor": false}, {"identifier": "writeMap", "parameters": "(ByteBuf buffer, Map<?, ?> value)", "modifiers": "public", "return": "void", "signature": "void writeMap(ByteBuf buffer, Map<?, ?> value)", "full_signature": "public void writeMap(ByteBuf buffer, Map<?, ?> value)", "class_method_signature": "BosonWriter.writeMap(ByteBuf buffer, Map<?, ?> value)", "testcase": false, "constructor": false}, {"identifier": "writePolo", "parameters": "(ByteBuf buffer, Object obj, int ref)", "modifiers": "public", "return": "void", "signature": "void writePolo(ByteBuf buffer, Object obj, int ref)", "full_signature": "public void writePolo(ByteBuf buffer, Object obj, int ref)", "class_method_signature": "BosonWriter.writePolo(ByteBuf buffer, Object obj, int ref)", "testcase": false, "constructor": false}, {"identifier": "writePoloFieldsViaMutator", "parameters": "(ReadMutator mutator, Class<?> klass, Object obj, Map<String, Object> data)", "modifiers": "private", "return": "void", "signature": "void writePoloFieldsViaMutator(ReadMutator mutator, Class<?> klass, Object obj, Map<String, Object> data)", "full_signature": "private void writePoloFieldsViaMutator(ReadMutator mutator, Class<?> klass, Object obj, Map<String, Object> data)", "class_method_signature": "BosonWriter.writePoloFieldsViaMutator(ReadMutator mutator, Class<?> klass, Object obj, Map<String, Object> data)", "testcase": false, "constructor": false}, {"identifier": "writePoloFieldsViaReflection", "parameters": "(Class<?> klass, Object obj, Map<String, Object> data)", "modifiers": "private", "return": "void", "signature": "void writePoloFieldsViaReflection(Class<?> klass, Object obj, Map<String, Object> data)", "full_signature": "private void writePoloFieldsViaReflection(Class<?> klass, Object obj, Map<String, Object> data)", "class_method_signature": "BosonWriter.writePoloFieldsViaReflection(Class<?> klass, Object obj, Map<String, Object> data)", "testcase": false, "constructor": false}, {"identifier": "validateAndWriteType", "parameters": "(ByteBuf buffer, Object param)", "modifiers": "public", "return": "void", "signature": "void validateAndWriteType(ByteBuf buffer, Object param)", "full_signature": "public void validateAndWriteType(ByteBuf buffer, Object param)", "class_method_signature": "BosonWriter.validateAndWriteType(ByteBuf buffer, Object param)", "testcase": false, "constructor": false}, {"identifier": "writeReference", "parameters": "(ByteBuf buffer, Integer ref)", "modifiers": "private", "return": "void", "signature": "void writeReference(ByteBuf buffer, Integer ref)", "full_signature": "private void writeReference(ByteBuf buffer, Integer ref)", "class_method_signature": "BosonWriter.writeReference(ByteBuf buffer, Integer ref)", "testcase": false, "constructor": false}], "file": "boson/src/main/java/io/higgs/boson/serialization/v1/BosonWriter.java"}, "focal_method": {"identifier": "serialize", "parameters": "(Object msg)", "modifiers": "public", "return": "ByteBuf", "body": "public ByteBuf serialize(Object msg) {\n        ByteBuf buffer = Unpooled.buffer();\n        validateAndWriteType(buffer, msg);\n        buffer.readerIndex(0);\n        return buffer;\n    }", "signature": "ByteBuf serialize(Object msg)", "full_signature": "public ByteBuf serialize(Object msg)", "class_method_signature": "BosonWriter.serialize(Object msg)", "testcase": false, "constructor": false, "invocations": ["buffer", "validateAndWriteType", "readerIndex"]}, "repository": {"repo_id": 3332790, "url": "https://github.com/zcourts/higgs", "language": "Java", "is_fork": false, "fork_count": 21, "stargazer_count": 74, "size": 7142, "license": "licensed"}}