{"test_class": {"identifier": "SnapshotTaskClientImplTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private SnapshotTaskClientImpl taskClient;", "modifier": "private", "type": "SnapshotTaskClientImpl", "declarator": "taskClient", "var_name": "taskClient"}, {"original_string": "private ContentStore contentStore;", "modifier": "private", "type": "ContentStore", "declarator": "contentStore", "var_name": "contentStore"}, {"original_string": "private String spaceId = \"space-id\";", "modifier": "private", "type": "String", "declarator": "spaceId = \"space-id\"", "var_name": "spaceId"}, {"original_string": "private String description = \"desc\";", "modifier": "private", "type": "String", "declarator": "description = \"desc\"", "var_name": "description"}, {"original_string": "private String userEmail = \"user-email\";", "modifier": "private", "type": "String", "declarator": "userEmail = \"user-email\"", "var_name": "userEmail"}, {"original_string": "private String snapshotId = \"snapshot-id\";", "modifier": "private", "type": "String", "declarator": "snapshotId = \"snapshot-id\"", "var_name": "snapshotId"}, {"original_string": "private SnapshotStatus snapshotStatus = SnapshotStatus.INITIALIZED;", "modifier": "private", "type": "SnapshotStatus", "declarator": "snapshotStatus = SnapshotStatus.INITIALIZED", "var_name": "snapshotStatus"}, {"original_string": "private Date snapshotDate = new Date(System.currentTimeMillis());", "modifier": "private", "type": "Date", "declarator": "snapshotDate = new Date(System.currentTimeMillis())", "var_name": "snapshotDate"}, {"original_string": "private String host = \"snapshot-host\";", "modifier": "private", "type": "String", "declarator": "host = \"snapshot-host\"", "var_name": "host"}, {"original_string": "private int port = 8080;", "modifier": "private", "type": "int", "declarator": "port = 8080", "var_name": "port"}, {"original_string": "private String storeId = \"0\";", "modifier": "private", "type": "String", "declarator": "storeId = \"0\"", "var_name": "storeId"}, {"original_string": "private String memberId = \"member-id\";", "modifier": "private", "type": "String", "declarator": "memberId = \"member-id\"", "var_name": "memberId"}, {"original_string": "private int contentExpirationDays = 42;", "modifier": "private", "type": "int", "declarator": "contentExpirationDays = 42", "var_name": "contentExpirationDays"}, {"original_string": "private String restoreId = \"restore-id\";", "modifier": "private", "type": "String", "declarator": "restoreId = \"restore-id\"", "var_name": "restoreId"}, {"original_string": "private RestoreStatus restoreStatus = RestoreStatus.RETRIEVING_FROM_STORAGE;", "modifier": "private", "type": "RestoreStatus", "declarator": "restoreStatus = RestoreStatus.RETRIEVING_FROM_STORAGE", "var_name": "restoreStatus"}, {"original_string": "private String contentId = \"content-id\";", "modifier": "private", "type": "String", "declarator": "contentId = \"content-id\"", "var_name": "contentId"}, {"original_string": "private String propName = \"prop-name\";", "modifier": "private", "type": "String", "declarator": "propName = \"prop-name\"", "var_name": "propName"}, {"original_string": "private String propValue = \"prop-value\";", "modifier": "private", "type": "String", "declarator": "propValue = \"prop-value\"", "var_name": "propValue"}, {"original_string": "private String completionResult = \"result\";", "modifier": "private", "type": "String", "declarator": "completionResult = \"result\"", "var_name": "completionResult"}, {"original_string": "private String historyValue = \"history\";", "modifier": "private", "type": "String", "declarator": "historyValue = \"history\"", "var_name": "historyValue"}, {"original_string": "private int daysToExpire = 30;", "modifier": "private", "type": "int", "declarator": "daysToExpire = 30", "var_name": "daysToExpire"}], "file": "storeclient/src/test/java/org/duracloud/client/task/SnapshotTaskClientImplTest.java"}, "test_case": {"identifier": "testCleanupSnapshot", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testCleanupSnapshot() throws Exception {\n        String taskName = SnapshotConstants.CLEANUP_SNAPSHOT_TASK_NAME;\n\n        CleanupSnapshotTaskResult preparedResult = new CleanupSnapshotTaskResult();\n        preparedResult.setContentExpirationDays(contentExpirationDays);\n\n        setupMock(taskName, preparedResult.serialize());\n        replayMocks();\n\n        CleanupSnapshotTaskResult result = taskClient.cleanupSnapshot(spaceId);\n        assertThat(contentExpirationDays,\n                   equalTo(result.getContentExpirationDays()));\n    }", "signature": "void testCleanupSnapshot()", "full_signature": "@Test public void testCleanupSnapshot()", "class_method_signature": "SnapshotTaskClientImplTest.testCleanupSnapshot()", "testcase": true, "constructor": false, "invocations": ["setContentExpirationDays", "setupMock", "serialize", "replayMocks", "cleanupSnapshot", "assertThat", "equalTo", "getContentExpirationDays"]}, "focal_class": {"identifier": "SnapshotTaskClientImpl", "superclass": "", "interfaces": "implements SnapshotTaskClient", "fields": [{"original_string": "private ContentStore contentStore;", "modifier": "private", "type": "ContentStore", "declarator": "contentStore", "var_name": "contentStore"}], "methods": [{"identifier": "SnapshotTaskClientImpl", "parameters": "(ContentStore contentStore)", "modifiers": "public", "return": "", "signature": " SnapshotTaskClientImpl(ContentStore contentStore)", "full_signature": "public  SnapshotTaskClientImpl(ContentStore contentStore)", "class_method_signature": "SnapshotTaskClientImpl.SnapshotTaskClientImpl(ContentStore contentStore)", "testcase": false, "constructor": true}, {"identifier": "createSnapshot", "parameters": "(String spaceId,\n                                                   String description,\n                                                   String userEmail)", "modifiers": "@Override public", "return": "CreateSnapshotTaskResult", "signature": "CreateSnapshotTaskResult createSnapshot(String spaceId,\n                                                   String description,\n                                                   String userEmail)", "full_signature": "@Override public CreateSnapshotTaskResult createSnapshot(String spaceId,\n                                                   String description,\n                                                   String userEmail)", "class_method_signature": "SnapshotTaskClientImpl.createSnapshot(String spaceId,\n                                                   String description,\n                                                   String userEmail)", "testcase": false, "constructor": false}, {"identifier": "getSnapshot", "parameters": "(String snapshotId)", "modifiers": "@Override public", "return": "GetSnapshotTaskResult", "signature": "GetSnapshotTaskResult getSnapshot(String snapshotId)", "full_signature": "@Override public GetSnapshotTaskResult getSnapshot(String snapshotId)", "class_method_signature": "SnapshotTaskClientImpl.getSnapshot(String snapshotId)", "testcase": false, "constructor": false}, {"identifier": "cleanupSnapshot", "parameters": "(String spaceId)", "modifiers": "@Override public", "return": "CleanupSnapshotTaskResult", "signature": "CleanupSnapshotTaskResult cleanupSnapshot(String spaceId)", "full_signature": "@Override public CleanupSnapshotTaskResult cleanupSnapshot(String spaceId)", "class_method_signature": "SnapshotTaskClientImpl.cleanupSnapshot(String spaceId)", "testcase": false, "constructor": false}, {"identifier": "completeSnapshot", "parameters": "(String spaceId)", "modifiers": "@Override public", "return": "CompleteSnapshotTaskResult", "signature": "CompleteSnapshotTaskResult completeSnapshot(String spaceId)", "full_signature": "@Override public CompleteSnapshotTaskResult completeSnapshot(String spaceId)", "class_method_signature": "SnapshotTaskClientImpl.completeSnapshot(String spaceId)", "testcase": false, "constructor": false}, {"identifier": "getSnapshots", "parameters": "()", "modifiers": "@Override public", "return": "GetSnapshotListTaskResult", "signature": "GetSnapshotListTaskResult getSnapshots()", "full_signature": "@Override public GetSnapshotListTaskResult getSnapshots()", "class_method_signature": "SnapshotTaskClientImpl.getSnapshots()", "testcase": false, "constructor": false}, {"identifier": "getSnapshotContents", "parameters": "(String snapshotId,\n                                                             int pageNumber,\n                                                             int pageSize,\n                                                             String prefix)", "modifiers": "@Override public", "return": "GetSnapshotContentsTaskResult", "signature": "GetSnapshotContentsTaskResult getSnapshotContents(String snapshotId,\n                                                             int pageNumber,\n                                                             int pageSize,\n                                                             String prefix)", "full_signature": "@Override public GetSnapshotContentsTaskResult getSnapshotContents(String snapshotId,\n                                                             int pageNumber,\n                                                             int pageSize,\n                                                             String prefix)", "class_method_signature": "SnapshotTaskClientImpl.getSnapshotContents(String snapshotId,\n                                                             int pageNumber,\n                                                             int pageSize,\n                                                             String prefix)", "testcase": false, "constructor": false}, {"identifier": "getSnapshotHistory", "parameters": "(String snapshotId,\n                                                           int pageNumber,\n                                                           int pageSize)", "modifiers": "@Override public", "return": "GetSnapshotHistoryTaskResult", "signature": "GetSnapshotHistoryTaskResult getSnapshotHistory(String snapshotId,\n                                                           int pageNumber,\n                                                           int pageSize)", "full_signature": "@Override public GetSnapshotHistoryTaskResult getSnapshotHistory(String snapshotId,\n                                                           int pageNumber,\n                                                           int pageSize)", "class_method_signature": "SnapshotTaskClientImpl.getSnapshotHistory(String snapshotId,\n                                                           int pageNumber,\n                                                           int pageSize)", "testcase": false, "constructor": false}, {"identifier": "restoreSnapshot", "parameters": "(String snapshotId,\n                                                     String userEmail)", "modifiers": "@Override public", "return": "RestoreSnapshotTaskResult", "signature": "RestoreSnapshotTaskResult restoreSnapshot(String snapshotId,\n                                                     String userEmail)", "full_signature": "@Override public RestoreSnapshotTaskResult restoreSnapshot(String snapshotId,\n                                                     String userEmail)", "class_method_signature": "SnapshotTaskClientImpl.restoreSnapshot(String snapshotId,\n                                                     String userEmail)", "testcase": false, "constructor": false}, {"identifier": "requestRestoreSnapshot", "parameters": "(String snapshotId,\n                                                                   String userEmail)", "modifiers": "@Override public", "return": "RequestRestoreSnapshotTaskResult", "signature": "RequestRestoreSnapshotTaskResult requestRestoreSnapshot(String snapshotId,\n                                                                   String userEmail)", "full_signature": "@Override public RequestRestoreSnapshotTaskResult requestRestoreSnapshot(String snapshotId,\n                                                                   String userEmail)", "class_method_signature": "SnapshotTaskClientImpl.requestRestoreSnapshot(String snapshotId,\n                                                                   String userEmail)", "testcase": false, "constructor": false}, {"identifier": "completeRestore", "parameters": "(String spaceId,\n                                                     int daysToExpire)", "modifiers": "public", "return": "CompleteRestoreTaskResult", "signature": "CompleteRestoreTaskResult completeRestore(String spaceId,\n                                                     int daysToExpire)", "full_signature": "public CompleteRestoreTaskResult completeRestore(String spaceId,\n                                                     int daysToExpire)", "class_method_signature": "SnapshotTaskClientImpl.completeRestore(String spaceId,\n                                                     int daysToExpire)", "testcase": false, "constructor": false}, {"identifier": "getRestore", "parameters": "(String restoreId)", "modifiers": "@Override public", "return": "GetRestoreTaskResult", "signature": "GetRestoreTaskResult getRestore(String restoreId)", "full_signature": "@Override public GetRestoreTaskResult getRestore(String restoreId)", "class_method_signature": "SnapshotTaskClientImpl.getRestore(String restoreId)", "testcase": false, "constructor": false}, {"identifier": "getRestoreBySnapshot", "parameters": "(String snapshotId)", "modifiers": "@Override public", "return": "GetRestoreTaskResult", "signature": "GetRestoreTaskResult getRestoreBySnapshot(String snapshotId)", "full_signature": "@Override public GetRestoreTaskResult getRestoreBySnapshot(String snapshotId)", "class_method_signature": "SnapshotTaskClientImpl.getRestoreBySnapshot(String snapshotId)", "testcase": false, "constructor": false}], "file": "storeclient/src/main/java/org/duracloud/client/task/SnapshotTaskClientImpl.java"}, "focal_method": {"identifier": "cleanupSnapshot", "parameters": "(String spaceId)", "modifiers": "@Override public", "return": "CleanupSnapshotTaskResult", "body": "@Override\n    public CleanupSnapshotTaskResult cleanupSnapshot(String spaceId)\n        throws ContentStoreException {\n        CleanupSnapshotTaskParameters taskParams =\n            new CleanupSnapshotTaskParameters();\n        taskParams.setSpaceId(spaceId);\n\n        String taskResult =\n            contentStore.performTask(SnapshotConstants.CLEANUP_SNAPSHOT_TASK_NAME,\n                                     taskParams.serialize());\n\n        return CleanupSnapshotTaskResult.deserialize(taskResult);\n    }", "signature": "CleanupSnapshotTaskResult cleanupSnapshot(String spaceId)", "full_signature": "@Override public CleanupSnapshotTaskResult cleanupSnapshot(String spaceId)", "class_method_signature": "SnapshotTaskClientImpl.cleanupSnapshot(String spaceId)", "testcase": false, "constructor": false, "invocations": ["setSpaceId", "performTask", "serialize", "deserialize"]}, "repository": {"repo_id": 3337772, "url": "https://github.com/duracloud/duracloud", "language": "Java", "is_fork": false, "fork_count": 15, "stargazer_count": 7, "size": 76851, "license": "licensed"}}