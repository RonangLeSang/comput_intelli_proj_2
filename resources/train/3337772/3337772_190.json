{"test_class": {"identifier": "SecurityContextUtilTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private SecurityContextUtil util;", "modifier": "private", "type": "SecurityContextUtil", "declarator": "util", "var_name": "util"}, {"original_string": "private SecurityContext context;", "modifier": "private", "type": "SecurityContext", "declarator": "context", "var_name": "context"}, {"original_string": "private String username = \"username\";", "modifier": "private", "type": "String", "declarator": "username = \"username\"", "var_name": "username"}, {"original_string": "private String password = \"password\";", "modifier": "private", "type": "String", "declarator": "password = \"password\"", "var_name": "password"}, {"original_string": "private String email = \"email\";", "modifier": "private", "type": "String", "declarator": "email = \"email\"", "var_name": "email"}, {"original_string": "private String ipLimits = \"1.2.3.4/32\";", "modifier": "private", "type": "String", "declarator": "ipLimits = \"1.2.3.4/32\"", "var_name": "ipLimits"}, {"original_string": "private Collection<GrantedAuthority> authorities;", "modifier": "private", "type": "Collection<GrantedAuthority>", "declarator": "authorities", "var_name": "authorities"}, {"original_string": "private List<String> groups;", "modifier": "private", "type": "List<String>", "declarator": "groups", "var_name": "groups"}], "file": "security/src/test/java/org/duracloud/security/context/SecurityContextUtilTest.java"}, "test_case": {"identifier": "testGetCurrentUserError", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetCurrentUserError() throws Exception {\n        replayMocks();\n        SecurityContextHolder.clearContext();\n\n        try {\n            util.getCurrentUser();\n            Assert.fail(\"exception expected.\");\n\n        } catch (NoUserLoggedInException e) {\n            Assert.assertNotNull(e);\n        }\n    }", "signature": "void testGetCurrentUserError()", "full_signature": "@Test public void testGetCurrentUserError()", "class_method_signature": "SecurityContextUtilTest.testGetCurrentUserError()", "testcase": true, "constructor": false, "invocations": ["replayMocks", "clearContext", "getCurrentUser", "fail", "assertNotNull"]}, "focal_class": {"identifier": "SecurityContextUtil", "superclass": "", "interfaces": "implements UserUtil", "fields": [{"original_string": "private final Logger log = LoggerFactory.getLogger(SecurityContextUtil.class);", "modifier": "private final", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(SecurityContextUtil.class)", "var_name": "log"}], "methods": [{"identifier": "getCurrentUsername", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getCurrentUsername()", "full_signature": "@Override public String getCurrentUsername()", "class_method_signature": "SecurityContextUtil.getCurrentUsername()", "testcase": false, "constructor": false}, {"identifier": "getCurrentUser", "parameters": "()", "modifiers": "public", "return": "Credential", "signature": "Credential getCurrentUser()", "full_signature": "public Credential getCurrentUser()", "class_method_signature": "SecurityContextUtil.getCurrentUser()", "testcase": false, "constructor": false}, {"identifier": "getCurrentUserDetails", "parameters": "()", "modifiers": "public", "return": "DuracloudUserDetails", "signature": "DuracloudUserDetails getCurrentUserDetails()", "full_signature": "public DuracloudUserDetails getCurrentUserDetails()", "class_method_signature": "SecurityContextUtil.getCurrentUserDetails()", "testcase": false, "constructor": false}], "file": "security/src/main/java/org/duracloud/security/context/SecurityContextUtil.java"}, "focal_method": {"identifier": "getCurrentUser", "parameters": "()", "modifiers": "public", "return": "Credential", "body": "public Credential getCurrentUser() throws NoUserLoggedInException {\n        DuracloudUserDetails userDetails = getCurrentUserDetails();\n        Credential credential = new Credential(userDetails.getUsername(),\n                                               userDetails.getPassword());\n\n        log.debug(\"user in context: \" + credential.toString());\n        return credential;\n    }", "signature": "Credential getCurrentUser()", "full_signature": "public Credential getCurrentUser()", "class_method_signature": "SecurityContextUtil.getCurrentUser()", "testcase": false, "constructor": false, "invocations": ["getCurrentUserDetails", "getUsername", "getPassword", "debug", "toString"]}, "repository": {"repo_id": 3337772, "url": "https://github.com/duracloud/duracloud", "language": "Java", "is_fork": false, "fork_count": 15, "stargazer_count": 7, "size": 76851, "license": "licensed"}}