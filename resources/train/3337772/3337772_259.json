{"test_class": {"identifier": "DuraStoreSyncEndpointTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private DuraStoreSyncEndpoint endpoint;", "modifier": "private", "type": "DuraStoreSyncEndpoint", "declarator": "endpoint", "var_name": "endpoint"}, {"original_string": "private ContentStore contentStore;", "modifier": "private", "type": "ContentStore", "declarator": "contentStore", "var_name": "contentStore"}, {"original_string": "private String username;", "modifier": "private", "type": "String", "declarator": "username", "var_name": "username"}, {"original_string": "private String spaceId;", "modifier": "private", "type": "String", "declarator": "spaceId", "var_name": "spaceId"}, {"original_string": "private File contentFile;", "modifier": "private", "type": "File", "declarator": "contentFile", "var_name": "contentFile"}], "file": "synctool/src/test/java/org/duracloud/sync/endpoint/DuraStoreSyncEndpointTest.java"}, "test_case": {"identifier": "testSyncJumpstart", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testSyncJumpstart() throws Exception {\n        EasyMock.expect(contentStore.addContent(EasyMock.eq(spaceId),\n                                                EasyMock.isA(String.class),\n                                                EasyMock.isA(InputStream.class),\n                                                EasyMock.eq(0L),\n                                                EasyMock.eq(\"text/plain\"),\n                                                EasyMock.isA(String.class),\n                                                EasyMock.isA(Map.class)))\n                .andReturn(\"\");\n\n        replayMocks();\n        setEndpoint(null, true);\n\n        MonitoredFile monitoredFile = new MonitoredFile(contentFile);\n        endpoint.syncFile(monitoredFile, contentFile.getParentFile());\n    }", "signature": "void testSyncJumpstart()", "full_signature": "@Test public void testSyncJumpstart()", "class_method_signature": "DuraStoreSyncEndpointTest.testSyncJumpstart()", "testcase": true, "constructor": false, "invocations": ["andReturn", "expect", "addContent", "eq", "isA", "isA", "eq", "eq", "isA", "isA", "replayMocks", "setEndpoint", "syncFile", "getParentFile"]}, "focal_class": {"identifier": "DuraStoreSyncEndpoint", "superclass": "", "interfaces": "implements SyncEndpoint", "fields": [{"original_string": "private final Logger logger =\n        LoggerFactory.getLogger(DuraStoreSyncEndpoint.class);", "modifier": "private final", "type": "Logger", "declarator": "logger =\n        LoggerFactory.getLogger(DuraStoreSyncEndpoint.class)", "var_name": "logger"}, {"original_string": "private ContentStore contentStore;", "modifier": "private", "type": "ContentStore", "declarator": "contentStore", "var_name": "contentStore"}, {"original_string": "private String username;", "modifier": "private", "type": "String", "declarator": "username", "var_name": "username"}, {"original_string": "private String spaceId;", "modifier": "private", "type": "String", "declarator": "spaceId", "var_name": "spaceId"}, {"original_string": "private boolean syncDeletes;", "modifier": "private", "type": "boolean", "declarator": "syncDeletes", "var_name": "syncDeletes"}, {"original_string": "private boolean syncUpdates;", "modifier": "private", "type": "boolean", "declarator": "syncUpdates", "var_name": "syncUpdates"}, {"original_string": "private boolean renameUpdates;", "modifier": "private", "type": "boolean", "declarator": "renameUpdates", "var_name": "renameUpdates"}, {"original_string": "private boolean jumpStart;", "modifier": "private", "type": "boolean", "declarator": "jumpStart", "var_name": "jumpStart"}, {"original_string": "private String updateSuffix;", "modifier": "private", "type": "String", "declarator": "updateSuffix", "var_name": "updateSuffix"}, {"original_string": "private String storeId;", "modifier": "private", "type": "String", "declarator": "storeId", "var_name": "storeId"}, {"original_string": "private String prefix;", "modifier": "private", "type": "String", "declarator": "prefix", "var_name": "prefix"}, {"original_string": "EventListenerSupport<EndPointListener> listenerList;", "modifier": "", "type": "EventListenerSupport<EndPointListener>", "declarator": "listenerList", "var_name": "listenerList"}], "methods": [{"identifier": "DuraStoreSyncEndpoint", "parameters": "(ContentStore contentStore,\n                                 String username,\n                                 String spaceId,\n                                 boolean syncDeletes,\n                                 boolean syncUpdates,\n                                 boolean renameUpdates,\n                                 boolean jumpStart,\n                                 String updateSuffix,\n                                 String prefix)", "modifiers": "public", "return": "", "signature": " DuraStoreSyncEndpoint(ContentStore contentStore,\n                                 String username,\n                                 String spaceId,\n                                 boolean syncDeletes,\n                                 boolean syncUpdates,\n                                 boolean renameUpdates,\n                                 boolean jumpStart,\n                                 String updateSuffix,\n                                 String prefix)", "full_signature": "public  DuraStoreSyncEndpoint(ContentStore contentStore,\n                                 String username,\n                                 String spaceId,\n                                 boolean syncDeletes,\n                                 boolean syncUpdates,\n                                 boolean renameUpdates,\n                                 boolean jumpStart,\n                                 String updateSuffix,\n                                 String prefix)", "class_method_signature": "DuraStoreSyncEndpoint.DuraStoreSyncEndpoint(ContentStore contentStore,\n                                 String username,\n                                 String spaceId,\n                                 boolean syncDeletes,\n                                 boolean syncUpdates,\n                                 boolean renameUpdates,\n                                 boolean jumpStart,\n                                 String updateSuffix,\n                                 String prefix)", "testcase": false, "constructor": true}, {"identifier": "DuraStoreSyncEndpoint", "parameters": "(ContentStore contentStore,\n                                 String username,\n                                 String spaceId,\n                                 boolean syncDeletes,\n                                 boolean jumpStart)", "modifiers": "public", "return": "", "signature": " DuraStoreSyncEndpoint(ContentStore contentStore,\n                                 String username,\n                                 String spaceId,\n                                 boolean syncDeletes,\n                                 boolean jumpStart)", "full_signature": "public  DuraStoreSyncEndpoint(ContentStore contentStore,\n                                 String username,\n                                 String spaceId,\n                                 boolean syncDeletes,\n                                 boolean jumpStart)", "class_method_signature": "DuraStoreSyncEndpoint.DuraStoreSyncEndpoint(ContentStore contentStore,\n                                 String username,\n                                 String spaceId,\n                                 boolean syncDeletes,\n                                 boolean jumpStart)", "testcase": false, "constructor": true}, {"identifier": "getUsername", "parameters": "()", "modifiers": "protected", "return": "String", "signature": "String getUsername()", "full_signature": "protected String getUsername()", "class_method_signature": "DuraStoreSyncEndpoint.getUsername()", "testcase": false, "constructor": false}, {"identifier": "ensureSpaceExists", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void ensureSpaceExists()", "full_signature": "private void ensureSpaceExists()", "class_method_signature": "DuraStoreSyncEndpoint.ensureSpaceExists()", "testcase": false, "constructor": false}, {"identifier": "sleep", "parameters": "(long millis)", "modifiers": "private", "return": "void", "signature": "void sleep(long millis)", "full_signature": "private void sleep(long millis)", "class_method_signature": "DuraStoreSyncEndpoint.sleep(long millis)", "testcase": false, "constructor": false}, {"identifier": "spaceExists", "parameters": "()", "modifiers": "private", "return": "boolean", "signature": "boolean spaceExists()", "full_signature": "private boolean spaceExists()", "class_method_signature": "DuraStoreSyncEndpoint.spaceExists()", "testcase": false, "constructor": false}, {"identifier": "syncFile", "parameters": "(MonitoredFile syncFile, File watchDir)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean syncFile(MonitoredFile syncFile, File watchDir)", "full_signature": "@Override public boolean syncFile(MonitoredFile syncFile, File watchDir)", "class_method_signature": "DuraStoreSyncEndpoint.syncFile(MonitoredFile syncFile, File watchDir)", "testcase": false, "constructor": false}, {"identifier": "syncFileAndReturnDetailedResult", "parameters": "(MonitoredFile syncFile,\n                                                          File watchDir)", "modifiers": "@Override public", "return": "SyncResultType", "signature": "SyncResultType syncFileAndReturnDetailedResult(MonitoredFile syncFile,\n                                                          File watchDir)", "full_signature": "@Override public SyncResultType syncFileAndReturnDetailedResult(MonitoredFile syncFile,\n                                                          File watchDir)", "class_method_signature": "DuraStoreSyncEndpoint.syncFileAndReturnDetailedResult(MonitoredFile syncFile,\n                                                          File watchDir)", "testcase": false, "constructor": false}, {"identifier": "doAddContent", "parameters": "(MonitoredFile syncFile,\n                                String contentId,\n                                String absPath)", "modifiers": "protected", "return": "void", "signature": "void doAddContent(MonitoredFile syncFile,\n                                String contentId,\n                                String absPath)", "full_signature": "protected void doAddContent(MonitoredFile syncFile,\n                                String contentId,\n                                String absPath)", "class_method_signature": "DuraStoreSyncEndpoint.doAddContent(MonitoredFile syncFile,\n                                String contentId,\n                                String absPath)", "testcase": false, "constructor": false}, {"identifier": "getContentProperties", "parameters": "(String spaceId,\n                                                       String contentId)", "modifiers": "protected", "return": "Map<String, String>", "signature": "Map<String, String> getContentProperties(String spaceId,\n                                                       String contentId)", "full_signature": "protected Map<String, String> getContentProperties(String spaceId,\n                                                       String contentId)", "class_method_signature": "DuraStoreSyncEndpoint.getContentProperties(String spaceId,\n                                                       String contentId)", "testcase": false, "constructor": false}, {"identifier": "deleteContent", "parameters": "(String spaceId,\n                                         String contentId,\n                                         String absPath)", "modifiers": "private", "return": "SyncResultType", "signature": "SyncResultType deleteContent(String spaceId,\n                                         String contentId,\n                                         String absPath)", "full_signature": "private SyncResultType deleteContent(String spaceId,\n                                         String contentId,\n                                         String absPath)", "class_method_signature": "DuraStoreSyncEndpoint.deleteContent(String spaceId,\n                                         String contentId,\n                                         String absPath)", "testcase": false, "constructor": false}, {"identifier": "deleteContent", "parameters": "(String spaceId, String contentId)", "modifiers": "@Override public", "return": "void", "signature": "void deleteContent(String spaceId, String contentId)", "full_signature": "@Override public void deleteContent(String spaceId, String contentId)", "class_method_signature": "DuraStoreSyncEndpoint.deleteContent(String spaceId, String contentId)", "testcase": false, "constructor": false}, {"identifier": "addUpdateContent", "parameters": "(String contentId,\n                                  MonitoredFile syncFile,\n                                  String absPath)", "modifiers": "private", "return": "void", "signature": "void addUpdateContent(String contentId,\n                                  MonitoredFile syncFile,\n                                  String absPath)", "full_signature": "private void addUpdateContent(String contentId,\n                                  MonitoredFile syncFile,\n                                  String absPath)", "class_method_signature": "DuraStoreSyncEndpoint.addUpdateContent(String contentId,\n                                  MonitoredFile syncFile,\n                                  String absPath)", "testcase": false, "constructor": false}, {"identifier": "addUpdateContent", "parameters": "(String contentId, MonitoredFile syncFile)", "modifiers": "protected", "return": "void", "signature": "void addUpdateContent(String contentId, MonitoredFile syncFile)", "full_signature": "protected void addUpdateContent(String contentId, MonitoredFile syncFile)", "class_method_signature": "DuraStoreSyncEndpoint.addUpdateContent(String contentId, MonitoredFile syncFile)", "testcase": false, "constructor": false}, {"identifier": "createProps", "parameters": "(String absolutePath, String username)", "modifiers": "protected", "return": "Map<String, String>", "signature": "Map<String, String> createProps(String absolutePath, String username)", "full_signature": "protected Map<String, String> createProps(String absolutePath, String username)", "class_method_signature": "DuraStoreSyncEndpoint.createProps(String absolutePath, String username)", "testcase": false, "constructor": false}, {"identifier": "removePropsWithNonUSASCIINamesOrValues", "parameters": "(Map<String, String> props)", "modifiers": "private", "return": "void", "signature": "void removePropsWithNonUSASCIINamesOrValues(Map<String, String> props)", "full_signature": "private void removePropsWithNonUSASCIINamesOrValues(Map<String, String> props)", "class_method_signature": "DuraStoreSyncEndpoint.removePropsWithNonUSASCIINamesOrValues(Map<String, String> props)", "testcase": false, "constructor": false}, {"identifier": "isAllUSASCII", "parameters": "(String value)", "modifiers": "private", "return": "boolean", "signature": "boolean isAllUSASCII(String value)", "full_signature": "private boolean isAllUSASCII(String value)", "class_method_signature": "DuraStoreSyncEndpoint.isAllUSASCII(String value)", "testcase": false, "constructor": false}, {"identifier": "getFilesList", "parameters": "()", "modifiers": "public", "return": "Iterator<String>", "signature": "Iterator<String> getFilesList()", "full_signature": "public Iterator<String> getFilesList()", "class_method_signature": "DuraStoreSyncEndpoint.getFilesList()", "testcase": false, "constructor": false}, {"identifier": "getContentStore", "parameters": "()", "modifiers": "protected", "return": "ContentStore", "signature": "ContentStore getContentStore()", "full_signature": "protected ContentStore getContentStore()", "class_method_signature": "DuraStoreSyncEndpoint.getContentStore()", "testcase": false, "constructor": false}, {"identifier": "getSpaceId", "parameters": "()", "modifiers": "protected", "return": "String", "signature": "String getSpaceId()", "full_signature": "protected String getSpaceId()", "class_method_signature": "DuraStoreSyncEndpoint.getSpaceId()", "testcase": false, "constructor": false}, {"identifier": "addEndPointListener", "parameters": "(EndPointListener listener)", "modifiers": "@Override public", "return": "void", "signature": "void addEndPointListener(EndPointListener listener)", "full_signature": "@Override public void addEndPointListener(EndPointListener listener)", "class_method_signature": "DuraStoreSyncEndpoint.addEndPointListener(EndPointListener listener)", "testcase": false, "constructor": false}, {"identifier": "removeEndPointListener", "parameters": "(EndPointListener listener)", "modifiers": "@Override public", "return": "void", "signature": "void removeEndPointListener(EndPointListener listener)", "full_signature": "@Override public void removeEndPointListener(EndPointListener listener)", "class_method_signature": "DuraStoreSyncEndpoint.removeEndPointListener(EndPointListener listener)", "testcase": false, "constructor": false}], "file": "synctool/src/main/java/org/duracloud/sync/endpoint/DuraStoreSyncEndpoint.java"}, "focal_method": {"identifier": "syncFile", "parameters": "(MonitoredFile syncFile, File watchDir)", "modifiers": "@Override public", "return": "boolean", "body": "@Override\n    public boolean syncFile(MonitoredFile syncFile, File watchDir) {\n        SyncResultType result =\n            syncFileAndReturnDetailedResult(syncFile, watchDir);\n        return (result != SyncResultType.FAILED);\n    }", "signature": "boolean syncFile(MonitoredFile syncFile, File watchDir)", "full_signature": "@Override public boolean syncFile(MonitoredFile syncFile, File watchDir)", "class_method_signature": "DuraStoreSyncEndpoint.syncFile(MonitoredFile syncFile, File watchDir)", "testcase": false, "constructor": false, "invocations": ["syncFileAndReturnDetailedResult"]}, "repository": {"repo_id": 3337772, "url": "https://github.com/duracloud/duracloud", "language": "Java", "is_fork": false, "fork_count": 15, "stargazer_count": 7, "size": 76851, "license": "licensed"}}