{"test_class": {"identifier": "GalleryOnItemClickListenerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mock\n  MainMenuTextViewAdapter mockAdapter;", "modifier": "@Mock", "type": "MainMenuTextViewAdapter", "declarator": "mockAdapter", "var_name": "mockAdapter"}, {"original_string": "MainMenuTestActivity context;", "modifier": "", "type": "MainMenuTestActivity", "declarator": "context", "var_name": "context"}, {"original_string": "GalleryOnItemClickListener onItemClickListener;", "modifier": "", "type": "GalleryOnItemClickListener", "declarator": "onItemClickListener", "var_name": "onItemClickListener"}], "file": "serenity-app/src/test/java/us/nineworlds/serenity/GalleryOnItemClickListenerTest.java"}, "test_case": {"identifier": "onClickLaunchesTVShowBrowserActivity", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void onClickLaunchesTVShowBrowserActivity() {\n    View view = new View(context);\n    MenuItem searchMenuItem = new MenuItem();\n    searchMenuItem.setType(\"show\");\n    doReturn(searchMenuItem).when(mockAdapter).getItemAtPosition(anyInt());\n\n    onItemClickListener.onItemClick(view, 0);\n\n    ShadowActivity shadowActivity = Shadows.shadowOf(context);\n    Assertions.assertThat(shadowActivity.getNextStartedActivity()).hasComponent(context, TVShowBrowserActivity.class);\n  }", "signature": "void onClickLaunchesTVShowBrowserActivity()", "full_signature": "@Test public void onClickLaunchesTVShowBrowserActivity()", "class_method_signature": "GalleryOnItemClickListenerTest.onClickLaunchesTVShowBrowserActivity()", "testcase": true, "constructor": false, "invocations": ["setType", "getItemAtPosition", "when", "doReturn", "anyInt", "onItemClick", "shadowOf", "hasComponent", "assertThat", "getNextStartedActivity"]}, "focal_class": {"identifier": "GalleryOnItemClickListener", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String MENU_TYPE_SEARCH = \"search\";", "modifier": "private static final", "type": "String", "declarator": "MENU_TYPE_SEARCH = \"search\"", "var_name": "MENU_TYPE_SEARCH"}, {"original_string": "private static final String MENU_TYPE_SHOW = \"show\";", "modifier": "private static final", "type": "String", "declarator": "MENU_TYPE_SHOW = \"show\"", "var_name": "MENU_TYPE_SHOW"}, {"original_string": "private static final String MENU_TYPE_MOVIE = \"movie\";", "modifier": "private static final", "type": "String", "declarator": "MENU_TYPE_MOVIE = \"movie\"", "var_name": "MENU_TYPE_MOVIE"}, {"original_string": "private static final String MENU_TYPE_MUSIC = \"artist\";", "modifier": "private static final", "type": "String", "declarator": "MENU_TYPE_MUSIC = \"artist\"", "var_name": "MENU_TYPE_MUSIC"}, {"original_string": "private static final String MENU_TYPE_OPTIONS = \"options\";", "modifier": "private static final", "type": "String", "declarator": "MENU_TYPE_OPTIONS = \"options\"", "var_name": "MENU_TYPE_OPTIONS"}, {"original_string": "private static final String MENU_TYPE_MOVIES = \"movies\";", "modifier": "private static final", "type": "String", "declarator": "MENU_TYPE_MOVIES = \"movies\"", "var_name": "MENU_TYPE_MOVIES"}, {"original_string": "private static final String MENU_TYPE_TVSHOWS = \"tvshows\";", "modifier": "private static final", "type": "String", "declarator": "MENU_TYPE_TVSHOWS = \"tvshows\"", "var_name": "MENU_TYPE_TVSHOWS"}, {"original_string": "private MainMenuTextViewAdapter adapter;", "modifier": "private", "type": "MainMenuTextViewAdapter", "declarator": "adapter", "var_name": "adapter"}], "methods": [{"identifier": "GalleryOnItemClickListener", "parameters": "(MainMenuTextViewAdapter adapter)", "modifiers": "public", "return": "", "signature": " GalleryOnItemClickListener(MainMenuTextViewAdapter adapter)", "full_signature": "public  GalleryOnItemClickListener(MainMenuTextViewAdapter adapter)", "class_method_signature": "GalleryOnItemClickListener.GalleryOnItemClickListener(MainMenuTextViewAdapter adapter)", "testcase": false, "constructor": true}, {"identifier": "onItemClick", "parameters": "(View view, int i)", "modifiers": "public", "return": "void", "signature": "void onItemClick(View view, int i)", "full_signature": "public void onItemClick(View view, int i)", "class_method_signature": "GalleryOnItemClickListener.onItemClick(View view, int i)", "testcase": false, "constructor": false}], "file": "serenity-app/src/main/java/us/nineworlds/serenity/GalleryOnItemClickListener.java"}, "focal_method": {"identifier": "onItemClick", "parameters": "(View view, int i)", "modifiers": "public", "return": "void", "body": "public void onItemClick(View view, int i) {\n    Activity context = (Activity) view.getContext();\n    if (context.isDestroyed()) {\n      return;\n    }\n\n    MenuItem menuItem = adapter.getItemAtPosition(i);\n    String librarySection = menuItem.getSection();\n    String activityType = menuItem.getType();\n\n    if (MENU_TYPE_SEARCH.equalsIgnoreCase(activityType)) {\n      context.onSearchRequested();\n      return;\n    }\n\n    if (MENU_TYPE_OPTIONS.equalsIgnoreCase(activityType)) {\n      context.openOptionsMenu();\n      return;\n    }\n\n    Intent intent;\n\n    if (MENU_TYPE_MOVIE.equalsIgnoreCase(activityType) || MENU_TYPE_MOVIES.equalsIgnoreCase(activityType)) {\n      intent = new Intent(context, MovieBrowserActivity.class);\n      intent.putExtra(\"key\", librarySection);\n      context.startActivityForResult(intent, 0);\n      return;\n    }\n\n    if (MENU_TYPE_SHOW.equalsIgnoreCase(activityType) || MENU_TYPE_TVSHOWS.equalsIgnoreCase(activityType)) {\n      intent = new Intent(context, TVShowBrowserActivity.class);\n      intent.putExtra(\"key\", librarySection);\n      context.startActivityForResult(intent, 0);\n      return;\n    }\n\n    if (MENU_TYPE_MUSIC.equalsIgnoreCase(activityType)) {\n      Toast.makeText(context, \"Music support has been removed.\", Toast.LENGTH_LONG);\n      return;\n    }\n\n    intent = new Intent(context, LeanbackSettingsActivity.class);\n    intent.putExtra(\"key\", librarySection);\n    context.startActivityForResult(intent, 0);\n  }", "signature": "void onItemClick(View view, int i)", "full_signature": "public void onItemClick(View view, int i)", "class_method_signature": "GalleryOnItemClickListener.onItemClick(View view, int i)", "testcase": false, "constructor": false, "invocations": ["getContext", "isDestroyed", "getItemAtPosition", "getSection", "getType", "equalsIgnoreCase", "onSearchRequested", "equalsIgnoreCase", "openOptionsMenu", "equalsIgnoreCase", "equalsIgnoreCase", "putExtra", "startActivityForResult", "equalsIgnoreCase", "equalsIgnoreCase", "putExtra", "startActivityForResult", "equalsIgnoreCase", "makeText", "putExtra", "startActivityForResult"]}, "repository": {"repo_id": 7139471, "url": "https://github.com/NineWorlds/serenity-android", "language": "Java", "is_fork": false, "fork_count": 58, "stargazer_count": 154, "size": 23158, "license": "licensed"}}