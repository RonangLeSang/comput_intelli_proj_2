{"test_class": {"identifier": "StartupBroadcastReceiverTest", "superclass": "extends InjectingTest", "interfaces": "", "fields": [{"original_string": "@Mock\n  SharedPreferences mockSharedPrefences;", "modifier": "@Mock", "type": "SharedPreferences", "declarator": "mockSharedPrefences", "var_name": "mockSharedPrefences"}, {"original_string": "@Mock\n  AndroidHelper mockAndroidHelper;", "modifier": "@Mock", "type": "AndroidHelper", "declarator": "mockAndroidHelper", "var_name": "mockAndroidHelper"}, {"original_string": "StartupBroadcastReceiver receiver;", "modifier": "", "type": "StartupBroadcastReceiver", "declarator": "receiver", "var_name": "receiver"}], "file": "serenity-app/src/test/java/us/nineworlds/serenity/StartupBroadcastReceiverTest.java"}, "test_case": {"identifier": "onReceiveHandelsLeanBackSupport", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void onReceiveHandelsLeanBackSupport() {\n    Intent intent = new Intent();\n    String action = \"android.intent.action.BOOT_COMPLETED\";\n    intent.setAction(action);\n\n    doReturn(true).when(mockSharedPrefences).getBoolean(\"serenity_boot_startup\", false);\n    doReturn(true).when(mockSharedPrefences).getBoolean(\"androidtv_recommendation_ondeck\", false);\n    doReturn(true).when(mockAndroidHelper).isLeanbackSupported();\n\n    receiver.onReceive(application.getApplicationContext(), intent);\n\n    Intent nextStartedActivity = ShadowApplication.getInstance().peekNextStartedActivity();\n    assertThat(nextStartedActivity).isNotNull();\n\n    verify(mockSharedPrefences).getBoolean(\"serenity_boot_startup\", false);\n    verify(mockSharedPrefences).getBoolean(\"androidtv_recommendation_ondeck\", false);\n    verify(mockAndroidHelper).isLeanbackSupported();\n  }", "signature": "void onReceiveHandelsLeanBackSupport()", "full_signature": "@Test public void onReceiveHandelsLeanBackSupport()", "class_method_signature": "StartupBroadcastReceiverTest.onReceiveHandelsLeanBackSupport()", "testcase": true, "constructor": false, "invocations": ["setAction", "getBoolean", "when", "doReturn", "getBoolean", "when", "doReturn", "isLeanbackSupported", "when", "doReturn", "onReceive", "getApplicationContext", "peekNextStartedActivity", "getInstance", "isNotNull", "assertThat", "getBoolean", "verify", "getBoolean", "verify", "isLeanbackSupported", "verify"]}, "focal_class": {"identifier": "StartupBroadcastReceiver", "superclass": "extends InjectingBroadcastReceiver", "interfaces": "", "fields": [{"original_string": "@Inject\n    AndroidHelper androidHelper;", "modifier": "@Inject", "type": "AndroidHelper", "declarator": "androidHelper", "var_name": "androidHelper"}, {"original_string": "@Inject\n    SharedPreferences preferences;", "modifier": "@Inject", "type": "SharedPreferences", "declarator": "preferences", "var_name": "preferences"}, {"original_string": "private static final int INITIAL_DELAY = 5000;", "modifier": "private static final", "type": "int", "declarator": "INITIAL_DELAY = 5000", "var_name": "INITIAL_DELAY"}, {"original_string": "private Context context;", "modifier": "private", "type": "Context", "declarator": "context", "var_name": "context"}], "methods": [{"identifier": "onReceive", "parameters": "(Context context, Intent intent)", "modifiers": "@Override public", "return": "void", "signature": "void onReceive(Context context, Intent intent)", "full_signature": "@Override public void onReceive(Context context, Intent intent)", "class_method_signature": "StartupBroadcastReceiver.onReceive(Context context, Intent intent)", "testcase": false, "constructor": false}, {"identifier": "launchSerenityOnStartup", "parameters": "()", "modifiers": "protected", "return": "void", "signature": "void launchSerenityOnStartup()", "full_signature": "protected void launchSerenityOnStartup()", "class_method_signature": "StartupBroadcastReceiver.launchSerenityOnStartup()", "testcase": false, "constructor": false}, {"identifier": "createRecomendations", "parameters": "()", "modifiers": "protected", "return": "void", "signature": "void createRecomendations()", "full_signature": "protected void createRecomendations()", "class_method_signature": "StartupBroadcastReceiver.createRecomendations()", "testcase": false, "constructor": false}], "file": "serenity-app/src/main/java/us/nineworlds/serenity/StartupBroadcastReceiver.java"}, "focal_method": {"identifier": "onReceive", "parameters": "(Context context, Intent intent)", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void onReceive(Context context, Intent intent) {\n        Toothpick.inject(this, Toothpick.openScope(InjectionConstants.APPLICATION_SCOPE));\n        this.context = context;\n\n        if (intent.getAction() == null) {\n            return;\n        }\n\n        if (intent.getAction().equals(\"android.intent.action.BOOT_COMPLETED\")) {\n            createRecomendations();\n            launchSerenityOnStartup();\n        }\n    }", "signature": "void onReceive(Context context, Intent intent)", "full_signature": "@Override public void onReceive(Context context, Intent intent)", "class_method_signature": "StartupBroadcastReceiver.onReceive(Context context, Intent intent)", "testcase": false, "constructor": false, "invocations": ["inject", "openScope", "getAction", "equals", "getAction", "createRecomendations", "launchSerenityOnStartup"]}, "repository": {"repo_id": 7139471, "url": "https://github.com/NineWorlds/serenity-android", "language": "Java", "is_fork": false, "fork_count": 58, "stargazer_count": 154, "size": 23158, "license": "licensed"}}