{"test_class": {"identifier": "AbstractDownloadableResourceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String MINIFIED_CONTENT = \"minified content\";", "modifier": "private static final", "type": "String", "declarator": "MINIFIED_CONTENT = \"minified content\"", "var_name": "MINIFIED_CONTENT"}, {"original_string": "private static final String NEVER_MINIFIED_CONTENT = \"never minified content\";", "modifier": "private static final", "type": "String", "declarator": "NEVER_MINIFIED_CONTENT = \"never minified content\"", "var_name": "NEVER_MINIFIED_CONTENT"}, {"original_string": "private static final String PLAIN_CONTENT = \"plain content\";", "modifier": "private static final", "type": "String", "declarator": "PLAIN_CONTENT = \"plain content\"", "var_name": "PLAIN_CONTENT"}], "file": "webresource/src/test/java/org/maera/plugin/servlet/AbstractDownloadableResourceTest.java"}, "test_case": {"identifier": "testMinificationStrategyAlreadyMinimised", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testMinificationStrategyAlreadyMinimised() throws Exception {\n        final ResourceLocation resourceLocation = new ResourceLocation(\"/flintstone/fred-min.js\", \"fred-min.js\", \"stuff\", \"stuff\", \"stuff\", null);\n        final MyDownloableResource myDownloableResource = new MyDownloableResource(resourceLocation, false);\n        myDownloableResource.streamResource(new ByteArrayOutputStream());\n\n        assertEquals(\"/flintstone/fred-min.js\", myDownloableResource.passedResourceLocation);\n    }", "signature": "void testMinificationStrategyAlreadyMinimised()", "full_signature": "@Test public void testMinificationStrategyAlreadyMinimised()", "class_method_signature": "AbstractDownloadableResourceTest.testMinificationStrategyAlreadyMinimised()", "testcase": true, "constructor": false, "invocations": ["streamResource", "assertEquals"]}, "focal_class": {"identifier": "AbstractDownloadableResource", "superclass": "", "interfaces": "implements DownloadableResource", "fields": [{"original_string": "private static final Logger log = LoggerFactory.getLogger(AbstractDownloadableResource.class);", "modifier": "private static final", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(AbstractDownloadableResource.class)", "var_name": "log"}, {"original_string": "private static final String MAERA_WEBRESOURCE_DISABLE_MINIFICATION = \"maera.webresource.disable.minification\";", "modifier": "private static final", "type": "String", "declarator": "MAERA_WEBRESOURCE_DISABLE_MINIFICATION = \"maera.webresource.disable.minification\"", "var_name": "MAERA_WEBRESOURCE_DISABLE_MINIFICATION"}, {"original_string": "protected final Plugin plugin;", "modifier": "protected final", "type": "Plugin", "declarator": "plugin", "var_name": "plugin"}, {"original_string": "protected final String extraPath;", "modifier": "protected final", "type": "String", "declarator": "extraPath", "var_name": "extraPath"}, {"original_string": "protected final ResourceLocation resourceLocation;", "modifier": "protected final", "type": "ResourceLocation", "declarator": "resourceLocation", "var_name": "resourceLocation"}, {"original_string": "private final String location;", "modifier": "private final", "type": "String", "declarator": "location", "var_name": "location"}, {"original_string": "private final boolean disableMinification;", "modifier": "private final", "type": "boolean", "declarator": "disableMinification", "var_name": "disableMinification"}], "methods": [{"identifier": "AbstractDownloadableResource", "parameters": "(final Plugin plugin, final ResourceLocation resourceLocation, final String extraPath)", "modifiers": "public", "return": "", "signature": " AbstractDownloadableResource(final Plugin plugin, final ResourceLocation resourceLocation, final String extraPath)", "full_signature": "public  AbstractDownloadableResource(final Plugin plugin, final ResourceLocation resourceLocation, final String extraPath)", "class_method_signature": "AbstractDownloadableResource.AbstractDownloadableResource(final Plugin plugin, final ResourceLocation resourceLocation, final String extraPath)", "testcase": false, "constructor": true}, {"identifier": "AbstractDownloadableResource", "parameters": "(final Plugin plugin, final ResourceLocation resourceLocation, String extraPath, final boolean disableMinification)", "modifiers": "public", "return": "", "signature": " AbstractDownloadableResource(final Plugin plugin, final ResourceLocation resourceLocation, String extraPath, final boolean disableMinification)", "full_signature": "public  AbstractDownloadableResource(final Plugin plugin, final ResourceLocation resourceLocation, String extraPath, final boolean disableMinification)", "class_method_signature": "AbstractDownloadableResource.AbstractDownloadableResource(final Plugin plugin, final ResourceLocation resourceLocation, String extraPath, final boolean disableMinification)", "testcase": false, "constructor": true}, {"identifier": "serveResource", "parameters": "(final HttpServletRequest request, final HttpServletResponse response)", "modifiers": "public", "return": "void", "signature": "void serveResource(final HttpServletRequest request, final HttpServletResponse response)", "full_signature": "public void serveResource(final HttpServletRequest request, final HttpServletResponse response)", "class_method_signature": "AbstractDownloadableResource.serveResource(final HttpServletRequest request, final HttpServletResponse response)", "testcase": false, "constructor": false}, {"identifier": "streamResource", "parameters": "(final OutputStream out)", "modifiers": "public", "return": "void", "signature": "void streamResource(final OutputStream out)", "full_signature": "public void streamResource(final OutputStream out)", "class_method_signature": "AbstractDownloadableResource.streamResource(final OutputStream out)", "testcase": false, "constructor": false}, {"identifier": "streamResource", "parameters": "(final InputStream in, final OutputStream out)", "modifiers": "private", "return": "void", "signature": "void streamResource(final InputStream in, final OutputStream out)", "full_signature": "private void streamResource(final InputStream in, final OutputStream out)", "class_method_signature": "AbstractDownloadableResource.streamResource(final InputStream in, final OutputStream out)", "testcase": false, "constructor": false}, {"identifier": "isResourceModified", "parameters": "(final HttpServletRequest httpServletRequest, final HttpServletResponse httpServletResponse)", "modifiers": "public", "return": "boolean", "signature": "boolean isResourceModified(final HttpServletRequest httpServletRequest, final HttpServletResponse httpServletResponse)", "full_signature": "public boolean isResourceModified(final HttpServletRequest httpServletRequest, final HttpServletResponse httpServletResponse)", "class_method_signature": "AbstractDownloadableResource.isResourceModified(final HttpServletRequest httpServletRequest, final HttpServletResponse httpServletResponse)", "testcase": false, "constructor": false}, {"identifier": "getContentType", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getContentType()", "full_signature": "public String getContentType()", "class_method_signature": "AbstractDownloadableResource.getContentType()", "testcase": false, "constructor": false}, {"identifier": "getResourceAsStream", "parameters": "(String resourceLocation)", "modifiers": "protected abstract", "return": "InputStream", "signature": "InputStream getResourceAsStream(String resourceLocation)", "full_signature": "protected abstract InputStream getResourceAsStream(String resourceLocation)", "class_method_signature": "AbstractDownloadableResource.getResourceAsStream(String resourceLocation)", "testcase": false, "constructor": false}, {"identifier": "getLocation", "parameters": "()", "modifiers": "protected", "return": "String", "signature": "String getLocation()", "full_signature": "protected String getLocation()", "class_method_signature": "AbstractDownloadableResource.getLocation()", "testcase": false, "constructor": false}, {"identifier": "toString", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String toString()", "full_signature": "@Override public String toString()", "class_method_signature": "AbstractDownloadableResource.toString()", "testcase": false, "constructor": false}, {"identifier": "getResourceAsStreamViaMinificationStrategy", "parameters": "()", "modifiers": "private", "return": "InputStream", "signature": "InputStream getResourceAsStreamViaMinificationStrategy()", "full_signature": "private InputStream getResourceAsStreamViaMinificationStrategy()", "class_method_signature": "AbstractDownloadableResource.getResourceAsStreamViaMinificationStrategy()", "testcase": false, "constructor": false}, {"identifier": "minificationStrategyInPlay", "parameters": "(final String resourceLocation)", "modifiers": "private", "return": "boolean", "signature": "boolean minificationStrategyInPlay(final String resourceLocation)", "full_signature": "private boolean minificationStrategyInPlay(final String resourceLocation)", "class_method_signature": "AbstractDownloadableResource.minificationStrategyInPlay(final String resourceLocation)", "testcase": false, "constructor": false}, {"identifier": "getMinifiedLocation", "parameters": "(final String location)", "modifiers": "private", "return": "String", "signature": "String getMinifiedLocation(final String location)", "full_signature": "private String getMinifiedLocation(final String location)", "class_method_signature": "AbstractDownloadableResource.getMinifiedLocation(final String location)", "testcase": false, "constructor": false}], "file": "webresource/src/main/java/org/maera/plugin/servlet/AbstractDownloadableResource.java"}, "focal_method": {"identifier": "streamResource", "parameters": "(final OutputStream out)", "modifiers": "public", "return": "void", "body": "public void streamResource(final OutputStream out) throws DownloadException {\n        final InputStream resourceStream = getResourceAsStreamViaMinificationStrategy();\n        if (resourceStream == null) {\n            log.warn(\"Resource not found: \" + this);\n            return;\n        }\n\n        streamResource(resourceStream, out);\n    }", "signature": "void streamResource(final OutputStream out)", "full_signature": "public void streamResource(final OutputStream out)", "class_method_signature": "AbstractDownloadableResource.streamResource(final OutputStream out)", "testcase": false, "constructor": false, "invocations": ["getResourceAsStreamViaMinificationStrategy", "warn", "streamResource"]}, "repository": {"repo_id": 1181284, "url": "https://github.com/katasource/maera", "language": "Java", "is_fork": false, "fork_count": 2, "stargazer_count": 5, "size": 966, "license": "licensed"}}