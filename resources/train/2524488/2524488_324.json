{"test_class": {"identifier": "ZooKeeperInstanceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final UUID IID = UUID.randomUUID();", "modifier": "private static final", "type": "UUID", "declarator": "IID = UUID.randomUUID()", "var_name": "IID"}, {"original_string": "private static final String IID_STRING = IID.toString();", "modifier": "private static final", "type": "String", "declarator": "IID_STRING = IID.toString()", "var_name": "IID_STRING"}, {"original_string": "private ZooCacheFactory zcf;", "modifier": "private", "type": "ZooCacheFactory", "declarator": "zcf", "var_name": "zcf"}, {"original_string": "private ZooCache zc;", "modifier": "private", "type": "ZooCache", "declarator": "zc", "var_name": "zc"}, {"original_string": "private ZooKeeperInstance zki;", "modifier": "private", "type": "ZooKeeperInstance", "declarator": "zki", "var_name": "zki"}, {"original_string": "private static org.apache.accumulo.core.client.ClientConfiguration.ClientProperty INSTANCE_ID =\n      org.apache.accumulo.core.client.ClientConfiguration.ClientProperty.INSTANCE_ID;", "modifier": "private static", "type": "org.apache.accumulo.core.client.ClientConfiguration.ClientProperty", "declarator": "INSTANCE_ID =\n      org.apache.accumulo.core.client.ClientConfiguration.ClientProperty.INSTANCE_ID", "var_name": "INSTANCE_ID"}, {"original_string": "private static org.apache.accumulo.core.client.ClientConfiguration.ClientProperty INSTANCE_NAME =\n      org.apache.accumulo.core.client.ClientConfiguration.ClientProperty.INSTANCE_NAME;", "modifier": "private static", "type": "org.apache.accumulo.core.client.ClientConfiguration.ClientProperty", "declarator": "INSTANCE_NAME =\n      org.apache.accumulo.core.client.ClientConfiguration.ClientProperty.INSTANCE_NAME", "var_name": "INSTANCE_NAME"}, {"original_string": "private static org.apache.accumulo.core.client.ClientConfiguration.ClientProperty INSTANCE_ZK_HOST =\n      org.apache.accumulo.core.client.ClientConfiguration.ClientProperty.INSTANCE_ZK_HOST;", "modifier": "private static", "type": "org.apache.accumulo.core.client.ClientConfiguration.ClientProperty", "declarator": "INSTANCE_ZK_HOST =\n      org.apache.accumulo.core.client.ClientConfiguration.ClientProperty.INSTANCE_ZK_HOST", "var_name": "INSTANCE_ZK_HOST"}, {"original_string": "private static org.apache.accumulo.core.client.ClientConfiguration.ClientProperty INSTANCE_ZK_TIMEOUT =\n      org.apache.accumulo.core.client.ClientConfiguration.ClientProperty.INSTANCE_ZK_TIMEOUT;", "modifier": "private static", "type": "org.apache.accumulo.core.client.ClientConfiguration.ClientProperty", "declarator": "INSTANCE_ZK_TIMEOUT =\n      org.apache.accumulo.core.client.ClientConfiguration.ClientProperty.INSTANCE_ZK_TIMEOUT", "var_name": "INSTANCE_ZK_TIMEOUT"}], "file": "core/src/test/java/org/apache/accumulo/core/client/ZooKeeperInstanceTest.java"}, "test_case": {"identifier": "testGetInstanceID_FromCache", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testGetInstanceID_FromCache() {\n    expect(zc.get(Constants.ZROOT + Constants.ZINSTANCES + \"/instance\"))\n        .andReturn(IID_STRING.getBytes(UTF_8));\n    expect(zc.get(Constants.ZROOT + \"/\" + IID_STRING)).andReturn(\"yup\".getBytes());\n    replay(zc);\n    assertEquals(IID_STRING, zki.getInstanceID());\n  }", "signature": "void testGetInstanceID_FromCache()", "full_signature": "@Test public void testGetInstanceID_FromCache()", "class_method_signature": "ZooKeeperInstanceTest.testGetInstanceID_FromCache()", "testcase": true, "constructor": false, "invocations": ["andReturn", "expect", "get", "getBytes", "andReturn", "expect", "get", "getBytes", "replay", "assertEquals", "getInstanceID"]}, "focal_class": {"identifier": "ZooKeeperInstance", "superclass": "", "interfaces": "implements Instance", "fields": [{"original_string": "private static final Logger log = LoggerFactory.getLogger(ZooKeeperInstance.class);", "modifier": "private static final", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(ZooKeeperInstance.class)", "var_name": "log"}, {"original_string": "private String instanceId = null;", "modifier": "private", "type": "String", "declarator": "instanceId = null", "var_name": "instanceId"}, {"original_string": "private String instanceName = null;", "modifier": "private", "type": "String", "declarator": "instanceName = null", "var_name": "instanceName"}, {"original_string": "private final ZooCache zooCache;", "modifier": "private final", "type": "ZooCache", "declarator": "zooCache", "var_name": "zooCache"}, {"original_string": "private final String zooKeepers;", "modifier": "private final", "type": "String", "declarator": "zooKeepers", "var_name": "zooKeepers"}, {"original_string": "private final int zooKeepersSessionTimeOut;", "modifier": "private final", "type": "int", "declarator": "zooKeepersSessionTimeOut", "var_name": "zooKeepersSessionTimeOut"}, {"original_string": "private ClientConfiguration clientConf;", "modifier": "private", "type": "ClientConfiguration", "declarator": "clientConf", "var_name": "clientConf"}], "methods": [{"identifier": "ZooKeeperInstance", "parameters": "(String instanceName, String zooKeepers)", "modifiers": "public", "return": "", "signature": " ZooKeeperInstance(String instanceName, String zooKeepers)", "full_signature": "public  ZooKeeperInstance(String instanceName, String zooKeepers)", "class_method_signature": "ZooKeeperInstance.ZooKeeperInstance(String instanceName, String zooKeepers)", "testcase": false, "constructor": true}, {"identifier": "ZooKeeperInstance", "parameters": "(ClientConfiguration config, ZooCacheFactory zcf)", "modifiers": "", "return": "", "signature": " ZooKeeperInstance(ClientConfiguration config, ZooCacheFactory zcf)", "full_signature": "  ZooKeeperInstance(ClientConfiguration config, ZooCacheFactory zcf)", "class_method_signature": "ZooKeeperInstance.ZooKeeperInstance(ClientConfiguration config, ZooCacheFactory zcf)", "testcase": false, "constructor": true}, {"identifier": "ZooKeeperInstance", "parameters": "(ClientConfiguration config)", "modifiers": "public", "return": "", "signature": " ZooKeeperInstance(ClientConfiguration config)", "full_signature": "public  ZooKeeperInstance(ClientConfiguration config)", "class_method_signature": "ZooKeeperInstance.ZooKeeperInstance(ClientConfiguration config)", "testcase": false, "constructor": true}, {"identifier": "getInstanceID", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getInstanceID()", "full_signature": "@Override public String getInstanceID()", "class_method_signature": "ZooKeeperInstance.getInstanceID()", "testcase": false, "constructor": false}, {"identifier": "getMasterLocations", "parameters": "()", "modifiers": "@Override public", "return": "List<String>", "signature": "List<String> getMasterLocations()", "full_signature": "@Override public List<String> getMasterLocations()", "class_method_signature": "ZooKeeperInstance.getMasterLocations()", "testcase": false, "constructor": false}, {"identifier": "getRootTabletLocation", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getRootTabletLocation()", "full_signature": "@Override public String getRootTabletLocation()", "class_method_signature": "ZooKeeperInstance.getRootTabletLocation()", "testcase": false, "constructor": false}, {"identifier": "getInstanceName", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getInstanceName()", "full_signature": "@Override public String getInstanceName()", "class_method_signature": "ZooKeeperInstance.getInstanceName()", "testcase": false, "constructor": false}, {"identifier": "getZooKeepers", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getZooKeepers()", "full_signature": "@Override public String getZooKeepers()", "class_method_signature": "ZooKeeperInstance.getZooKeepers()", "testcase": false, "constructor": false}, {"identifier": "getZooKeepersSessionTimeOut", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int getZooKeepersSessionTimeOut()", "full_signature": "@Override public int getZooKeepersSessionTimeOut()", "class_method_signature": "ZooKeeperInstance.getZooKeepersSessionTimeOut()", "testcase": false, "constructor": false}, {"identifier": "getConnector", "parameters": "(String principal, AuthenticationToken token)", "modifiers": "@Override public", "return": "Connector", "signature": "Connector getConnector(String principal, AuthenticationToken token)", "full_signature": "@Override public Connector getConnector(String principal, AuthenticationToken token)", "class_method_signature": "ZooKeeperInstance.getConnector(String principal, AuthenticationToken token)", "testcase": false, "constructor": false}, {"identifier": "toString", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String toString()", "full_signature": "@Override public String toString()", "class_method_signature": "ZooKeeperInstance.toString()", "testcase": false, "constructor": false}], "file": "core/src/main/java/org/apache/accumulo/core/client/ZooKeeperInstance.java"}, "focal_method": {"identifier": "getInstanceID", "parameters": "()", "modifiers": "@Override public", "return": "String", "body": "@Override\n  public String getInstanceID() {\n    if (instanceId == null) {\n      instanceId = ClientContext.getInstanceID(zooCache, instanceName);\n    }\n    ClientContext.verifyInstanceId(zooCache, instanceId, instanceName);\n    return instanceId;\n  }", "signature": "String getInstanceID()", "full_signature": "@Override public String getInstanceID()", "class_method_signature": "ZooKeeperInstance.getInstanceID()", "testcase": false, "constructor": false, "invocations": ["getInstanceID", "verifyInstanceId"]}, "repository": {"repo_id": 2524488, "url": "https://github.com/apache/accumulo", "stars": 779, "created": "10/6/2011 7:00:09 AM +00:00", "updates": "2020-01-24T17:34:30+00:00", "fork": "False", "license": "licensed"}}