{"test_class": {"identifier": "FormServiceEntryPointImplTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private KieWorkbenchFormsProvider kieWorkbenchFormsProvider;", "modifier": "private", "type": "KieWorkbenchFormsProvider", "declarator": "kieWorkbenchFormsProvider", "var_name": "kieWorkbenchFormsProvider"}, {"original_string": "private DefaultKieWorkbenchFormsProvider defaultProvider;", "modifier": "private", "type": "DefaultKieWorkbenchFormsProvider", "declarator": "defaultProvider", "var_name": "defaultProvider"}, {"original_string": "@Mock\n    private DocumentServicesClient documentServicesClient;", "modifier": "@Mock\n    private", "type": "DocumentServicesClient", "declarator": "documentServicesClient", "var_name": "documentServicesClient"}, {"original_string": "@Mock\n    private UIServicesClient uiServicesClient;", "modifier": "@Mock\n    private", "type": "UIServicesClient", "declarator": "uiServicesClient", "var_name": "uiServicesClient"}, {"original_string": "@Mock\n    private UserTaskServicesClient userTaskServicesClient;", "modifier": "@Mock\n    private", "type": "UserTaskServicesClient", "declarator": "userTaskServicesClient", "var_name": "userTaskServicesClient"}, {"original_string": "@Mock\n    private ProcessServicesClient processServicesClient;", "modifier": "@Mock\n    private", "type": "ProcessServicesClient", "declarator": "processServicesClient", "var_name": "processServicesClient"}, {"original_string": "@Mock\n    private KieServicesClient kieServicesClient;", "modifier": "@Mock\n    private", "type": "KieServicesClient", "declarator": "kieServicesClient", "var_name": "kieServicesClient"}, {"original_string": "@Mock\n    private ModelReaderService<ClassLoader> modelReaderService;", "modifier": "@Mock\n    private", "type": "ModelReaderService<ClassLoader>", "declarator": "modelReaderService", "var_name": "modelReaderService"}, {"original_string": "private FieldValueMarshallerRegistry registry;", "modifier": "private", "type": "FieldValueMarshallerRegistry", "declarator": "registry", "var_name": "registry"}, {"original_string": "private DynamicBPMNFormGenerator dynamicBPMNFormGenerator;", "modifier": "private", "type": "DynamicBPMNFormGenerator", "declarator": "dynamicBPMNFormGenerator", "var_name": "dynamicBPMNFormGenerator"}, {"original_string": "private BackendFormRenderingContextManagerImpl backendFormRenderingContextManager;", "modifier": "private", "type": "BackendFormRenderingContextManagerImpl", "declarator": "backendFormRenderingContextManager", "var_name": "backendFormRenderingContextManager"}, {"original_string": "private BPMNRuntimeFormGeneratorService runtimeFormGeneratorService;", "modifier": "private", "type": "BPMNRuntimeFormGeneratorService", "declarator": "runtimeFormGeneratorService", "var_name": "runtimeFormGeneratorService"}, {"original_string": "private FormServiceEntryPointImpl serviceEntryPoint;", "modifier": "private", "type": "FormServiceEntryPointImpl", "declarator": "serviceEntryPoint", "var_name": "serviceEntryPoint"}, {"original_string": "private String formContent;", "modifier": "private", "type": "String", "declarator": "formContent", "var_name": "formContent"}], "file": "jbpm-wb-forms/jbpm-wb-forms-backend/src/test/java/org/jbpm/workbench/forms/display/backend/FormServiceEntryPointImplTest.java"}, "test_case": {"identifier": "testRenderTaskFormWithPermissionException", "parameters": "()", "modifiers": "@Test(expected = TaskFormPermissionDeniedException.class) public", "return": "void", "body": "@Test(expected = TaskFormPermissionDeniedException.class)\n    public void testRenderTaskFormWithPermissionException() {\n        when(uiServicesClient.getTaskRawForm(anyString(), anyLong()))\n                .thenThrow(new KieServicesHttpException(\"\", Response.Status.UNAUTHORIZED.getStatusCode(), \"\", \"\"));\n\n        FormRenderingSettings settings = serviceEntryPoint.getFormDisplayTask(\"template\",\n                                                                              \"domain\",\n                                                                              12);\n\n        verify(userTaskServicesClient).getTaskInstance(anyString(),\n                                                       anyLong(),\n                                                       anyBoolean(),\n                                                       anyBoolean(),\n                                                       anyBoolean());\n        verify(kieServicesClient,\n               times(2)).getClassLoader();\n\n        verify(uiServicesClient).getTaskRawForm(anyString(),\n                                                anyLong());\n\n        checkRenderingSettings(settings);\n    }", "signature": "void testRenderTaskFormWithPermissionException()", "full_signature": "@Test(expected = TaskFormPermissionDeniedException.class) public void testRenderTaskFormWithPermissionException()", "class_method_signature": "FormServiceEntryPointImplTest.testRenderTaskFormWithPermissionException()", "testcase": true, "constructor": false, "invocations": ["thenThrow", "when", "getTaskRawForm", "anyString", "anyLong", "getStatusCode", "getFormDisplayTask", "getTaskInstance", "verify", "anyString", "anyLong", "anyBoolean", "anyBoolean", "anyBoolean", "getClassLoader", "verify", "times", "getTaskRawForm", "verify", "anyString", "anyLong", "checkRenderingSettings"]}, "focal_class": {"identifier": "FormServiceEntryPointImpl", "superclass": "extends AbstractKieServerService", "interfaces": "implements FormServiceEntryPoint", "fields": [{"original_string": "private static final Logger logger = LoggerFactory.getLogger(FormServiceEntryPointImpl.class);", "modifier": "private static final", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(FormServiceEntryPointImpl.class)", "var_name": "logger"}, {"original_string": "private boolean kieServerFormRenderer = KieServerUtils.isKieServerRendererEnabled();", "modifier": "private", "type": "boolean", "declarator": "kieServerFormRenderer = KieServerUtils.isKieServerRendererEnabled()", "var_name": "kieServerFormRenderer"}, {"original_string": "private final FormProvider<? extends FormRenderingSettings> defaultFormProvider;", "modifier": "private final", "type": "FormProvider<? extends FormRenderingSettings>", "declarator": "defaultFormProvider", "var_name": "defaultFormProvider"}, {"original_string": "private Set<FormProvider<? extends FormRenderingSettings>> providers = new TreeSet<>((o1, o2) -> o1.getPriority() - o2.getPriority());", "modifier": "private", "type": "Set<FormProvider<? extends FormRenderingSettings>>", "declarator": "providers = new TreeSet<>((o1, o2) -> o1.getPriority() - o2.getPriority())", "var_name": "providers"}], "methods": [{"identifier": "FormServiceEntryPointImpl", "parameters": "(Instance<FormProvider<? extends FormRenderingSettings>> providersInjected,\n                                     @DefaultFormProvider FormProvider<? extends FormRenderingSettings> defaultFormProvider)", "modifiers": "@Inject public", "return": "", "signature": " FormServiceEntryPointImpl(Instance<FormProvider<? extends FormRenderingSettings>> providersInjected,\n                                     @DefaultFormProvider FormProvider<? extends FormRenderingSettings> defaultFormProvider)", "full_signature": "@Inject public  FormServiceEntryPointImpl(Instance<FormProvider<? extends FormRenderingSettings>> providersInjected,\n                                     @DefaultFormProvider FormProvider<? extends FormRenderingSettings> defaultFormProvider)", "class_method_signature": "FormServiceEntryPointImpl.FormServiceEntryPointImpl(Instance<FormProvider<? extends FormRenderingSettings>> providersInjected,\n                                     @DefaultFormProvider FormProvider<? extends FormRenderingSettings> defaultFormProvider)", "testcase": false, "constructor": true}, {"identifier": "getFormDisplayTask", "parameters": "(String serverTemplateId,\n                                                    String domainId,\n                                                    long taskId)", "modifiers": "@Override public", "return": "FormRenderingSettings", "signature": "FormRenderingSettings getFormDisplayTask(String serverTemplateId,\n                                                    String domainId,\n                                                    long taskId)", "full_signature": "@Override public FormRenderingSettings getFormDisplayTask(String serverTemplateId,\n                                                    String domainId,\n                                                    long taskId)", "class_method_signature": "FormServiceEntryPointImpl.getFormDisplayTask(String serverTemplateId,\n                                                    String domainId,\n                                                    long taskId)", "testcase": false, "constructor": false}, {"identifier": "getFormDisplayProcess", "parameters": "(String serverTemplateId,\n                                                       String domainId,\n                                                       String processId,\n                                                       boolean isDynamic)", "modifiers": "@Override public", "return": "FormRenderingSettings", "signature": "FormRenderingSettings getFormDisplayProcess(String serverTemplateId,\n                                                       String domainId,\n                                                       String processId,\n                                                       boolean isDynamic)", "full_signature": "@Override public FormRenderingSettings getFormDisplayProcess(String serverTemplateId,\n                                                       String domainId,\n                                                       String processId,\n                                                       boolean isDynamic)", "class_method_signature": "FormServiceEntryPointImpl.getFormDisplayProcess(String serverTemplateId,\n                                                       String domainId,\n                                                       String processId,\n                                                       boolean isDynamic)", "testcase": false, "constructor": false}, {"identifier": "getKieServerFormDisplayProcess", "parameters": "(String serverTemplateId,\n                                                                   String domainId,\n                                                                   String processId,\n                                                                   boolean isDynamic)", "modifiers": "protected", "return": "FormRenderingSettings", "signature": "FormRenderingSettings getKieServerFormDisplayProcess(String serverTemplateId,\n                                                                   String domainId,\n                                                                   String processId,\n                                                                   boolean isDynamic)", "full_signature": "protected FormRenderingSettings getKieServerFormDisplayProcess(String serverTemplateId,\n                                                                   String domainId,\n                                                                   String processId,\n                                                                   boolean isDynamic)", "class_method_signature": "FormServiceEntryPointImpl.getKieServerFormDisplayProcess(String serverTemplateId,\n                                                                   String domainId,\n                                                                   String processId,\n                                                                   boolean isDynamic)", "testcase": false, "constructor": false}, {"identifier": "getKieServerFormDisplayTask", "parameters": "(String serverTemplateId,\n                                                                String domainId,\n                                                                long taskId)", "modifiers": "protected", "return": "FormRenderingSettings", "signature": "FormRenderingSettings getKieServerFormDisplayTask(String serverTemplateId,\n                                                                String domainId,\n                                                                long taskId)", "full_signature": "protected FormRenderingSettings getKieServerFormDisplayTask(String serverTemplateId,\n                                                                String domainId,\n                                                                long taskId)", "class_method_signature": "FormServiceEntryPointImpl.getKieServerFormDisplayTask(String serverTemplateId,\n                                                                String domainId,\n                                                                long taskId)", "testcase": false, "constructor": false}, {"identifier": "getEmbeddedFormDisplayTask", "parameters": "(String serverTemplateId,\n                                                               String domainId,\n                                                               long taskId)", "modifiers": "protected", "return": "FormRenderingSettings", "signature": "FormRenderingSettings getEmbeddedFormDisplayTask(String serverTemplateId,\n                                                               String domainId,\n                                                               long taskId)", "full_signature": "protected FormRenderingSettings getEmbeddedFormDisplayTask(String serverTemplateId,\n                                                               String domainId,\n                                                               long taskId)", "class_method_signature": "FormServiceEntryPointImpl.getEmbeddedFormDisplayTask(String serverTemplateId,\n                                                               String domainId,\n                                                               long taskId)", "testcase": false, "constructor": false}, {"identifier": "getEmbeddedFormDisplayProcess", "parameters": "(String serverTemplateId,\n                                                                  String domainId,\n                                                                  String processId)", "modifiers": "protected", "return": "FormRenderingSettings", "signature": "FormRenderingSettings getEmbeddedFormDisplayProcess(String serverTemplateId,\n                                                                  String domainId,\n                                                                  String processId)", "full_signature": "protected FormRenderingSettings getEmbeddedFormDisplayProcess(String serverTemplateId,\n                                                                  String domainId,\n                                                                  String processId)", "class_method_signature": "FormServiceEntryPointImpl.getEmbeddedFormDisplayProcess(String serverTemplateId,\n                                                                  String domainId,\n                                                                  String processId)", "testcase": false, "constructor": false}, {"identifier": "renderDefaultTaskForm", "parameters": "(String serverTemplateId,\n                                                        TaskDefinition taskInstance,\n                                                        Map<String, Object> inputs,\n                                                        Map<String, Object> outputs,\n                                                        KieServicesClient kieServicesClient)", "modifiers": "private", "return": "FormRenderingSettings", "signature": "FormRenderingSettings renderDefaultTaskForm(String serverTemplateId,\n                                                        TaskDefinition taskInstance,\n                                                        Map<String, Object> inputs,\n                                                        Map<String, Object> outputs,\n                                                        KieServicesClient kieServicesClient)", "full_signature": "private FormRenderingSettings renderDefaultTaskForm(String serverTemplateId,\n                                                        TaskDefinition taskInstance,\n                                                        Map<String, Object> inputs,\n                                                        Map<String, Object> outputs,\n                                                        KieServicesClient kieServicesClient)", "class_method_signature": "FormServiceEntryPointImpl.renderDefaultTaskForm(String serverTemplateId,\n                                                        TaskDefinition taskInstance,\n                                                        Map<String, Object> inputs,\n                                                        Map<String, Object> outputs,\n                                                        KieServicesClient kieServicesClient)", "testcase": false, "constructor": false}, {"identifier": "renderDefaultProcessForm", "parameters": "(String serverTemplateId,\n                                                           org.jbpm.workbench.forms.service.providing.model.ProcessDefinition processDesc,\n                                                           Map<String, String> processData,\n                                                           KieServicesClient kieServicesClient)", "modifiers": "private", "return": "FormRenderingSettings", "signature": "FormRenderingSettings renderDefaultProcessForm(String serverTemplateId,\n                                                           org.jbpm.workbench.forms.service.providing.model.ProcessDefinition processDesc,\n                                                           Map<String, String> processData,\n                                                           KieServicesClient kieServicesClient)", "full_signature": "private FormRenderingSettings renderDefaultProcessForm(String serverTemplateId,\n                                                           org.jbpm.workbench.forms.service.providing.model.ProcessDefinition processDesc,\n                                                           Map<String, String> processData,\n                                                           KieServicesClient kieServicesClient)", "class_method_signature": "FormServiceEntryPointImpl.renderDefaultProcessForm(String serverTemplateId,\n                                                           org.jbpm.workbench.forms.service.providing.model.ProcessDefinition processDesc,\n                                                           Map<String, String> processData,\n                                                           KieServicesClient kieServicesClient)", "testcase": false, "constructor": false}, {"identifier": "processData", "parameters": "(DocumentServicesClient documentClient,\n                                              Map<String, Object> data)", "modifiers": "protected", "return": "Map<String, Object>", "signature": "Map<String, Object> processData(DocumentServicesClient documentClient,\n                                              Map<String, Object> data)", "full_signature": "protected Map<String, Object> processData(DocumentServicesClient documentClient,\n                                              Map<String, Object> data)", "class_method_signature": "FormServiceEntryPointImpl.processData(DocumentServicesClient documentClient,\n                                              Map<String, Object> data)", "testcase": false, "constructor": false}, {"identifier": "setKieServerFormRenderer", "parameters": "(boolean value)", "modifiers": "protected", "return": "void", "signature": "void setKieServerFormRenderer(boolean value)", "full_signature": "protected void setKieServerFormRenderer(boolean value)", "class_method_signature": "FormServiceEntryPointImpl.setKieServerFormRenderer(boolean value)", "testcase": false, "constructor": false}], "file": "jbpm-wb-forms/jbpm-wb-forms-backend/src/main/java/org/jbpm/workbench/forms/display/backend/FormServiceEntryPointImpl.java"}, "focal_method": {"identifier": "getFormDisplayTask", "parameters": "(String serverTemplateId,\n                                                    String domainId,\n                                                    long taskId)", "modifiers": "@Override public", "return": "FormRenderingSettings", "body": "@Override\n    public FormRenderingSettings getFormDisplayTask(String serverTemplateId,\n                                                    String domainId,\n                                                    long taskId) {\n        if (kieServerFormRenderer) {\n            return getKieServerFormDisplayTask(serverTemplateId, domainId, taskId);\n        } else {\n            return getEmbeddedFormDisplayTask(serverTemplateId, domainId, taskId);\n        }\n    }", "signature": "FormRenderingSettings getFormDisplayTask(String serverTemplateId,\n                                                    String domainId,\n                                                    long taskId)", "full_signature": "@Override public FormRenderingSettings getFormDisplayTask(String serverTemplateId,\n                                                    String domainId,\n                                                    long taskId)", "class_method_signature": "FormServiceEntryPointImpl.getFormDisplayTask(String serverTemplateId,\n                                                    String domainId,\n                                                    long taskId)", "testcase": false, "constructor": false, "invocations": ["getKieServerFormDisplayTask", "getEmbeddedFormDisplayTask"]}, "repository": {"repo_id": 5405905, "url": "https://github.com/kiegroup/jbpm-wb", "stars": 36, "created": "8/13/2012 11:08:21 PM +00:00", "updates": "2020-01-21T13:08:37+00:00", "fork": "False", "license": "licensed"}}