{"test_class": {"identifier": "PresentationModelFactoryTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private PresentationModelFactory d_manager;", "modifier": "private", "type": "PresentationModelFactory", "declarator": "d_manager", "var_name": "d_manager"}, {"original_string": "private Domain d_domain;", "modifier": "private", "type": "Domain", "declarator": "d_domain", "var_name": "d_domain"}], "file": "application/src/test/java/org/drugis/addis/presentation/PresentationModelFactoryTest.java"}, "test_case": {"identifier": "testGetExistingIndicationModelHasCorrectStudies", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testGetExistingIndicationModelHasCorrectStudies() {\n\t\tIndicationPresentation m = (IndicationPresentation) d_manager.getModel(ExampleData.buildIndicationDepression());\n\t\t\n\t\tassertEquals(ExampleData.buildIndicationDepression(), m.getBean());\n\t\tassertEquals(m.getClass(), IndicationPresentation.class);\n\t\t\n\t\tassertTrue(m.getStudyListPresentation().getIncludedStudies().containsAll(\n\t\t\t\td_domain.getStudies(ExampleData.buildIndicationDepression())));\n\t}", "signature": "void testGetExistingIndicationModelHasCorrectStudies()", "full_signature": "@Test public void testGetExistingIndicationModelHasCorrectStudies()", "class_method_signature": "PresentationModelFactoryTest.testGetExistingIndicationModelHasCorrectStudies()", "testcase": true, "constructor": false, "invocations": ["getModel", "buildIndicationDepression", "assertEquals", "buildIndicationDepression", "getBean", "assertEquals", "getClass", "assertTrue", "containsAll", "getIncludedStudies", "getStudyListPresentation", "getStudies", "buildIndicationDepression"]}, "focal_class": {"identifier": "PresentationModelFactory", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final Map<Object, PresentationModel<?>> d_cache = new\tWeakHashMap<Object, PresentationModel<?>>();", "modifier": "private final", "type": "Map<Object, PresentationModel<?>>", "declarator": "d_cache = new\tWeakHashMap<Object, PresentationModel<?>>()", "var_name": "d_cache"}, {"original_string": "private final Domain d_domain;", "modifier": "private final", "type": "Domain", "declarator": "d_domain", "var_name": "d_domain"}], "methods": [{"identifier": "PresentationModelFactory", "parameters": "(final Domain domain)", "modifiers": "public", "return": "", "signature": " PresentationModelFactory(final Domain domain)", "full_signature": "public  PresentationModelFactory(final Domain domain)", "class_method_signature": "PresentationModelFactory.PresentationModelFactory(final Domain domain)", "testcase": false, "constructor": true}, {"identifier": "getLabeledModel", "parameters": "(final T obj)", "modifiers": "public", "return": "LabeledPresentation", "signature": "LabeledPresentation getLabeledModel(final T obj)", "full_signature": "public LabeledPresentation getLabeledModel(final T obj)", "class_method_signature": "PresentationModelFactory.getLabeledModel(final T obj)", "testcase": false, "constructor": false}, {"identifier": "getModel", "parameters": "(final T obj)", "modifiers": "@SuppressWarnings({ \"unchecked\", \"rawtypes\" }) public", "return": "PresentationModel<T>", "signature": "PresentationModel<T> getModel(final T obj)", "full_signature": "@SuppressWarnings({ \"unchecked\", \"rawtypes\" }) public PresentationModel<T> getModel(final T obj)", "class_method_signature": "PresentationModelFactory.getModel(final T obj)", "testcase": false, "constructor": false}, {"identifier": "clearCache", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void clearCache()", "full_signature": "public void clearCache()", "class_method_signature": "PresentationModelFactory.clearCache()", "testcase": false, "constructor": false}, {"identifier": "createModel", "parameters": "(final Object obj)", "modifiers": "@SuppressWarnings({ \"unchecked\", \"rawtypes\" }) private", "return": "PresentationModel", "signature": "PresentationModel createModel(final Object obj)", "full_signature": "@SuppressWarnings({ \"unchecked\", \"rawtypes\" }) private PresentationModel createModel(final Object obj)", "class_method_signature": "PresentationModelFactory.createModel(final Object obj)", "testcase": false, "constructor": false}], "file": "application/src/main/java/org/drugis/addis/presentation/PresentationModelFactory.java"}, "focal_method": {"identifier": "getModel", "parameters": "(final T obj)", "modifiers": "@SuppressWarnings({ \"unchecked\", \"rawtypes\" }) public", "return": "PresentationModel<T>", "body": "@SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n\tpublic <T> PresentationModel<T> getModel(final T obj) {\n\t\tPresentationModel mod = d_cache.get(obj);\n\t\tif ((mod != null) && (mod.getBean() == obj)) {\n\t\t\treturn mod;\n\t\t}\n\n\t\tmod = createModel(obj);\n\t\td_cache.put(obj, mod);\n\t\treturn mod;\n\t}", "signature": "PresentationModel<T> getModel(final T obj)", "full_signature": "@SuppressWarnings({ \"unchecked\", \"rawtypes\" }) public PresentationModel<T> getModel(final T obj)", "class_method_signature": "PresentationModelFactory.getModel(final T obj)", "testcase": false, "constructor": false, "invocations": ["get", "getBean", "createModel", "put"]}, "repository": {"repo_id": 213337, "url": "https://github.com/drugis/addis", "language": "Java", "is_fork": false, "fork_count": 7, "stargazer_count": 10, "size": 13133, "license": "licensed"}}