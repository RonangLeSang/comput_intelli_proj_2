{"test_class": {"identifier": "BuildResourceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private BuildResource buildResource;", "modifier": "private", "type": "BuildResource", "declarator": "buildResource", "var_name": "buildResource"}], "file": "onebusaway-nyc-admin-webapp/src/test/java/org/onebusaway/nyc/admin/service/bundle/api/BuildResourceTest.java"}, "test_case": {"identifier": "testValidDates", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testValidDates() {\n\t\ttry {\n\t\t\tbuildResource.validateDates(\"2012-06-21\", \"2012-06-26\");\n\t\t} catch(DateValidationException e) {\n\t\t\t//This should never happen\n\t\t\te.printStackTrace();\n\t\t}\n\t}", "signature": "void testValidDates()", "full_signature": "@Test public void testValidDates()", "class_method_signature": "BuildResourceTest.testValidDates()", "testcase": true, "constructor": false, "invocations": ["validateDates", "printStackTrace"]}, "focal_class": {"identifier": "BuildResource", "superclass": "extends AuthenticatedResource", "interfaces": "", "fields": [{"original_string": "@Autowired\n\tprivate BundleRequestService _bundleService;", "modifier": "@Autowired\n\tprivate", "type": "BundleRequestService", "declarator": "_bundleService", "var_name": "_bundleService"}, {"original_string": "private LoggingService loggingService;", "modifier": "private", "type": "LoggingService", "declarator": "loggingService", "var_name": "loggingService"}, {"original_string": "private final ObjectMapper _mapper = new ObjectMapper();", "modifier": "private final", "type": "ObjectMapper", "declarator": "_mapper = new ObjectMapper()", "var_name": "_mapper"}, {"original_string": "private static Logger _log = LoggerFactory.getLogger(BuildResource.class);", "modifier": "private static", "type": "Logger", "declarator": "_log = LoggerFactory.getLogger(BuildResource.class)", "var_name": "_log"}], "methods": [{"identifier": "build", "parameters": "(@PathParam(\"bundleDirectory\") String bundleDirectory,\n\t\t\t@PathParam(\"bundleName\") String bundleName,\n\t\t\t@PathParam(\"email\") String email,\n\t\t\t@PathParam(\"bundleStartDate\") String bundleStartDate,\n\t\t\t@PathParam(\"bundleEndDate\") String bundleEndDate,\n\t\t\t@PathParam(\"predate\") String predate)", "modifiers": "@Path(\"/{bundleDirectory}/{bundleName}/{email}/{bundleStartDate}/{bundleEndDate}/{predate}/create\") @GET @Produces(\"application/json\") public", "return": "Response", "signature": "Response build(@PathParam(\"bundleDirectory\") String bundleDirectory,\n\t\t\t@PathParam(\"bundleName\") String bundleName,\n\t\t\t@PathParam(\"email\") String email,\n\t\t\t@PathParam(\"bundleStartDate\") String bundleStartDate,\n\t\t\t@PathParam(\"bundleEndDate\") String bundleEndDate,\n\t\t\t@PathParam(\"predate\") String predate)", "full_signature": "@Path(\"/{bundleDirectory}/{bundleName}/{email}/{bundleStartDate}/{bundleEndDate}/{predate}/create\") @GET @Produces(\"application/json\") public Response build(@PathParam(\"bundleDirectory\") String bundleDirectory,\n\t\t\t@PathParam(\"bundleName\") String bundleName,\n\t\t\t@PathParam(\"email\") String email,\n\t\t\t@PathParam(\"bundleStartDate\") String bundleStartDate,\n\t\t\t@PathParam(\"bundleEndDate\") String bundleEndDate,\n\t\t\t@PathParam(\"predate\") String predate)", "class_method_signature": "BuildResource.build(@PathParam(\"bundleDirectory\") String bundleDirectory,\n\t\t\t@PathParam(\"bundleName\") String bundleName,\n\t\t\t@PathParam(\"email\") String email,\n\t\t\t@PathParam(\"bundleStartDate\") String bundleStartDate,\n\t\t\t@PathParam(\"bundleEndDate\") String bundleEndDate,\n\t\t\t@PathParam(\"predate\") String predate)", "testcase": false, "constructor": false}, {"identifier": "build", "parameters": "(@PathParam(\"bundleDirectory\") String bundleDirectory,\n\t\t\t\t\t\t  @PathParam(\"bundleName\") String bundleName,\n\t\t\t\t\t\t  @PathParam(\"email\") String email,\n\t\t\t\t\t\t  @PathParam(\"bundleStartDate\") String bundleStartDate,\n\t\t\t\t\t\t  @PathParam(\"bundleEndDate\") String bundleEndDate)", "modifiers": "@Path(\"/{bundleDirectory}/{bundleName}/{email}/{bundleStartDate}/{bundleEndDate}/create\") @GET @Produces(\"application/json\") public", "return": "Response", "signature": "Response build(@PathParam(\"bundleDirectory\") String bundleDirectory,\n\t\t\t\t\t\t  @PathParam(\"bundleName\") String bundleName,\n\t\t\t\t\t\t  @PathParam(\"email\") String email,\n\t\t\t\t\t\t  @PathParam(\"bundleStartDate\") String bundleStartDate,\n\t\t\t\t\t\t  @PathParam(\"bundleEndDate\") String bundleEndDate)", "full_signature": "@Path(\"/{bundleDirectory}/{bundleName}/{email}/{bundleStartDate}/{bundleEndDate}/create\") @GET @Produces(\"application/json\") public Response build(@PathParam(\"bundleDirectory\") String bundleDirectory,\n\t\t\t\t\t\t  @PathParam(\"bundleName\") String bundleName,\n\t\t\t\t\t\t  @PathParam(\"email\") String email,\n\t\t\t\t\t\t  @PathParam(\"bundleStartDate\") String bundleStartDate,\n\t\t\t\t\t\t  @PathParam(\"bundleEndDate\") String bundleEndDate)", "class_method_signature": "BuildResource.build(@PathParam(\"bundleDirectory\") String bundleDirectory,\n\t\t\t\t\t\t  @PathParam(\"bundleName\") String bundleName,\n\t\t\t\t\t\t  @PathParam(\"email\") String email,\n\t\t\t\t\t\t  @PathParam(\"bundleStartDate\") String bundleStartDate,\n\t\t\t\t\t\t  @PathParam(\"bundleEndDate\") String bundleEndDate)", "testcase": false, "constructor": false}, {"identifier": "constructResponse", "parameters": "(BundleBuildResponse buildResponse)", "modifiers": "private", "return": "Response", "signature": "Response constructResponse(BundleBuildResponse buildResponse)", "full_signature": "private Response constructResponse(BundleBuildResponse buildResponse)", "class_method_signature": "BuildResource.constructResponse(BundleBuildResponse buildResponse)", "testcase": false, "constructor": false}, {"identifier": "validateDates", "parameters": "(String bundleStartDateString, String bundleEndDateString)", "modifiers": "protected", "return": "void", "signature": "void validateDates(String bundleStartDateString, String bundleEndDateString)", "full_signature": "protected void validateDates(String bundleStartDateString, String bundleEndDateString)", "class_method_signature": "BuildResource.validateDates(String bundleStartDateString, String bundleEndDateString)", "testcase": false, "constructor": false}, {"identifier": "list", "parameters": "(@PathParam(\"id\") String id)", "modifiers": "@Path(\"/{id}/list\") @GET @Produces(\"application/json\") public", "return": "Response", "signature": "Response list(@PathParam(\"id\") String id)", "full_signature": "@Path(\"/{id}/list\") @GET @Produces(\"application/json\") public Response list(@PathParam(\"id\") String id)", "class_method_signature": "BuildResource.list(@PathParam(\"id\") String id)", "testcase": false, "constructor": false}, {"identifier": "url", "parameters": "(@PathParam(\"id\") String id)", "modifiers": "@Path(\"/{id}/url\") @GET @Produces(\"application/json\") public", "return": "Response", "signature": "Response url(@PathParam(\"id\") String id)", "full_signature": "@Path(\"/{id}/url\") @GET @Produces(\"application/json\") public Response url(@PathParam(\"id\") String id)", "class_method_signature": "BuildResource.url(@PathParam(\"id\") String id)", "testcase": false, "constructor": false}, {"identifier": "setLoggingService", "parameters": "(LoggingService loggingService)", "modifiers": "@Autowired public", "return": "void", "signature": "void setLoggingService(LoggingService loggingService)", "full_signature": "@Autowired public void setLoggingService(LoggingService loggingService)", "class_method_signature": "BuildResource.setLoggingService(LoggingService loggingService)", "testcase": false, "constructor": false}], "file": "onebusaway-nyc-admin-webapp/src/main/java/org/onebusaway/nyc/admin/service/bundle/api/BuildResource.java"}, "focal_method": {"identifier": "validateDates", "parameters": "(String bundleStartDateString, String bundleEndDateString)", "modifiers": "protected", "return": "void", "body": "protected void validateDates(String bundleStartDateString, String bundleEndDateString) throws DateValidationException {\n\t\tif(StringUtils.isBlank(bundleStartDateString)) {\n\t\t\tthrow new DateValidationException(bundleStartDateString, bundleEndDateString);\n\t\t}\n\t\tif(StringUtils.isBlank(bundleEndDateString)) {\n\t\t\tthrow new DateValidationException(bundleStartDateString, bundleEndDateString);\n\t\t}\n\t\t\n\t\tDateTime startDate = ISODateTimeFormat.date().parseDateTime(bundleStartDateString);\n\t\tDateTime endDate = ISODateTimeFormat.date().parseDateTime(bundleEndDateString);\n\t\t\n\t\tif(startDate.isAfter(endDate)) {\n\t\t\tthrow new DateValidationException(bundleStartDateString, bundleEndDateString);\n\t\t}\n\t}", "signature": "void validateDates(String bundleStartDateString, String bundleEndDateString)", "full_signature": "protected void validateDates(String bundleStartDateString, String bundleEndDateString)", "class_method_signature": "BuildResource.validateDates(String bundleStartDateString, String bundleEndDateString)", "testcase": false, "constructor": false, "invocations": ["isBlank", "isBlank", "parseDateTime", "date", "parseDateTime", "date", "isAfter"]}, "repository": {"repo_id": 2259237, "url": "https://github.com/camsys/onebusaway-nyc", "stars": 38, "created": "8/24/2011 2:52:13 AM +00:00", "updates": "2019-12-21T00:37:49+00:00", "fork": "False", "license": "licensed"}}