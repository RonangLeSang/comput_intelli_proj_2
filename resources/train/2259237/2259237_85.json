{"test_class": {"identifier": "InferenceInputQueueListenerTaskTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mock\n\tprivate RefreshService refreshService;", "modifier": "@Mock\n\tprivate", "type": "RefreshService", "declarator": "refreshService", "var_name": "refreshService"}, {"original_string": "@Mock\n\tprivate TransitDataManagerApiLibrary mockApiLibrary;", "modifier": "@Mock\n\tprivate", "type": "TransitDataManagerApiLibrary", "declarator": "mockApiLibrary", "var_name": "mockApiLibrary"}, {"original_string": "@Mock\n\tprivate RestApiLibrary mockRestApiLibrary;", "modifier": "@Mock\n\tprivate", "type": "RestApiLibrary", "declarator": "mockRestApiLibrary", "var_name": "mockRestApiLibrary"}, {"original_string": "@InjectMocks\n\tprivate ConfigurationServiceImpl service;", "modifier": "@InjectMocks\n\tprivate", "type": "ConfigurationServiceImpl", "declarator": "service", "var_name": "service"}, {"original_string": "private NycQueuedInferredLocationBean inferredResult;", "modifier": "private", "type": "NycQueuedInferredLocationBean", "declarator": "inferredResult", "var_name": "inferredResult"}, {"original_string": "private InferenceInputQueueListenerTask task;", "modifier": "private", "type": "InferenceInputQueueListenerTask", "declarator": "task", "var_name": "task"}, {"original_string": "private Long timestamp = new Long(System.currentTimeMillis());", "modifier": "private", "type": "Long", "declarator": "timestamp = new Long(System.currentTimeMillis())", "var_name": "timestamp"}, {"original_string": "private VehicleLocationListener listener;", "modifier": "private", "type": "VehicleLocationListener", "declarator": "listener", "var_name": "listener"}, {"original_string": "private PredictionIntegrationService pService;", "modifier": "private", "type": "PredictionIntegrationService", "declarator": "pService", "var_name": "pService"}], "file": "onebusaway-nyc-transit-data-federation/src/test/java/org/onebusaway/nyc/transit_data_federation/impl/queue/InferenceInputQueueListenerTaskTest.java"}, "test_case": {"identifier": "testComputeTimeDifference", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testComputeTimeDifference() throws Exception {\n\t\tassertEquals(task.computeTimeDifference(timestamp), 0);\n\t\tassertTrue(task.computeTimeDifference(timestamp-50000) < 300);\n\t\tassertFalse(task.computeTimeDifference(timestamp-350000) < 300);\n\t}", "signature": "void testComputeTimeDifference()", "full_signature": "@Test public void testComputeTimeDifference()", "class_method_signature": "InferenceInputQueueListenerTaskTest.testComputeTimeDifference()", "testcase": true, "constructor": false, "invocations": ["assertEquals", "computeTimeDifference", "assertTrue", "computeTimeDifference", "assertFalse", "computeTimeDifference"]}, "focal_class": {"identifier": "InferenceInputQueueListenerTask", "superclass": "extends InferenceQueueListenerTask", "interfaces": "", "fields": [{"original_string": "@Autowired\n\tprivate VehicleLocationListener _vehicleLocationListener;", "modifier": "@Autowired\n\tprivate", "type": "VehicleLocationListener", "declarator": "_vehicleLocationListener", "var_name": "_vehicleLocationListener"}, {"original_string": "@Autowired(required = false)\n\tprivate PredictionIntegrationService _predictionIntegrationService;", "modifier": "@Autowired(required = false)\n\tprivate", "type": "PredictionIntegrationService", "declarator": "_predictionIntegrationService", "var_name": "_predictionIntegrationService"}, {"original_string": "private boolean useTimePredictions = false;", "modifier": "private", "type": "boolean", "declarator": "useTimePredictions = false", "var_name": "useTimePredictions"}, {"original_string": "private boolean checkAge = false;", "modifier": "private", "type": "boolean", "declarator": "checkAge = false", "var_name": "checkAge"}, {"original_string": "private int ageLimit = 300;", "modifier": "private", "type": "int", "declarator": "ageLimit = 300", "var_name": "ageLimit"}, {"original_string": "private boolean refreshCheck;", "modifier": "private", "type": "boolean", "declarator": "refreshCheck", "var_name": "refreshCheck"}], "methods": [{"identifier": "InferenceInputQueueListenerTask", "parameters": "()", "modifiers": "public", "return": "", "signature": " InferenceInputQueueListenerTask()", "full_signature": "public  InferenceInputQueueListenerTask()", "class_method_signature": "InferenceInputQueueListenerTask.InferenceInputQueueListenerTask()", "testcase": false, "constructor": true}, {"identifier": "getQueueDisplayName", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getQueueDisplayName()", "full_signature": "public String getQueueDisplayName()", "class_method_signature": "InferenceInputQueueListenerTask.getQueueDisplayName()", "testcase": false, "constructor": false}, {"identifier": "setPredictionIntegrationService", "parameters": "( PredictionIntegrationService predictionIntegrationService)", "modifiers": "protected", "return": "void", "signature": "void setPredictionIntegrationService( PredictionIntegrationService predictionIntegrationService)", "full_signature": "protected void setPredictionIntegrationService( PredictionIntegrationService predictionIntegrationService)", "class_method_signature": "InferenceInputQueueListenerTask.setPredictionIntegrationService( PredictionIntegrationService predictionIntegrationService)", "testcase": false, "constructor": false}, {"identifier": "setVehicleLocationListener", "parameters": "( VehicleLocationListener vehicleLocationListener)", "modifiers": "protected", "return": "void", "signature": "void setVehicleLocationListener( VehicleLocationListener vehicleLocationListener)", "full_signature": "protected void setVehicleLocationListener( VehicleLocationListener vehicleLocationListener)", "class_method_signature": "InferenceInputQueueListenerTask.setVehicleLocationListener( VehicleLocationListener vehicleLocationListener)", "testcase": false, "constructor": false}, {"identifier": "setConfigurationService", "parameters": "(ConfigurationServiceImpl config)", "modifiers": "protected", "return": "void", "signature": "void setConfigurationService(ConfigurationServiceImpl config)", "full_signature": "protected void setConfigurationService(ConfigurationServiceImpl config)", "class_method_signature": "InferenceInputQueueListenerTask.setConfigurationService(ConfigurationServiceImpl config)", "testcase": false, "constructor": false}, {"identifier": "refreshCache", "parameters": "()", "modifiers": "@Refreshable(dependsOn = {\"display.checkAge\", \"display.useTimePredictions\", \"display.ageLimit\"}) protected", "return": "void", "signature": "void refreshCache()", "full_signature": "@Refreshable(dependsOn = {\"display.checkAge\", \"display.useTimePredictions\", \"display.ageLimit\"}) protected void refreshCache()", "class_method_signature": "InferenceInputQueueListenerTask.refreshCache()", "testcase": false, "constructor": false}, {"identifier": "getRefreshCheck", "parameters": "()", "modifiers": "protected", "return": "boolean", "signature": "boolean getRefreshCheck()", "full_signature": "protected boolean getRefreshCheck()", "class_method_signature": "InferenceInputQueueListenerTask.getRefreshCheck()", "testcase": false, "constructor": false}, {"identifier": "getUseTimePredictions", "parameters": "()", "modifiers": "protected", "return": "boolean", "signature": "boolean getUseTimePredictions()", "full_signature": "protected boolean getUseTimePredictions()", "class_method_signature": "InferenceInputQueueListenerTask.getUseTimePredictions()", "testcase": false, "constructor": false}, {"identifier": "getAgeLimit", "parameters": "()", "modifiers": "protected", "return": "long", "signature": "long getAgeLimit()", "full_signature": "protected long getAgeLimit()", "class_method_signature": "InferenceInputQueueListenerTask.getAgeLimit()", "testcase": false, "constructor": false}, {"identifier": "computeTimeDifference", "parameters": "(long timestamp)", "modifiers": "protected", "return": "long", "signature": "long computeTimeDifference(long timestamp)", "full_signature": "protected long computeTimeDifference(long timestamp)", "class_method_signature": "InferenceInputQueueListenerTask.computeTimeDifference(long timestamp)", "testcase": false, "constructor": false}, {"identifier": "processResult", "parameters": "(NycQueuedInferredLocationBean inferredResult, String contents)", "modifiers": "@Override protected", "return": "void", "signature": "void processResult(NycQueuedInferredLocationBean inferredResult, String contents)", "full_signature": "@Override protected void processResult(NycQueuedInferredLocationBean inferredResult, String contents)", "class_method_signature": "InferenceInputQueueListenerTask.processResult(NycQueuedInferredLocationBean inferredResult, String contents)", "testcase": false, "constructor": false}], "file": "onebusaway-nyc-transit-data-federation/src/main/java/org/onebusaway/nyc/transit_data_federation/impl/queue/InferenceInputQueueListenerTask.java"}, "focal_method": {"identifier": "computeTimeDifference", "parameters": "(long timestamp)", "modifiers": "protected", "return": "long", "body": "protected long computeTimeDifference(long timestamp) {\n\t\treturn (System.currentTimeMillis() - timestamp) / 1000; // output in seconds\n\t}", "signature": "long computeTimeDifference(long timestamp)", "full_signature": "protected long computeTimeDifference(long timestamp)", "class_method_signature": "InferenceInputQueueListenerTask.computeTimeDifference(long timestamp)", "testcase": false, "constructor": false, "invocations": ["currentTimeMillis"]}, "repository": {"repo_id": 2259237, "url": "https://github.com/camsys/onebusaway-nyc", "stars": 38, "created": "8/24/2011 2:52:13 AM +00:00", "updates": "2019-12-21T00:37:49+00:00", "fork": "False", "license": "licensed"}}