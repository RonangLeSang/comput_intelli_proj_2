{"test_class": {"identifier": "TinySALTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final boolean TESTS_ENABLED = false;", "modifier": "private static final", "type": "boolean", "declarator": "TESTS_ENABLED = false", "var_name": "TESTS_ENABLED"}, {"original_string": "private ClientEnv env;", "modifier": "private", "type": "ClientEnv", "declarator": "env", "var_name": "env"}, {"original_string": "private TinySAL instance;", "modifier": "private", "type": "TinySAL", "declarator": "instance", "var_name": "instance"}, {"original_string": "private CardStateMap states;", "modifier": "private", "type": "CardStateMap", "declarator": "states", "var_name": "states"}, {"original_string": "private byte[] contextHandle = null;", "modifier": "private", "type": "byte[]", "declarator": "contextHandle = null", "var_name": "contextHandle"}, {"original_string": "byte[] appIdentifier_ESIGN = Hex.decode(\"A000000167455349474E\");", "modifier": "", "type": "byte[]", "declarator": "appIdentifier_ESIGN = Hex.decode(\"A000000167455349474E\")", "var_name": "appIdentifier_ESIGN"}, {"original_string": "byte[] appIdentifier_ROOT = Hex.decode(\"D2760001448000\");", "modifier": "", "type": "byte[]", "declarator": "appIdentifier_ROOT = Hex.decode(\"D2760001448000\")", "var_name": "appIdentifier_ROOT"}], "file": "sal/tiny-sal/src/test/java/org/openecard/sal/TinySALTest.java"}, "test_case": {"identifier": "testCardApplicationStartSession", "parameters": "()", "modifiers": "@Test(enabled = TESTS_ENABLED) public", "return": "void", "body": "@Test(enabled = TESTS_ENABLED)\n    public void testCardApplicationStartSession() {\n\tSystem.out.println(\"cardApplicationStartSession\");\n\tCardApplicationStartSession parameters = new CardApplicationStartSession();\n\tCardApplicationStartSessionResponse result = instance.cardApplicationStartSession(parameters);\n\tassertEquals(ECardConstants.Major.ERROR, result.getResult().getResultMajor());\n    }", "signature": "void testCardApplicationStartSession()", "full_signature": "@Test(enabled = TESTS_ENABLED) public void testCardApplicationStartSession()", "class_method_signature": "TinySALTest.testCardApplicationStartSession()", "testcase": true, "constructor": false, "invocations": ["println", "cardApplicationStartSession", "assertEquals", "getResultMajor", "getResult"]}, "focal_class": {"identifier": "TinySAL", "superclass": "", "interfaces": "implements SAL", "fields": [{"original_string": "private static final Logger LOG = LoggerFactory.getLogger(TinySAL.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(TinySAL.class)", "var_name": "LOG"}, {"original_string": "private static final byte[] MF = new byte[] {(byte) 0x3F, (byte) 0x00};", "modifier": "private static final", "type": "byte[]", "declarator": "MF = new byte[] {(byte) 0x3F, (byte) 0x00}", "var_name": "MF"}, {"original_string": "private final Environment env;", "modifier": "private final", "type": "Environment", "declarator": "env", "var_name": "env"}, {"original_string": "private final CardStateMap states;", "modifier": "private final", "type": "CardStateMap", "declarator": "states", "var_name": "states"}, {"original_string": "private AddonSelector protocolSelector;", "modifier": "private", "type": "AddonSelector", "declarator": "protocolSelector", "var_name": "protocolSelector"}, {"original_string": "private UserConsent userConsent;", "modifier": "private", "type": "UserConsent", "declarator": "userConsent", "var_name": "userConsent"}], "methods": [{"identifier": "TinySAL", "parameters": "(Environment env, CardStateMap states)", "modifiers": "public", "return": "", "signature": " TinySAL(Environment env, CardStateMap states)", "full_signature": "public  TinySAL(Environment env, CardStateMap states)", "class_method_signature": "TinySAL.TinySAL(Environment env, CardStateMap states)", "testcase": false, "constructor": true}, {"identifier": "setAddonManager", "parameters": "(AddonManager manager)", "modifiers": "public", "return": "void", "signature": "void setAddonManager(AddonManager manager)", "full_signature": "public void setAddonManager(AddonManager manager)", "class_method_signature": "TinySAL.setAddonManager(AddonManager manager)", "testcase": false, "constructor": false}, {"identifier": "initialize", "parameters": "(Initialize request)", "modifiers": "@Override public", "return": "InitializeResponse", "signature": "InitializeResponse initialize(Initialize request)", "full_signature": "@Override public InitializeResponse initialize(Initialize request)", "class_method_signature": "TinySAL.initialize(Initialize request)", "testcase": false, "constructor": false}, {"identifier": "terminate", "parameters": "(Terminate request)", "modifiers": "@Override public", "return": "TerminateResponse", "signature": "TerminateResponse terminate(Terminate request)", "full_signature": "@Override public TerminateResponse terminate(Terminate request)", "class_method_signature": "TinySAL.terminate(Terminate request)", "testcase": false, "constructor": false}, {"identifier": "cardApplicationPath", "parameters": "(CardApplicationPath request)", "modifiers": "@Override public", "return": "CardApplicationPathResponse", "signature": "CardApplicationPathResponse cardApplicationPath(CardApplicationPath request)", "full_signature": "@Override public CardApplicationPathResponse cardApplicationPath(CardApplicationPath request)", "class_method_signature": "TinySAL.cardApplicationPath(CardApplicationPath request)", "testcase": false, "constructor": false}, {"identifier": "cardApplicationConnect", "parameters": "(CardApplicationConnect request)", "modifiers": "@Override public", "return": "CardApplicationConnectResponse", "signature": "CardApplicationConnectResponse cardApplicationConnect(CardApplicationConnect request)", "full_signature": "@Override public CardApplicationConnectResponse cardApplicationConnect(CardApplicationConnect request)", "class_method_signature": "TinySAL.cardApplicationConnect(CardApplicationConnect request)", "testcase": false, "constructor": false}, {"identifier": "cardApplicationSelect", "parameters": "(CardApplicationSelect request)", "modifiers": "@Override public", "return": "CardApplicationSelectResponse", "signature": "CardApplicationSelectResponse cardApplicationSelect(CardApplicationSelect request)", "full_signature": "@Override public CardApplicationSelectResponse cardApplicationSelect(CardApplicationSelect request)", "class_method_signature": "TinySAL.cardApplicationSelect(CardApplicationSelect request)", "testcase": false, "constructor": false}, {"identifier": "cardApplicationDisconnect", "parameters": "(CardApplicationDisconnect request)", "modifiers": "@Override public", "return": "CardApplicationDisconnectResponse", "signature": "CardApplicationDisconnectResponse cardApplicationDisconnect(CardApplicationDisconnect request)", "full_signature": "@Override public CardApplicationDisconnectResponse cardApplicationDisconnect(CardApplicationDisconnect request)", "class_method_signature": "TinySAL.cardApplicationDisconnect(CardApplicationDisconnect request)", "testcase": false, "constructor": false}, {"identifier": "cardApplicationStartSession", "parameters": "(CardApplicationStartSession request)", "modifiers": "@Publish @Override public", "return": "CardApplicationStartSessionResponse", "signature": "CardApplicationStartSessionResponse cardApplicationStartSession(CardApplicationStartSession request)", "full_signature": "@Publish @Override public CardApplicationStartSessionResponse cardApplicationStartSession(CardApplicationStartSession request)", "class_method_signature": "TinySAL.cardApplicationStartSession(CardApplicationStartSession request)", "testcase": false, "constructor": false}, {"identifier": "cardApplicationEndSession", "parameters": "(CardApplicationEndSession request)", "modifiers": "@Publish @Override public", "return": "CardApplicationEndSessionResponse", "signature": "CardApplicationEndSessionResponse cardApplicationEndSession(CardApplicationEndSession request)", "full_signature": "@Publish @Override public CardApplicationEndSessionResponse cardApplicationEndSession(CardApplicationEndSession request)", "class_method_signature": "TinySAL.cardApplicationEndSession(CardApplicationEndSession request)", "testcase": false, "constructor": false}, {"identifier": "cardApplicationList", "parameters": "(CardApplicationList request)", "modifiers": "@Publish @Override public", "return": "CardApplicationListResponse", "signature": "CardApplicationListResponse cardApplicationList(CardApplicationList request)", "full_signature": "@Publish @Override public CardApplicationListResponse cardApplicationList(CardApplicationList request)", "class_method_signature": "TinySAL.cardApplicationList(CardApplicationList request)", "testcase": false, "constructor": false}, {"identifier": "cardApplicationCreate", "parameters": "(CardApplicationCreate request)", "modifiers": "@Override public", "return": "CardApplicationCreateResponse", "signature": "CardApplicationCreateResponse cardApplicationCreate(CardApplicationCreate request)", "full_signature": "@Override public CardApplicationCreateResponse cardApplicationCreate(CardApplicationCreate request)", "class_method_signature": "TinySAL.cardApplicationCreate(CardApplicationCreate request)", "testcase": false, "constructor": false}, {"identifier": "cardApplicationDelete", "parameters": "(CardApplicationDelete request)", "modifiers": "@Override public", "return": "CardApplicationDeleteResponse", "signature": "CardApplicationDeleteResponse cardApplicationDelete(CardApplicationDelete request)", "full_signature": "@Override public CardApplicationDeleteResponse cardApplicationDelete(CardApplicationDelete request)", "class_method_signature": "TinySAL.cardApplicationDelete(CardApplicationDelete request)", "testcase": false, "constructor": false}, {"identifier": "cardApplicationServiceList", "parameters": "(CardApplicationServiceList request)", "modifiers": "@Publish @Override public", "return": "CardApplicationServiceListResponse", "signature": "CardApplicationServiceListResponse cardApplicationServiceList(CardApplicationServiceList request)", "full_signature": "@Publish @Override public CardApplicationServiceListResponse cardApplicationServiceList(CardApplicationServiceList request)", "class_method_signature": "TinySAL.cardApplicationServiceList(CardApplicationServiceList request)", "testcase": false, "constructor": false}, {"identifier": "cardApplicationServiceCreate", "parameters": "(CardApplicationServiceCreate request)", "modifiers": "@Override public", "return": "CardApplicationServiceCreateResponse", "signature": "CardApplicationServiceCreateResponse cardApplicationServiceCreate(CardApplicationServiceCreate request)", "full_signature": "@Override public CardApplicationServiceCreateResponse cardApplicationServiceCreate(CardApplicationServiceCreate request)", "class_method_signature": "TinySAL.cardApplicationServiceCreate(CardApplicationServiceCreate request)", "testcase": false, "constructor": false}, {"identifier": "cardApplicationServiceLoad", "parameters": "(CardApplicationServiceLoad request)", "modifiers": "@Override public", "return": "CardApplicationServiceLoadResponse", "signature": "CardApplicationServiceLoadResponse cardApplicationServiceLoad(CardApplicationServiceLoad request)", "full_signature": "@Override public CardApplicationServiceLoadResponse cardApplicationServiceLoad(CardApplicationServiceLoad request)", "class_method_signature": "TinySAL.cardApplicationServiceLoad(CardApplicationServiceLoad request)", "testcase": false, "constructor": false}, {"identifier": "cardApplicationServiceDelete", "parameters": "(CardApplicationServiceDelete request)", "modifiers": "@Override public", "return": "CardApplicationServiceDeleteResponse", "signature": "CardApplicationServiceDeleteResponse cardApplicationServiceDelete(CardApplicationServiceDelete request)", "full_signature": "@Override public CardApplicationServiceDeleteResponse cardApplicationServiceDelete(CardApplicationServiceDelete request)", "class_method_signature": "TinySAL.cardApplicationServiceDelete(CardApplicationServiceDelete request)", "testcase": false, "constructor": false}, {"identifier": "cardApplicationServiceDescribe", "parameters": "(CardApplicationServiceDescribe request)", "modifiers": "@Publish @Override public", "return": "CardApplicationServiceDescribeResponse", "signature": "CardApplicationServiceDescribeResponse cardApplicationServiceDescribe(CardApplicationServiceDescribe request)", "full_signature": "@Publish @Override public CardApplicationServiceDescribeResponse cardApplicationServiceDescribe(CardApplicationServiceDescribe request)", "class_method_signature": "TinySAL.cardApplicationServiceDescribe(CardApplicationServiceDescribe request)", "testcase": false, "constructor": false}, {"identifier": "executeAction", "parameters": "(ExecuteAction request)", "modifiers": "@Override public", "return": "ExecuteActionResponse", "signature": "ExecuteActionResponse executeAction(ExecuteAction request)", "full_signature": "@Override public ExecuteActionResponse executeAction(ExecuteAction request)", "class_method_signature": "TinySAL.executeAction(ExecuteAction request)", "testcase": false, "constructor": false}, {"identifier": "dataSetList", "parameters": "(DataSetList request)", "modifiers": "@Publish @Override public", "return": "DataSetListResponse", "signature": "DataSetListResponse dataSetList(DataSetList request)", "full_signature": "@Publish @Override public DataSetListResponse dataSetList(DataSetList request)", "class_method_signature": "TinySAL.dataSetList(DataSetList request)", "testcase": false, "constructor": false}, {"identifier": "dataSetCreate", "parameters": "(DataSetCreate request)", "modifiers": "@Override public", "return": "DataSetCreateResponse", "signature": "DataSetCreateResponse dataSetCreate(DataSetCreate request)", "full_signature": "@Override public DataSetCreateResponse dataSetCreate(DataSetCreate request)", "class_method_signature": "TinySAL.dataSetCreate(DataSetCreate request)", "testcase": false, "constructor": false}, {"identifier": "dataSetSelect", "parameters": "(DataSetSelect request)", "modifiers": "@Publish @Override public", "return": "DataSetSelectResponse", "signature": "DataSetSelectResponse dataSetSelect(DataSetSelect request)", "full_signature": "@Publish @Override public DataSetSelectResponse dataSetSelect(DataSetSelect request)", "class_method_signature": "TinySAL.dataSetSelect(DataSetSelect request)", "testcase": false, "constructor": false}, {"identifier": "dataSetDelete", "parameters": "(DataSetDelete request)", "modifiers": "@Override public", "return": "DataSetDeleteResponse", "signature": "DataSetDeleteResponse dataSetDelete(DataSetDelete request)", "full_signature": "@Override public DataSetDeleteResponse dataSetDelete(DataSetDelete request)", "class_method_signature": "TinySAL.dataSetDelete(DataSetDelete request)", "testcase": false, "constructor": false}, {"identifier": "dsiList", "parameters": "(DSIList request)", "modifiers": "@Publish @Override public", "return": "DSIListResponse", "signature": "DSIListResponse dsiList(DSIList request)", "full_signature": "@Publish @Override public DSIListResponse dsiList(DSIList request)", "class_method_signature": "TinySAL.dsiList(DSIList request)", "testcase": false, "constructor": false}, {"identifier": "dsiCreate", "parameters": "(DSICreate request)", "modifiers": "@Override public", "return": "DSICreateResponse", "signature": "DSICreateResponse dsiCreate(DSICreate request)", "full_signature": "@Override public DSICreateResponse dsiCreate(DSICreate request)", "class_method_signature": "TinySAL.dsiCreate(DSICreate request)", "testcase": false, "constructor": false}, {"identifier": "dsiDelete", "parameters": "(DSIDelete request)", "modifiers": "@Override public", "return": "DSIDeleteResponse", "signature": "DSIDeleteResponse dsiDelete(DSIDelete request)", "full_signature": "@Override public DSIDeleteResponse dsiDelete(DSIDelete request)", "class_method_signature": "TinySAL.dsiDelete(DSIDelete request)", "testcase": false, "constructor": false}, {"identifier": "dsiWrite", "parameters": "(DSIWrite request)", "modifiers": "@Publish @Override public", "return": "DSIWriteResponse", "signature": "DSIWriteResponse dsiWrite(DSIWrite request)", "full_signature": "@Publish @Override public DSIWriteResponse dsiWrite(DSIWrite request)", "class_method_signature": "TinySAL.dsiWrite(DSIWrite request)", "testcase": false, "constructor": false}, {"identifier": "dsiRead", "parameters": "(DSIRead request)", "modifiers": "@Publish @Override public", "return": "DSIReadResponse", "signature": "DSIReadResponse dsiRead(DSIRead request)", "full_signature": "@Publish @Override public DSIReadResponse dsiRead(DSIRead request)", "class_method_signature": "TinySAL.dsiRead(DSIRead request)", "testcase": false, "constructor": false}, {"identifier": "encipher", "parameters": "(Encipher request)", "modifiers": "@Publish @Override public", "return": "EncipherResponse", "signature": "EncipherResponse encipher(Encipher request)", "full_signature": "@Publish @Override public EncipherResponse encipher(Encipher request)", "class_method_signature": "TinySAL.encipher(Encipher request)", "testcase": false, "constructor": false}, {"identifier": "decipher", "parameters": "(Decipher request)", "modifiers": "@Override public", "return": "DecipherResponse", "signature": "DecipherResponse decipher(Decipher request)", "full_signature": "@Override public DecipherResponse decipher(Decipher request)", "class_method_signature": "TinySAL.decipher(Decipher request)", "testcase": false, "constructor": false}, {"identifier": "getRandom", "parameters": "(GetRandom request)", "modifiers": "@Publish @Override public", "return": "GetRandomResponse", "signature": "GetRandomResponse getRandom(GetRandom request)", "full_signature": "@Publish @Override public GetRandomResponse getRandom(GetRandom request)", "class_method_signature": "TinySAL.getRandom(GetRandom request)", "testcase": false, "constructor": false}, {"identifier": "hash", "parameters": "(Hash request)", "modifiers": "@Publish @Override public", "return": "HashResponse", "signature": "HashResponse hash(Hash request)", "full_signature": "@Publish @Override public HashResponse hash(Hash request)", "class_method_signature": "TinySAL.hash(Hash request)", "testcase": false, "constructor": false}, {"identifier": "sign", "parameters": "(Sign request)", "modifiers": "@Override public", "return": "SignResponse", "signature": "SignResponse sign(Sign request)", "full_signature": "@Override public SignResponse sign(Sign request)", "class_method_signature": "TinySAL.sign(Sign request)", "testcase": false, "constructor": false}, {"identifier": "verifySignature", "parameters": "(VerifySignature request)", "modifiers": "@Override public", "return": "VerifySignatureResponse", "signature": "VerifySignatureResponse verifySignature(VerifySignature request)", "full_signature": "@Override public VerifySignatureResponse verifySignature(VerifySignature request)", "class_method_signature": "TinySAL.verifySignature(VerifySignature request)", "testcase": false, "constructor": false}, {"identifier": "verifyCertificate", "parameters": "(VerifyCertificate request)", "modifiers": "@Override public", "return": "VerifyCertificateResponse", "signature": "VerifyCertificateResponse verifyCertificate(VerifyCertificate request)", "full_signature": "@Override public VerifyCertificateResponse verifyCertificate(VerifyCertificate request)", "class_method_signature": "TinySAL.verifyCertificate(VerifyCertificate request)", "testcase": false, "constructor": false}, {"identifier": "didList", "parameters": "(DIDList request)", "modifiers": "@Publish @Override public", "return": "DIDListResponse", "signature": "DIDListResponse didList(DIDList request)", "full_signature": "@Publish @Override public DIDListResponse didList(DIDList request)", "class_method_signature": "TinySAL.didList(DIDList request)", "testcase": false, "constructor": false}, {"identifier": "didCreate", "parameters": "(DIDCreate request)", "modifiers": "@Override public", "return": "DIDCreateResponse", "signature": "DIDCreateResponse didCreate(DIDCreate request)", "full_signature": "@Override public DIDCreateResponse didCreate(DIDCreate request)", "class_method_signature": "TinySAL.didCreate(DIDCreate request)", "testcase": false, "constructor": false}, {"identifier": "didGet", "parameters": "(DIDGet request)", "modifiers": "@Publish @Override public", "return": "DIDGetResponse", "signature": "DIDGetResponse didGet(DIDGet request)", "full_signature": "@Publish @Override public DIDGetResponse didGet(DIDGet request)", "class_method_signature": "TinySAL.didGet(DIDGet request)", "testcase": false, "constructor": false}, {"identifier": "didUpdate", "parameters": "(DIDUpdate request)", "modifiers": "@Override public", "return": "DIDUpdateResponse", "signature": "DIDUpdateResponse didUpdate(DIDUpdate request)", "full_signature": "@Override public DIDUpdateResponse didUpdate(DIDUpdate request)", "class_method_signature": "TinySAL.didUpdate(DIDUpdate request)", "testcase": false, "constructor": false}, {"identifier": "didDelete", "parameters": "(DIDDelete request)", "modifiers": "@Override public", "return": "DIDDeleteResponse", "signature": "DIDDeleteResponse didDelete(DIDDelete request)", "full_signature": "@Override public DIDDeleteResponse didDelete(DIDDelete request)", "class_method_signature": "TinySAL.didDelete(DIDDelete request)", "testcase": false, "constructor": false}, {"identifier": "didAuthenticate", "parameters": "(DIDAuthenticate request)", "modifiers": "@Publish @Override public", "return": "DIDAuthenticateResponse", "signature": "DIDAuthenticateResponse didAuthenticate(DIDAuthenticate request)", "full_signature": "@Publish @Override public DIDAuthenticateResponse didAuthenticate(DIDAuthenticate request)", "class_method_signature": "TinySAL.didAuthenticate(DIDAuthenticate request)", "testcase": false, "constructor": false}, {"identifier": "aclList", "parameters": "(ACLList request)", "modifiers": "@Publish @Override public", "return": "ACLListResponse", "signature": "ACLListResponse aclList(ACLList request)", "full_signature": "@Publish @Override public ACLListResponse aclList(ACLList request)", "class_method_signature": "TinySAL.aclList(ACLList request)", "testcase": false, "constructor": false}, {"identifier": "aclModify", "parameters": "(ACLModify request)", "modifiers": "@Override public", "return": "ACLModifyResponse", "signature": "ACLModifyResponse aclModify(ACLModify request)", "full_signature": "@Override public ACLModifyResponse aclModify(ACLModify request)", "class_method_signature": "TinySAL.aclModify(ACLModify request)", "testcase": false, "constructor": false}, {"identifier": "setGUI", "parameters": "(UserConsent uc)", "modifiers": "public", "return": "void", "signature": "void setGUI(UserConsent uc)", "full_signature": "public void setGUI(UserConsent uc)", "class_method_signature": "TinySAL.setGUI(UserConsent uc)", "testcase": false, "constructor": false}, {"identifier": "removeFinishedProtocol", "parameters": "(ConnectionHandleType handle, String protocolURI, SALProtocol protocol)", "modifiers": "private", "return": "void", "signature": "void removeFinishedProtocol(ConnectionHandleType handle, String protocolURI, SALProtocol protocol)", "full_signature": "private void removeFinishedProtocol(ConnectionHandleType handle, String protocolURI, SALProtocol protocol)", "class_method_signature": "TinySAL.removeFinishedProtocol(ConnectionHandleType handle, String protocolURI, SALProtocol protocol)", "testcase": false, "constructor": false}, {"identifier": "getProtocol", "parameters": "(@Nonnull ConnectionHandleType handle, @Nullable DIDScopeType scope,\n\t    @Nonnull String protocolURI)", "modifiers": "private", "return": "SALProtocol", "signature": "SALProtocol getProtocol(@Nonnull ConnectionHandleType handle, @Nullable DIDScopeType scope,\n\t    @Nonnull String protocolURI)", "full_signature": "private SALProtocol getProtocol(@Nonnull ConnectionHandleType handle, @Nullable DIDScopeType scope,\n\t    @Nonnull String protocolURI)", "class_method_signature": "TinySAL.getProtocol(@Nonnull ConnectionHandleType handle, @Nullable DIDScopeType scope,\n\t    @Nonnull String protocolURI)", "testcase": false, "constructor": false}, {"identifier": "createFakeFCP", "parameters": "(byte[] fid)", "modifiers": "private", "return": "byte[]", "signature": "byte[] createFakeFCP(byte[] fid)", "full_signature": "private byte[] createFakeFCP(byte[] fid)", "class_method_signature": "TinySAL.createFakeFCP(byte[] fid)", "testcase": false, "constructor": false}, {"identifier": "setPinNotAuth", "parameters": "(@Nullable CardStateEntry cardStateEntry)", "modifiers": "private", "return": "void", "signature": "void setPinNotAuth(@Nullable CardStateEntry cardStateEntry)", "full_signature": "private void setPinNotAuth(@Nullable CardStateEntry cardStateEntry)", "class_method_signature": "TinySAL.setPinNotAuth(@Nullable CardStateEntry cardStateEntry)", "testcase": false, "constructor": false}, {"identifier": "throwThreadKillException", "parameters": "(Exception ex)", "modifiers": "private", "return": "void", "signature": "void throwThreadKillException(Exception ex)", "full_signature": "private void throwThreadKillException(Exception ex)", "class_method_signature": "TinySAL.throwThreadKillException(Exception ex)", "testcase": false, "constructor": false}], "file": "sal/tiny-sal/src/main/java/org/openecard/sal/TinySAL.java"}, "focal_method": {"identifier": "cardApplicationStartSession", "parameters": "(CardApplicationStartSession request)", "modifiers": "@Publish @Override public", "return": "CardApplicationStartSessionResponse", "body": "@Publish\n    @Override\n    public CardApplicationStartSessionResponse cardApplicationStartSession(CardApplicationStartSession request) {\n\tCardApplicationStartSessionResponse response = WSHelper.makeResponse(CardApplicationStartSessionResponse.class,\n\t\tWSHelper.makeResultOK());\n\n\ttry {\n\t    ConnectionHandleType connectionHandle = SALUtils.getConnectionHandle(request);\n\t    CardStateEntry cardStateEntry = SALUtils.getCardStateEntry(states, connectionHandle);\n\t    byte[] cardApplicationID = connectionHandle.getCardApplication();\n\t    \n\t    String didName = SALUtils.getDIDName(request);\n\t    Assert.assertIncorrectParameter(didName, \"The parameter didName is empty.\");\n\n\t    DIDAuthenticationDataType didAuthenticationProtocolData = request.getAuthenticationProtocolData();\n\t    Assert.assertIncorrectParameter(didAuthenticationProtocolData,\n\t\t    \"The parameter didAuthenticationProtocolData is empty.\");\n\n\t    DIDStructureType didStructure = cardStateEntry.getDIDStructure(didName, cardApplicationID);\n\t    Assert.assertNamedEntityNotFound(didStructure, \"The given DIDName cannot be found.\");\n\t    Assert.securityConditionApplication(cardStateEntry, cardApplicationID,\n\t\t    ConnectionServiceActionName.CARD_APPLICATION_START_SESSION);\n\n\t    String protocolURI = didStructure.getDIDMarker().getProtocol();\n\t    SALProtocol protocol = getProtocol(connectionHandle, request.getDIDScope(), protocolURI);\n\t    if (protocol.hasNextStep(FunctionType.CardApplicationStartSession)) {\n\t\tresponse = protocol.cardApplicationStartSession(request);\n\t\tremoveFinishedProtocol(connectionHandle, protocolURI, protocol);\n\t    } else {\n\t\tthrow new InappropriateProtocolForActionException(\"CardApplicationStartSession\", protocol.toString());\n\t    }\n\t} catch (ECardException e) {\n\t    response.setResult(e.getResult());\n\t} catch (Exception e) {\n\t    LOG.error(e.getMessage(), e);\n\t    throwThreadKillException(e);\n\t    response.setResult(WSHelper.makeResult(e));\n\t}\n\n\treturn response;\n    }", "signature": "CardApplicationStartSessionResponse cardApplicationStartSession(CardApplicationStartSession request)", "full_signature": "@Publish @Override public CardApplicationStartSessionResponse cardApplicationStartSession(CardApplicationStartSession request)", "class_method_signature": "TinySAL.cardApplicationStartSession(CardApplicationStartSession request)", "testcase": false, "constructor": false, "invocations": ["makeResponse", "makeResultOK", "getConnectionHandle", "getCardStateEntry", "getCardApplication", "getDIDName", "assertIncorrectParameter", "getAuthenticationProtocolData", "assertIncorrectParameter", "getDIDStructure", "assertNamedEntityNotFound", "securityConditionApplication", "getProtocol", "getDIDMarker", "getProtocol", "getDIDScope", "hasNextStep", "cardApplicationStartSession", "removeFinishedProtocol", "toString", "setResult", "getResult", "error", "getMessage", "throwThreadKillException", "setResult", "makeResult"]}, "repository": {"repo_id": 4614129, "url": "https://github.com/ecsec/open-ecard", "stars": 83, "created": "6/10/2012 10:03:07 AM +00:00", "updates": "2020-01-09T21:25:04+00:00", "fork": "False", "license": "licensed"}}