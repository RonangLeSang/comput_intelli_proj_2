{"test_class": {"identifier": "OsgiComponentTest", "superclass": "", "interfaces": "", "fields": [], "file": "component/src/test/java/org/apache/camel/osgi/service/OsgiComponentTest.java"}, "test_case": {"identifier": "testConvertValue", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testConvertValue() throws Exception {\n        Bundle bundle = mock(Bundle.class);\n        BundleDelegatingClassLoader classLoader = new BundleDelegatingClassLoader(bundle, getClass().getClassLoader());\n\n        TypeConverter typeConverter = mock(TypeConverter.class);\n        when(typeConverter.convertTo(Integer.class, \"1\")).thenReturn(1);\n        when(typeConverter.convertTo(Long.class, \"2\")).thenReturn(null);\n                \n        CamelContext camelContext = mock(CamelContext.class);\n        when(camelContext.getApplicationContextClassLoader()).thenReturn(classLoader);\n        when(camelContext.getTypeConverter()).thenReturn(typeConverter);\n\n        OsgiComponent component = new OsgiComponent();\n        component.setCamelContext(camelContext);\n\n        assertThat((Integer) component.convertValue(\"1\", Integer.class), equalTo(1));\n        assertThat((String) component.convertValue(\"2\", Long.class), equalTo(\"2\"));\n\n        verify(typeConverter).convertTo(same(Integer.class), eq(\"1\"));\n        verify(typeConverter).convertTo(same(Long.class), eq(\"2\"));\n    }", "signature": "void testConvertValue()", "full_signature": "@Test public void testConvertValue()", "class_method_signature": "OsgiComponentTest.testConvertValue()", "testcase": true, "constructor": false, "invocations": ["mock", "getClassLoader", "getClass", "mock", "thenReturn", "when", "convertTo", "thenReturn", "when", "convertTo", "mock", "thenReturn", "when", "getApplicationContextClassLoader", "thenReturn", "when", "getTypeConverter", "setCamelContext", "assertThat", "convertValue", "equalTo", "assertThat", "convertValue", "equalTo", "convertTo", "verify", "same", "eq", "convertTo", "verify", "same", "eq"]}, "focal_class": {"identifier": "OsgiComponent", "superclass": "extends DefaultComponent", "interfaces": "", "fields": [{"original_string": "protected static final String SERVICE_NAME_PROP = \"camelOsgiEndpointName\";", "modifier": "protected static final", "type": "String", "declarator": "SERVICE_NAME_PROP = \"camelOsgiEndpointName\"", "var_name": "SERVICE_NAME_PROP"}, {"original_string": "protected static final String OBJECT_CLASS = Processor.class.getName();", "modifier": "protected static final", "type": "String", "declarator": "OBJECT_CLASS = Processor.class.getName()", "var_name": "OBJECT_CLASS"}], "methods": [{"identifier": "createEndpoint", "parameters": "(String uri, String path, Map<String, Object> params)", "modifiers": "@Override protected", "return": "Endpoint", "signature": "Endpoint createEndpoint(String uri, String path, Map<String, Object> params)", "full_signature": "@Override protected Endpoint createEndpoint(String uri, String path, Map<String, Object> params)", "class_method_signature": "OsgiComponent.createEndpoint(String uri, String path, Map<String, Object> params)", "testcase": false, "constructor": false}, {"identifier": "convertProperties", "parameters": "(Map<String, Object> props)", "modifiers": "protected", "return": "void", "signature": "void convertProperties(Map<String, Object> props)", "full_signature": "protected void convertProperties(Map<String, Object> props)", "class_method_signature": "OsgiComponent.convertProperties(Map<String, Object> props)", "testcase": false, "constructor": false}, {"identifier": "convertValue", "parameters": "(Object value, Class<?> clazz)", "modifiers": "protected", "return": "Object", "signature": "Object convertValue(Object value, Class<?> clazz)", "full_signature": "protected Object convertValue(Object value, Class<?> clazz)", "class_method_signature": "OsgiComponent.convertValue(Object value, Class<?> clazz)", "testcase": false, "constructor": false}, {"identifier": "useIntrospectionOnEndpoint", "parameters": "()", "modifiers": "@Override protected", "return": "boolean", "signature": "boolean useIntrospectionOnEndpoint()", "full_signature": "@Override protected boolean useIntrospectionOnEndpoint()", "class_method_signature": "OsgiComponent.useIntrospectionOnEndpoint()", "testcase": false, "constructor": false}], "file": "component/src/main/java/org/apache/camel/osgi/service/OsgiComponent.java"}, "focal_method": {"identifier": "convertValue", "parameters": "(Object value, Class<?> clazz)", "modifiers": "protected", "return": "Object", "body": "protected Object convertValue(Object value, Class<?> clazz) {\n        TypeConverter converter = getCamelContext().getTypeConverter();\n        \n        Object answer = converter.convertTo(clazz, value);\n        return answer != null ? answer : value;\n    }", "signature": "Object convertValue(Object value, Class<?> clazz)", "full_signature": "protected Object convertValue(Object value, Class<?> clazz)", "class_method_signature": "OsgiComponent.convertValue(Object value, Class<?> clazz)", "testcase": false, "constructor": false, "invocations": ["getTypeConverter", "getCamelContext", "convertTo"]}, "repository": {"repo_id": 3699746, "url": "https://github.com/szhem/camel-osgi", "language": "Java", "is_fork": false, "fork_count": 5, "stargazer_count": 8, "size": 199, "license": "licensed"}}