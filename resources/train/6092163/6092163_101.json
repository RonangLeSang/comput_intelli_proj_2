{"test_class": {"identifier": "TestTranslatorUtil", "superclass": "", "interfaces": "", "fields": [], "file": "runtime/src/test/java/org/teiid/deployers/TestTranslatorUtil.java"}, "test_case": {"identifier": "testBuildExecutionFactory1", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test public void testBuildExecutionFactory1() throws Exception {\n        VDBTranslatorMetaData tm = new VDBTranslatorMetaData();\n\n        tm.addProperty(\"someproperty\", \"correctly-assigned\");\n        tm.setExecutionFactoryClass(MyTranslator1.class);\n        MyTranslator1 my = (MyTranslator1)TranslatorUtil.buildExecutionFactory(tm);\n\n        assertNull(my.getMyProperty());\n        assertEquals(\"correctly-assigned\", my.getSomeProperty());\n    }", "signature": "void testBuildExecutionFactory1()", "full_signature": "@Test public void testBuildExecutionFactory1()", "class_method_signature": "TestTranslatorUtil.testBuildExecutionFactory1()", "testcase": true, "constructor": false, "invocations": ["addProperty", "setExecutionFactoryClass", "buildExecutionFactory", "assertNull", "getMyProperty", "assertEquals", "getSomeProperty"]}, "focal_class": {"identifier": "TranslatorUtil", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final String DEPLOYMENT_NAME = \"deployment-name\";", "modifier": "public static final", "type": "String", "declarator": "DEPLOYMENT_NAME = \"deployment-name\"", "var_name": "DEPLOYMENT_NAME"}], "methods": [{"identifier": "getTranslatorProperties", "parameters": "(Class<?> attachmentClass)", "modifiers": "static", "return": "Map<Method, TranslatorProperty>", "signature": "Map<Method, TranslatorProperty> getTranslatorProperties(Class<?> attachmentClass)", "full_signature": "static Map<Method, TranslatorProperty> getTranslatorProperties(Class<?> attachmentClass)", "class_method_signature": "TranslatorUtil.getTranslatorProperties(Class<?> attachmentClass)", "testcase": false, "constructor": false}, {"identifier": "getExtensionMetadataProperties", "parameters": "(Class<?> attachmentClass)", "modifiers": "static", "return": "Map<Field, ExtensionMetadataProperty>", "signature": "Map<Field, ExtensionMetadataProperty> getExtensionMetadataProperties(Class<?> attachmentClass)", "full_signature": "static Map<Field, ExtensionMetadataProperty> getExtensionMetadataProperties(Class<?> attachmentClass)", "class_method_signature": "TranslatorUtil.getExtensionMetadataProperties(Class<?> attachmentClass)", "testcase": false, "constructor": false}, {"identifier": "buildTranslatorProperties", "parameters": "(Class<?> attachmentClass, Map<Method, TranslatorProperty> props)", "modifiers": "private static", "return": "void", "signature": "void buildTranslatorProperties(Class<?> attachmentClass, Map<Method, TranslatorProperty> props)", "full_signature": "private static void buildTranslatorProperties(Class<?> attachmentClass, Map<Method, TranslatorProperty> props)", "class_method_signature": "TranslatorUtil.buildTranslatorProperties(Class<?> attachmentClass, Map<Method, TranslatorProperty> props)", "testcase": false, "constructor": false}, {"identifier": "buildExtensionMetadataProperties", "parameters": "(Class<?> attachmentClass, Map<Field, ExtensionMetadataProperty> props)", "modifiers": "private static", "return": "void", "signature": "void buildExtensionMetadataProperties(Class<?> attachmentClass, Map<Field, ExtensionMetadataProperty> props)", "full_signature": "private static void buildExtensionMetadataProperties(Class<?> attachmentClass, Map<Field, ExtensionMetadataProperty> props)", "class_method_signature": "TranslatorUtil.buildExtensionMetadataProperties(Class<?> attachmentClass, Map<Field, ExtensionMetadataProperty> props)", "testcase": false, "constructor": false}, {"identifier": "buildExecutionFactory", "parameters": "(VDBTranslatorMetaData data)", "modifiers": "public static", "return": "ExecutionFactory", "signature": "ExecutionFactory buildExecutionFactory(VDBTranslatorMetaData data)", "full_signature": "public static ExecutionFactory buildExecutionFactory(VDBTranslatorMetaData data)", "class_method_signature": "TranslatorUtil.buildExecutionFactory(VDBTranslatorMetaData data)", "testcase": false, "constructor": false}, {"identifier": "buildDelegateAwareExecutionFactory", "parameters": "(\n            VDBTranslatorMetaData translator, ExecutionFactoryProvider provider)", "modifiers": "public static", "return": "ExecutionFactory<Object, Object>", "signature": "ExecutionFactory<Object, Object> buildDelegateAwareExecutionFactory(\n            VDBTranslatorMetaData translator, ExecutionFactoryProvider provider)", "full_signature": "public static ExecutionFactory<Object, Object> buildDelegateAwareExecutionFactory(\n            VDBTranslatorMetaData translator, ExecutionFactoryProvider provider)", "class_method_signature": "TranslatorUtil.buildDelegateAwareExecutionFactory(\n            VDBTranslatorMetaData translator, ExecutionFactoryProvider provider)", "testcase": false, "constructor": false}, {"identifier": "injectProperties", "parameters": "(ExecutionFactory ef, final VDBTranslatorMetaData data)", "modifiers": "private static", "return": "void", "signature": "void injectProperties(ExecutionFactory ef, final VDBTranslatorMetaData data)", "full_signature": "private static void injectProperties(ExecutionFactory ef, final VDBTranslatorMetaData data)", "class_method_signature": "TranslatorUtil.injectProperties(ExecutionFactory ef, final VDBTranslatorMetaData data)", "testcase": false, "constructor": false}, {"identifier": "getPropertyName", "parameters": "(Method method)", "modifiers": "public static", "return": "String", "signature": "String getPropertyName(Method method)", "full_signature": "public static String getPropertyName(Method method)", "class_method_signature": "TranslatorUtil.getPropertyName(Method method)", "testcase": false, "constructor": false}, {"identifier": "getSetter", "parameters": "(Class<?> clazz, Method method)", "modifiers": "public static", "return": "Method", "signature": "Method getSetter(Class<?> clazz, Method method)", "full_signature": "public static Method getSetter(Class<?> clazz, Method method)", "class_method_signature": "TranslatorUtil.getSetter(Class<?> clazz, Method method)", "testcase": false, "constructor": false}, {"identifier": "convert", "parameters": "(Object value, Class<?> type)", "modifiers": "private static", "return": "Object", "signature": "Object convert(Object value, Class<?> type)", "full_signature": "private static Object convert(Object value, Class<?> type)", "class_method_signature": "TranslatorUtil.convert(Object value, Class<?> type)", "testcase": false, "constructor": false}, {"identifier": "getTranslatorName", "parameters": "(ExecutionFactory factory)", "modifiers": "public static", "return": "String", "signature": "String getTranslatorName(ExecutionFactory factory)", "full_signature": "public static String getTranslatorName(ExecutionFactory factory)", "class_method_signature": "TranslatorUtil.getTranslatorName(ExecutionFactory factory)", "testcase": false, "constructor": false}, {"identifier": "buildTranslatorMetadata", "parameters": "(ExecutionFactory factory, String moduleName)", "modifiers": "public static", "return": "VDBTranslatorMetaData", "signature": "VDBTranslatorMetaData buildTranslatorMetadata(ExecutionFactory factory, String moduleName)", "full_signature": "public static VDBTranslatorMetaData buildTranslatorMetadata(ExecutionFactory factory, String moduleName)", "class_method_signature": "TranslatorUtil.buildTranslatorMetadata(ExecutionFactory factory, String moduleName)", "testcase": false, "constructor": false}, {"identifier": "buildTranslatorMetadata", "parameters": "(ExecutionFactory factory, String moduleName, boolean useNewInstance)", "modifiers": "public static", "return": "VDBTranslatorMetaData", "signature": "VDBTranslatorMetaData buildTranslatorMetadata(ExecutionFactory factory, String moduleName, boolean useNewInstance)", "full_signature": "public static VDBTranslatorMetaData buildTranslatorMetadata(ExecutionFactory factory, String moduleName, boolean useNewInstance)", "class_method_signature": "TranslatorUtil.buildTranslatorMetadata(ExecutionFactory factory, String moduleName, boolean useNewInstance)", "testcase": false, "constructor": false}, {"identifier": "buildExtensionMetadataProperties", "parameters": "(ExecutionFactory factory, VDBTranslatorMetaData metadata, ExtendedPropertyMetadataList propertyDefns, Object instance)", "modifiers": "private static", "return": "void", "signature": "void buildExtensionMetadataProperties(ExecutionFactory factory, VDBTranslatorMetaData metadata, ExtendedPropertyMetadataList propertyDefns, Object instance)", "full_signature": "private static void buildExtensionMetadataProperties(ExecutionFactory factory, VDBTranslatorMetaData metadata, ExtendedPropertyMetadataList propertyDefns, Object instance)", "class_method_signature": "TranslatorUtil.buildExtensionMetadataProperties(ExecutionFactory factory, VDBTranslatorMetaData metadata, ExtendedPropertyMetadataList propertyDefns, Object instance)", "testcase": false, "constructor": false}, {"identifier": "buildTranslatorProperties", "parameters": "(ExecutionFactory factory, VDBTranslatorMetaData metadata, ExtendedPropertyMetadataList propertyDefns, Object instance)", "modifiers": "private static", "return": "void", "signature": "void buildTranslatorProperties(ExecutionFactory factory, VDBTranslatorMetaData metadata, ExtendedPropertyMetadataList propertyDefns, Object instance)", "full_signature": "private static void buildTranslatorProperties(ExecutionFactory factory, VDBTranslatorMetaData metadata, ExtendedPropertyMetadataList propertyDefns, Object instance)", "class_method_signature": "TranslatorUtil.buildTranslatorProperties(ExecutionFactory factory, VDBTranslatorMetaData metadata, ExtendedPropertyMetadataList propertyDefns, Object instance)", "testcase": false, "constructor": false}, {"identifier": "readExtensionPropertyMetadataAsExtendedMetadataProperties", "parameters": "(\n            ExtendedPropertyMetadataList propertyDefns, Class clazz)", "modifiers": "private static", "return": "void", "signature": "void readExtensionPropertyMetadataAsExtendedMetadataProperties(\n            ExtendedPropertyMetadataList propertyDefns, Class clazz)", "full_signature": "private static void readExtensionPropertyMetadataAsExtendedMetadataProperties(\n            ExtendedPropertyMetadataList propertyDefns, Class clazz)", "class_method_signature": "TranslatorUtil.readExtensionPropertyMetadataAsExtendedMetadataProperties(\n            ExtendedPropertyMetadataList propertyDefns, Class clazz)", "testcase": false, "constructor": false}, {"identifier": "readTranslatorPropertyAsExtendedMetadataProperties", "parameters": "(\n            VDBTranslatorMetaData metadata,\n            ExtendedPropertyMetadataList propertyDefns, Object instance,\n            Class clazz)", "modifiers": "private static", "return": "void", "signature": "void readTranslatorPropertyAsExtendedMetadataProperties(\n            VDBTranslatorMetaData metadata,\n            ExtendedPropertyMetadataList propertyDefns, Object instance,\n            Class clazz)", "full_signature": "private static void readTranslatorPropertyAsExtendedMetadataProperties(\n            VDBTranslatorMetaData metadata,\n            ExtendedPropertyMetadataList propertyDefns, Object instance,\n            Class clazz)", "class_method_signature": "TranslatorUtil.readTranslatorPropertyAsExtendedMetadataProperties(\n            VDBTranslatorMetaData metadata,\n            ExtendedPropertyMetadataList propertyDefns, Object instance,\n            Class clazz)", "testcase": false, "constructor": false}, {"identifier": "convert", "parameters": "(Object instance, Method method, TranslatorProperty prop)", "modifiers": "private static", "return": "Object", "signature": "Object convert(Object instance, Method method, TranslatorProperty prop)", "full_signature": "private static Object convert(Object instance, Method method, TranslatorProperty prop)", "class_method_signature": "TranslatorUtil.convert(Object instance, Method method, TranslatorProperty prop)", "testcase": false, "constructor": false}, {"identifier": "getDefaultValue", "parameters": "(Object instance, Method method, TranslatorProperty prop)", "modifiers": "public static", "return": "Object", "signature": "Object getDefaultValue(Object instance, Method method, TranslatorProperty prop)", "full_signature": "public static Object getDefaultValue(Object instance, Method method, TranslatorProperty prop)", "class_method_signature": "TranslatorUtil.getDefaultValue(Object instance, Method method, TranslatorProperty prop)", "testcase": false, "constructor": false}, {"identifier": "getExecutionFactory", "parameters": "(String name, TranslatorRepository vdbRepo, TranslatorRepository repo, VDBMetaData deployment, IdentityHashMap<Translator, ExecutionFactory<Object, Object>> map, HashSet<String> building)", "modifiers": "@SuppressWarnings({\"rawtypes\",\"unchecked\"}) public static", "return": "ExecutionFactory<Object, Object>", "signature": "ExecutionFactory<Object, Object> getExecutionFactory(String name, TranslatorRepository vdbRepo, TranslatorRepository repo, VDBMetaData deployment, IdentityHashMap<Translator, ExecutionFactory<Object, Object>> map, HashSet<String> building)", "full_signature": "@SuppressWarnings({\"rawtypes\",\"unchecked\"}) public static ExecutionFactory<Object, Object> getExecutionFactory(String name, TranslatorRepository vdbRepo, TranslatorRepository repo, VDBMetaData deployment, IdentityHashMap<Translator, ExecutionFactory<Object, Object>> map, HashSet<String> building)", "class_method_signature": "TranslatorUtil.getExecutionFactory(String name, TranslatorRepository vdbRepo, TranslatorRepository repo, VDBMetaData deployment, IdentityHashMap<Translator, ExecutionFactory<Object, Object>> map, HashSet<String> building)", "testcase": false, "constructor": false}], "file": "runtime/src/main/java/org/teiid/deployers/TranslatorUtil.java"}, "focal_method": {"identifier": "buildExecutionFactory", "parameters": "(VDBTranslatorMetaData data)", "modifiers": "public static", "return": "ExecutionFactory", "body": "public static ExecutionFactory buildExecutionFactory(VDBTranslatorMetaData data) throws TeiidException {\n        ExecutionFactory executionFactory;\n        try {\n            Class<?> executionClass = data.getExecutionFactoryClass();\n            Object o = executionClass.newInstance();\n            if(!(o instanceof ExecutionFactory)) {\n                 throw new TeiidException(RuntimePlugin.Event.TEIID40024, RuntimePlugin.Util.gs(RuntimePlugin.Event.TEIID40024, executionClass));\n            }\n            executionFactory = (ExecutionFactory)o;\n            synchronized (executionFactory) {\n                injectProperties(executionFactory, data);\n                ClassLoader orginalCL = Thread.currentThread().getContextClassLoader();\n                try {\n                    Thread.currentThread().setContextClassLoader(executionFactory.getClass().getClassLoader());\n                    executionFactory.start();\n                } finally {\n                    Thread.currentThread().setContextClassLoader(orginalCL);\n                }\n            }\n            return executionFactory;\n        } catch (InvocationTargetException e) {\n            throw new TeiidException(RuntimePlugin.Event.TEIID40025, e);\n        } catch (IllegalAccessException e) {\n            throw new TeiidException(RuntimePlugin.Event.TEIID40026, e);\n        } catch (InstantiationException e) {\n            throw new TeiidException(CorePlugin.Event.TEIID10036, e);\n        }\n    }", "signature": "ExecutionFactory buildExecutionFactory(VDBTranslatorMetaData data)", "full_signature": "public static ExecutionFactory buildExecutionFactory(VDBTranslatorMetaData data)", "class_method_signature": "TranslatorUtil.buildExecutionFactory(VDBTranslatorMetaData data)", "testcase": false, "constructor": false, "invocations": ["getExecutionFactoryClass", "newInstance", "gs", "injectProperties", "getContextClassLoader", "currentThread", "setContextClassLoader", "currentThread", "getClassLoader", "getClass", "start", "setContextClassLoader", "currentThread"]}, "repository": {"repo_id": 6092163, "url": "https://github.com/teiid/teiid", "stars": 191, "created": "10/5/2012 3:21:04 PM +00:00", "updates": "2020-01-27T20:57:36+00:00", "fork": "False", "license": "licensed"}}