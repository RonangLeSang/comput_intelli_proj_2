{"test_class": {"identifier": "ReportGeneratorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private ReportGenerator reportGenerator;", "modifier": "private", "type": "ReportGenerator", "declarator": "reportGenerator", "var_name": "reportGenerator"}, {"original_string": "private JSONExtractor jsonExtractor;", "modifier": "private", "type": "JSONExtractor", "declarator": "jsonExtractor", "var_name": "jsonExtractor"}], "file": "calvalus-reporting/src/test/java/com/bc/calvalus/reporting/restservice/ws/ReportGeneratorTest.java"}, "test_case": {"identifier": "testGenerateAllQueueJobSummaryBetween", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGenerateAllQueueJobSummaryBetween() throws Exception {\n        reportGenerator = new ReportGenerator();\n        Map<String, List<UsageStatistic>> allUserStatistic = jsonExtractor.getAllQueueUsageBetween(\"2017-01-01\", \"2017-01-30\");\n        String queue = reportGenerator.generateJsonUsageBetween(allUserStatistic, \"jobsInQueue\");\n        assertNotNull(queue);\n        //todo mba*** add more assertion\n    }", "signature": "void testGenerateAllQueueJobSummaryBetween()", "full_signature": "@Test public void testGenerateAllQueueJobSummaryBetween()", "class_method_signature": "ReportGeneratorTest.testGenerateAllQueueJobSummaryBetween()", "testcase": true, "constructor": false, "invocations": ["getAllQueueUsageBetween", "generateJsonUsageBetween", "assertNotNull"]}, "focal_class": {"identifier": "ReportGenerator", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final int KILO_BYTES = 1024;", "modifier": "private static final", "type": "int", "declarator": "KILO_BYTES = 1024", "var_name": "KILO_BYTES"}, {"original_string": "private static final int MILLISECONDS = 1000;", "modifier": "private static final", "type": "int", "declarator": "MILLISECONDS = 1000", "var_name": "MILLISECONDS"}], "methods": [{"identifier": "generateJsonAllUserJobSummary", "parameters": "(Map<String, List<UsageStatistic>> allUserStatisticsMap)", "modifiers": "", "return": "String", "signature": "String generateJsonAllUserJobSummary(Map<String, List<UsageStatistic>> allUserStatisticsMap)", "full_signature": " String generateJsonAllUserJobSummary(Map<String, List<UsageStatistic>> allUserStatisticsMap)", "class_method_signature": "ReportGenerator.generateJsonAllUserJobSummary(Map<String, List<UsageStatistic>> allUserStatisticsMap)", "testcase": false, "constructor": false}, {"identifier": "generateJsonUsageBetween", "parameters": "(Map<String, List<UsageStatistic>> allUserStatisticsMap, String keyToCreate)", "modifiers": "", "return": "String", "signature": "String generateJsonUsageBetween(Map<String, List<UsageStatistic>> allUserStatisticsMap, String keyToCreate)", "full_signature": " String generateJsonUsageBetween(Map<String, List<UsageStatistic>> allUserStatisticsMap, String keyToCreate)", "class_method_signature": "ReportGenerator.generateJsonUsageBetween(Map<String, List<UsageStatistic>> allUserStatisticsMap, String keyToCreate)", "testcase": false, "constructor": false}, {"identifier": "generateTextSingleJob", "parameters": "(UsageStatistic usageStatistic)", "modifiers": "", "return": "String", "signature": "String generateTextSingleJob(UsageStatistic usageStatistic)", "full_signature": " String generateTextSingleJob(UsageStatistic usageStatistic)", "class_method_signature": "ReportGenerator.generateTextSingleJob(UsageStatistic usageStatistic)", "testcase": false, "constructor": false}, {"identifier": "generateJsonSingleJob", "parameters": "(UsageStatistic usageStatistic)", "modifiers": "", "return": "String", "signature": "String generateJsonSingleJob(UsageStatistic usageStatistic)", "full_signature": " String generateJsonSingleJob(UsageStatistic usageStatistic)", "class_method_signature": "ReportGenerator.generateJsonSingleJob(UsageStatistic usageStatistic)", "testcase": false, "constructor": false}, {"identifier": "generateJsonUserSingleJob", "parameters": "(List<UsageStatistic> usageStatistics)", "modifiers": "", "return": "String", "signature": "String generateJsonUserSingleJob(List<UsageStatistic> usageStatistics)", "full_signature": " String generateJsonUserSingleJob(List<UsageStatistic> usageStatistics)", "class_method_signature": "ReportGenerator.generateJsonUserSingleJob(List<UsageStatistic> usageStatistics)", "testcase": false, "constructor": false}, {"identifier": "getSingleJobReportContents", "parameters": "(UsageStatistic usageStatistic)", "modifiers": "private", "return": "List<String>", "signature": "List<String> getSingleJobReportContents(UsageStatistic usageStatistic)", "full_signature": "private List<String> getSingleJobReportContents(UsageStatistic usageStatistic)", "class_method_signature": "ReportGenerator.getSingleJobReportContents(UsageStatistic usageStatistic)", "testcase": false, "constructor": false}, {"identifier": "getMultiJobJsonContents", "parameters": "(List<UsageStatistic> usageStatistics)", "modifiers": "private", "return": "Map<String, String>", "signature": "Map<String, String> getMultiJobJsonContents(List<UsageStatistic> usageStatistics)", "full_signature": "private Map<String, String> getMultiJobJsonContents(List<UsageStatistic> usageStatistics)", "class_method_signature": "ReportGenerator.getMultiJobJsonContents(List<UsageStatistic> usageStatistics)", "testcase": false, "constructor": false}, {"identifier": "getFormattedNumber", "parameters": "(long number)", "modifiers": "private", "return": "String", "signature": "String getFormattedNumber(long number)", "full_signature": "private String getFormattedNumber(long number)", "class_method_signature": "ReportGenerator.getFormattedNumber(long number)", "testcase": false, "constructor": false}, {"identifier": "getElapsedTime", "parameters": "(long totalTime)", "modifiers": "private", "return": "String", "signature": "String getElapsedTime(long totalTime)", "full_signature": "private String getElapsedTime(long totalTime)", "class_method_signature": "ReportGenerator.getElapsedTime(long totalTime)", "testcase": false, "constructor": false}, {"identifier": "getFormattedTime", "parameters": "(long startTime)", "modifiers": "private", "return": "String", "signature": "String getFormattedTime(long startTime)", "full_signature": "private String getFormattedTime(long startTime)", "class_method_signature": "ReportGenerator.getFormattedTime(long startTime)", "testcase": false, "constructor": false}], "file": "calvalus-reporting/src/main/java/com/bc/calvalus/reporting/restservice/ws/ReportGenerator.java"}, "focal_method": {"identifier": "generateJsonUsageBetween", "parameters": "(Map<String, List<UsageStatistic>> allUserStatisticsMap, String keyToCreate)", "modifiers": "", "return": "String", "body": "String generateJsonUsageBetween(Map<String, List<UsageStatistic>> allUserStatisticsMap, String keyToCreate) {\n        List<Map<String, String>> multiJobJsonContentsPerUserMap = new ArrayList<>();\n        allUserStatisticsMap.forEach((key, usageStatisticsList) -> {\n            Map<String, String> multiJobJsonContentsPerUser = getMultiJobJsonContents(usageStatisticsList);\n            if (multiJobJsonContentsPerUser != null) {\n                multiJobJsonContentsPerUser.put(keyToCreate, key);\n                multiJobJsonContentsPerUserMap.add(multiJobJsonContentsPerUser);\n            }\n        });\n        Gson gson = new Gson();\n        return gson.toJson(multiJobJsonContentsPerUserMap);\n    }", "signature": "String generateJsonUsageBetween(Map<String, List<UsageStatistic>> allUserStatisticsMap, String keyToCreate)", "full_signature": " String generateJsonUsageBetween(Map<String, List<UsageStatistic>> allUserStatisticsMap, String keyToCreate)", "class_method_signature": "ReportGenerator.generateJsonUsageBetween(Map<String, List<UsageStatistic>> allUserStatisticsMap, String keyToCreate)", "testcase": false, "constructor": false, "invocations": ["forEach", "getMultiJobJsonContents", "put", "add", "toJson"]}, "repository": {"repo_id": 542927, "url": "https://github.com/bcdev/calvalus2", "language": "Java", "is_fork": false, "fork_count": 4, "stargazer_count": 12, "size": 126408, "license": "licensed"}}