{"test_class": {"identifier": "MosaicGridTest", "superclass": "", "interfaces": "", "fields": [], "file": "calvalus-processing/src/test/java/com/bc/calvalus/processing/mosaic/MosaicGridTest.java"}, "test_case": {"identifier": "testDegreeToTileY", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testDegreeToTileY() throws Exception {\n        MosaicGrid mosaicGrid = new MosaicGrid();\n        assertEquals(0, mosaicGrid.degreeToTileY(90.0), 1e-5);\n        assertEquals(1, mosaicGrid.degreeToTileY(89.0), 1e-5);\n        assertEquals(90, mosaicGrid.degreeToTileY(0.0), 1e-5);\n        assertEquals(180, mosaicGrid.degreeToTileY(-90.0), 1e-5);\n    }", "signature": "void testDegreeToTileY()", "full_signature": "@Test public void testDegreeToTileY()", "class_method_signature": "MosaicGridTest.testDegreeToTileY()", "testcase": true, "constructor": false, "invocations": ["assertEquals", "degreeToTileY", "assertEquals", "degreeToTileY", "assertEquals", "degreeToTileY", "assertEquals", "degreeToTileY"]}, "focal_class": {"identifier": "MosaicGrid", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger LOG = CalvalusLogger.getLogger();", "modifier": "private static final", "type": "Logger", "declarator": "LOG = CalvalusLogger.getLogger()", "var_name": "LOG"}, {"original_string": "private final int gridWidth;", "modifier": "private final", "type": "int", "declarator": "gridWidth", "var_name": "gridWidth"}, {"original_string": "private final int gridHeight;", "modifier": "private final", "type": "int", "declarator": "gridHeight", "var_name": "gridHeight"}, {"original_string": "private final int tileSize;", "modifier": "private final", "type": "int", "declarator": "tileSize", "var_name": "tileSize"}, {"original_string": "private final boolean withIntersectionCheck;", "modifier": "private final", "type": "boolean", "declarator": "withIntersectionCheck", "var_name": "withIntersectionCheck"}, {"original_string": "private final double pixelSize;", "modifier": "private final", "type": "double", "declarator": "pixelSize", "var_name": "pixelSize"}, {"original_string": "private final int numTileX;", "modifier": "private final", "type": "int", "declarator": "numTileX", "var_name": "numTileX"}, {"original_string": "private final int macroTileSize;", "modifier": "private final", "type": "int", "declarator": "macroTileSize", "var_name": "macroTileSize"}, {"original_string": "private final int numTileY;", "modifier": "private final", "type": "int", "declarator": "numTileY", "var_name": "numTileY"}, {"original_string": "private GeometryFactory geometryFactory;", "modifier": "private", "type": "GeometryFactory", "declarator": "geometryFactory", "var_name": "geometryFactory"}, {"original_string": "Rectangle macroTileRegion;", "modifier": "", "type": "Rectangle", "declarator": "macroTileRegion", "var_name": "macroTileRegion"}, {"original_string": "int macroTileStepY;", "modifier": "", "type": "int", "declarator": "macroTileStepY", "var_name": "macroTileStepY"}, {"original_string": "int macroTileStepX;", "modifier": "", "type": "int", "declarator": "macroTileStepX", "var_name": "macroTileStepX"}, {"original_string": "int macroTileCountX;", "modifier": "", "type": "int", "declarator": "macroTileCountX", "var_name": "macroTileCountX"}], "methods": [{"identifier": "create", "parameters": "(Configuration conf)", "modifiers": "public static", "return": "MosaicGrid", "signature": "MosaicGrid create(Configuration conf)", "full_signature": "public static MosaicGrid create(Configuration conf)", "class_method_signature": "MosaicGrid.create(Configuration conf)", "testcase": false, "constructor": false}, {"identifier": "MosaicGrid", "parameters": "()", "modifiers": "", "return": "", "signature": " MosaicGrid()", "full_signature": "  MosaicGrid()", "class_method_signature": "MosaicGrid.MosaicGrid()", "testcase": false, "constructor": true}, {"identifier": "MosaicGrid", "parameters": "(int macroTileSize, int numTileY, int tileSize, boolean withIntersectionCheck, int maxReducers, int maxMacroTileCountX, String regionWkt)", "modifiers": "", "return": "", "signature": " MosaicGrid(int macroTileSize, int numTileY, int tileSize, boolean withIntersectionCheck, int maxReducers, int maxMacroTileCountX, String regionWkt)", "full_signature": "  MosaicGrid(int macroTileSize, int numTileY, int tileSize, boolean withIntersectionCheck, int maxReducers, int maxMacroTileCountX, String regionWkt)", "class_method_signature": "MosaicGrid.MosaicGrid(int macroTileSize, int numTileY, int tileSize, boolean withIntersectionCheck, int maxReducers, int maxMacroTileCountX, String regionWkt)", "testcase": false, "constructor": true}, {"identifier": "saveToConfiguration", "parameters": "(Configuration conf)", "modifiers": "public", "return": "void", "signature": "void saveToConfiguration(Configuration conf)", "full_signature": "public void saveToConfiguration(Configuration conf)", "class_method_signature": "MosaicGrid.saveToConfiguration(Configuration conf)", "testcase": false, "constructor": false}, {"identifier": "getGeometryFactory", "parameters": "()", "modifiers": "private", "return": "GeometryFactory", "signature": "GeometryFactory getGeometryFactory()", "full_signature": "private GeometryFactory getGeometryFactory()", "class_method_signature": "MosaicGrid.getGeometryFactory()", "testcase": false, "constructor": false}, {"identifier": "getMacroTileSize", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getMacroTileSize()", "full_signature": "public int getMacroTileSize()", "class_method_signature": "MosaicGrid.getMacroTileSize()", "testcase": false, "constructor": false}, {"identifier": "getTileSize", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getTileSize()", "full_signature": "public int getTileSize()", "class_method_signature": "MosaicGrid.getTileSize()", "testcase": false, "constructor": false}, {"identifier": "getPixelSize", "parameters": "()", "modifiers": "public", "return": "double", "signature": "double getPixelSize()", "full_signature": "public double getPixelSize()", "class_method_signature": "MosaicGrid.getPixelSize()", "testcase": false, "constructor": false}, {"identifier": "getNumTileX", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getNumTileX()", "full_signature": "public int getNumTileX()", "class_method_signature": "MosaicGrid.getNumTileX()", "testcase": false, "constructor": false}, {"identifier": "getNumTileY", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getNumTileY()", "full_signature": "public int getNumTileY()", "class_method_signature": "MosaicGrid.getNumTileY()", "testcase": false, "constructor": false}, {"identifier": "getNumMacroTileX", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getNumMacroTileX()", "full_signature": "public int getNumMacroTileX()", "class_method_signature": "MosaicGrid.getNumMacroTileX()", "testcase": false, "constructor": false}, {"identifier": "getNumMacroTileY", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getNumMacroTileY()", "full_signature": "public int getNumMacroTileY()", "class_method_signature": "MosaicGrid.getNumMacroTileY()", "testcase": false, "constructor": false}, {"identifier": "computeBounds", "parameters": "(Geometry roiGeometry)", "modifiers": "public", "return": "Rectangle", "signature": "Rectangle computeBounds(Geometry roiGeometry)", "full_signature": "public Rectangle computeBounds(Geometry roiGeometry)", "class_method_signature": "MosaicGrid.computeBounds(Geometry roiGeometry)", "testcase": false, "constructor": false}, {"identifier": "alignToTileGrid", "parameters": "(Rectangle rectangle)", "modifiers": "public", "return": "Rectangle", "signature": "Rectangle alignToTileGrid(Rectangle rectangle)", "full_signature": "public Rectangle alignToTileGrid(Rectangle rectangle)", "class_method_signature": "MosaicGrid.alignToTileGrid(Rectangle rectangle)", "testcase": false, "constructor": false}, {"identifier": "getTileGeometry", "parameters": "(int tileX, int tileY)", "modifiers": "", "return": "Geometry", "signature": "Geometry getTileGeometry(int tileX, int tileY)", "full_signature": " Geometry getTileGeometry(int tileX, int tileY)", "class_method_signature": "MosaicGrid.getTileGeometry(int tileX, int tileY)", "testcase": false, "constructor": false}, {"identifier": "tileXToDegree", "parameters": "(int tileX)", "modifiers": "", "return": "double", "signature": "double tileXToDegree(int tileX)", "full_signature": " double tileXToDegree(int tileX)", "class_method_signature": "MosaicGrid.tileXToDegree(int tileX)", "testcase": false, "constructor": false}, {"identifier": "degreeToTileX", "parameters": "(double lon)", "modifiers": "", "return": "int", "signature": "int degreeToTileX(double lon)", "full_signature": " int degreeToTileX(double lon)", "class_method_signature": "MosaicGrid.degreeToTileX(double lon)", "testcase": false, "constructor": false}, {"identifier": "tileYToDegree", "parameters": "(int tileY)", "modifiers": "", "return": "double", "signature": "double tileYToDegree(int tileY)", "full_signature": " double tileYToDegree(int tileY)", "class_method_signature": "MosaicGrid.tileYToDegree(int tileY)", "testcase": false, "constructor": false}, {"identifier": "degreeToTileY", "parameters": "(double lat)", "modifiers": "", "return": "int", "signature": "int degreeToTileY(double lat)", "full_signature": " int degreeToTileY(double lat)", "class_method_signature": "MosaicGrid.degreeToTileY(double lat)", "testcase": false, "constructor": false}, {"identifier": "computeProductGeometry", "parameters": "(Product product)", "modifiers": "public", "return": "Geometry", "signature": "Geometry computeProductGeometry(Product product)", "full_signature": "public Geometry computeProductGeometry(Product product)", "class_method_signature": "MosaicGrid.computeProductGeometry(Product product)", "testcase": false, "constructor": false}, {"identifier": "convertToJtsPolygon", "parameters": "(PathIterator pathIterator)", "modifiers": "private", "return": "Polygon", "signature": "Polygon convertToJtsPolygon(PathIterator pathIterator)", "full_signature": "private Polygon convertToJtsPolygon(PathIterator pathIterator)", "class_method_signature": "MosaicGrid.convertToJtsPolygon(PathIterator pathIterator)", "testcase": false, "constructor": false}, {"identifier": "getTileIndices", "parameters": "(List<Point> tilePointIndices)", "modifiers": "public", "return": "TileIndexWritable[]", "signature": "TileIndexWritable[] getTileIndices(List<Point> tilePointIndices)", "full_signature": "public TileIndexWritable[] getTileIndices(List<Point> tilePointIndices)", "class_method_signature": "MosaicGrid.getTileIndices(List<Point> tilePointIndices)", "testcase": false, "constructor": false}, {"identifier": "getTilePointIndicesFromProduct", "parameters": "(Product product, Geometry geometry)", "modifiers": "", "return": "List<Point>", "signature": "List<Point> getTilePointIndicesFromProduct(Product product, Geometry geometry)", "full_signature": " List<Point> getTilePointIndicesFromProduct(Product product, Geometry geometry)", "class_method_signature": "MosaicGrid.getTilePointIndicesFromProduct(Product product, Geometry geometry)", "testcase": false, "constructor": false}, {"identifier": "getTilePointIndicesFromGeometry", "parameters": "(Geometry geometry)", "modifiers": "", "return": "List<Point>", "signature": "List<Point> getTilePointIndicesFromGeometry(Geometry geometry)", "full_signature": " List<Point> getTilePointIndicesFromGeometry(Geometry geometry)", "class_method_signature": "MosaicGrid.getTilePointIndicesFromGeometry(Geometry geometry)", "testcase": false, "constructor": false}, {"identifier": "getTilePointIndicesGlobal", "parameters": "()", "modifiers": "", "return": "List<Point>", "signature": "List<Point> getTilePointIndicesGlobal()", "full_signature": " List<Point> getTilePointIndicesGlobal()", "class_method_signature": "MosaicGrid.getTilePointIndicesGlobal()", "testcase": false, "constructor": false}, {"identifier": "getTileRectangle", "parameters": "(int tileX, int tileY)", "modifiers": "public", "return": "Rectangle", "signature": "Rectangle getTileRectangle(int tileX, int tileY)", "full_signature": "public Rectangle getTileRectangle(int tileX, int tileY)", "class_method_signature": "MosaicGrid.getTileRectangle(int tileX, int tileY)", "testcase": false, "constructor": false}, {"identifier": "getMacroTileRectangle", "parameters": "(int tileX, int tileY)", "modifiers": "public", "return": "Rectangle", "signature": "Rectangle getMacroTileRectangle(int tileX, int tileY)", "full_signature": "public Rectangle getMacroTileRectangle(int tileX, int tileY)", "class_method_signature": "MosaicGrid.getMacroTileRectangle(int tileX, int tileY)", "testcase": false, "constructor": false}, {"identifier": "createMacroCRS", "parameters": "(Point macroTile)", "modifiers": "public", "return": "CrsGeoCoding", "signature": "CrsGeoCoding createMacroCRS(Point macroTile)", "full_signature": "public CrsGeoCoding createMacroCRS(Point macroTile)", "class_method_signature": "MosaicGrid.createMacroCRS(Point macroTile)", "testcase": false, "constructor": false}, {"identifier": "macroTileRectangleOf", "parameters": "(Rectangle rectangle)", "modifiers": "private", "return": "Rectangle", "signature": "Rectangle macroTileRectangleOf(Rectangle rectangle)", "full_signature": "private Rectangle macroTileRectangleOf(Rectangle rectangle)", "class_method_signature": "MosaicGrid.macroTileRectangleOf(Rectangle rectangle)", "testcase": false, "constructor": false}, {"identifier": "getPartition", "parameters": "(int macroTileX, int macroTileY)", "modifiers": "public", "return": "int", "signature": "int getPartition(int macroTileX, int macroTileY)", "full_signature": "public int getPartition(int macroTileX, int macroTileY)", "class_method_signature": "MosaicGrid.getPartition(int macroTileX, int macroTileY)", "testcase": false, "constructor": false}, {"identifier": "getNumReducers", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getNumReducers()", "full_signature": "public int getNumReducers()", "class_method_signature": "MosaicGrid.getNumReducers()", "testcase": false, "constructor": false}], "file": "calvalus-processing/src/main/java/com/bc/calvalus/processing/mosaic/MosaicGrid.java"}, "focal_method": {"identifier": "degreeToTileY", "parameters": "(double lat)", "modifiers": "", "return": "int", "body": "int degreeToTileY(double lat) {\n        final double degreePerTile = (double) 180 / numTileY;\n        final int tileY = (int) (Math.floor((lat - 90.0) * -1 / degreePerTile));\n        return tileY;\n    }", "signature": "int degreeToTileY(double lat)", "full_signature": " int degreeToTileY(double lat)", "class_method_signature": "MosaicGrid.degreeToTileY(double lat)", "testcase": false, "constructor": false, "invocations": ["floor"]}, "repository": {"repo_id": 542927, "url": "https://github.com/bcdev/calvalus2", "language": "Java", "is_fork": false, "fork_count": 4, "stargazer_count": 12, "size": 126408, "license": "licensed"}}