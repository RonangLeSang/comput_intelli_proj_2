{"test_class": {"identifier": "CrontabParserTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "CrontabParser parser = new CrontabParser(TaskunLogUtilLoggerImpl.class);", "modifier": "", "type": "CrontabParser", "declarator": "parser = new CrontabParser(TaskunLogUtilLoggerImpl.class)", "var_name": "parser"}], "file": "taskun-scheduler/src/test/java/com/github/seratch/taskun/scheduler/crond/CrontabParserTest.java"}, "test_case": {"identifier": "Crontab_minuteInterval3_59_start2", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void parseLine_A$Crontab_minuteInterval3_59_start2() throws Exception {\n        RawCrontabLine crontab = new RawCrontabLine(\"2/3 * * * * hoge.foo.SampleTask server1\");\n        CalendarUtil.testData = CalendarUtil.getCalendar(\"2010\", \"4\", \"21\", \"14\", \"59\", \"10\");\n        long expceted = CalendarUtil.getCalendar(\"2010\", \"4\", \"21\", \"15\", \"02\", \"00\").getTimeInMillis();\n        Crontab actual = parser.parseLine(crontab);\n        assertEquals(crontab, actual.rawLine);\n        assertEquals(\"2/3\", actual.minuteElement.toString());\n        assertEquals(\"0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23\", actual.hourElement.toString());\n        assertEquals(\"*\", actual.dayElement.toString());\n        assertEquals(\"*\", actual.monthElement.toString());\n        assertEquals(\"*\", actual.dayOfWeekElement.toString());\n        assertEquals(1, actual.namedServers.size());\n        assertEquals(\"hoge.foo.SampleTask\", actual.commandClassName.toString());\n        assertTrue(new Date(actual.nextInvocationTime).toString(), expceted == actual.nextInvocationTime);\n    }", "signature": "void Crontab_minuteInterval3_59_start2()", "full_signature": "@Test public void Crontab_minuteInterval3_59_start2()", "class_method_signature": "CrontabParserTest.Crontab_minuteInterval3_59_start2()", "testcase": true, "constructor": false, "invocations": ["getCalendar", "getTimeInMillis", "getCalendar", "parseLine", "assertEquals", "assertEquals", "toString", "assertEquals", "toString", "assertEquals", "toString", "assertEquals", "toString", "assertEquals", "toString", "assertEquals", "size", "assertEquals", "toString", "assertTrue", "toString"]}, "focal_class": {"identifier": "CrontabParser", "superclass": "", "interfaces": "", "fields": [{"original_string": "private Class<? extends TaskunLog> logImplClass = TaskunLogUtilLoggerImpl.class;", "modifier": "private", "type": "Class<? extends TaskunLog>", "declarator": "logImplClass = TaskunLogUtilLoggerImpl.class", "var_name": "logImplClass"}, {"original_string": "private TaskunLog taskunLog = getLog(CronInvocation.class.getCanonicalName());", "modifier": "private", "type": "TaskunLog", "declarator": "taskunLog = getLog(CronInvocation.class.getCanonicalName())", "var_name": "taskunLog"}], "methods": [{"identifier": "CrontabParser", "parameters": "(Class<? extends TaskunLog> logImplClass)", "modifiers": "public", "return": "", "signature": " CrontabParser(Class<? extends TaskunLog> logImplClass)", "full_signature": "public  CrontabParser(Class<? extends TaskunLog> logImplClass)", "class_method_signature": "CrontabParser.CrontabParser(Class<? extends TaskunLog> logImplClass)", "testcase": false, "constructor": true}, {"identifier": "getLog", "parameters": "()", "modifiers": "", "return": "TaskunLog", "signature": "TaskunLog getLog()", "full_signature": " TaskunLog getLog()", "class_method_signature": "CrontabParser.getLog()", "testcase": false, "constructor": false}, {"identifier": "getLog", "parameters": "(String name)", "modifiers": "", "return": "TaskunLog", "signature": "TaskunLog getLog(String name)", "full_signature": " TaskunLog getLog(String name)", "class_method_signature": "CrontabParser.getLog(String name)", "testcase": false, "constructor": false}, {"identifier": "parseLine", "parameters": "(RawCrontabLine line)", "modifiers": "public", "return": "Crontab", "signature": "Crontab parseLine(RawCrontabLine line)", "full_signature": "public Crontab parseLine(RawCrontabLine line)", "class_method_signature": "CrontabParser.parseLine(RawCrontabLine line)", "testcase": false, "constructor": false}, {"identifier": "getFixedInvocations", "parameters": "(int maxValue, CrontabElement crontabElement)", "modifiers": "public", "return": "List<Integer>", "signature": "List<Integer> getFixedInvocations(int maxValue, CrontabElement crontabElement)", "full_signature": "public List<Integer> getFixedInvocations(int maxValue, CrontabElement crontabElement)", "class_method_signature": "CrontabParser.getFixedInvocations(int maxValue, CrontabElement crontabElement)", "testcase": false, "constructor": false}, {"identifier": "getNextInvocationTime", "parameters": "(Calendar currentTime, Crontab crontab)", "modifiers": "public", "return": "long", "signature": "long getNextInvocationTime(Calendar currentTime, Crontab crontab)", "full_signature": "public long getNextInvocationTime(Calendar currentTime, Crontab crontab)", "class_method_signature": "CrontabParser.getNextInvocationTime(Calendar currentTime, Crontab crontab)", "testcase": false, "constructor": false}, {"identifier": "replaceWildcardsOfMinuteOrHourValue", "parameters": "(Crontab crontab)", "modifiers": "public", "return": "Crontab", "signature": "Crontab replaceWildcardsOfMinuteOrHourValue(Crontab crontab)", "full_signature": "public Crontab replaceWildcardsOfMinuteOrHourValue(Crontab crontab)", "class_method_signature": "CrontabParser.replaceWildcardsOfMinuteOrHourValue(Crontab crontab)", "testcase": false, "constructor": false}, {"identifier": "getCrontabDayOfWeekNumber", "parameters": "(Calendar cal)", "modifiers": "public", "return": "int", "signature": "int getCrontabDayOfWeekNumber(Calendar cal)", "full_signature": "public int getCrontabDayOfWeekNumber(Calendar cal)", "class_method_signature": "CrontabParser.getCrontabDayOfWeekNumber(Calendar cal)", "testcase": false, "constructor": false}, {"identifier": "getFixedMinimumInvocationValue", "parameters": "(List<Integer> fixedInvocations)", "modifiers": "public", "return": "int", "signature": "int getFixedMinimumInvocationValue(List<Integer> fixedInvocations)", "full_signature": "public int getFixedMinimumInvocationValue(List<Integer> fixedInvocations)", "class_method_signature": "CrontabParser.getFixedMinimumInvocationValue(List<Integer> fixedInvocations)", "testcase": false, "constructor": false}, {"identifier": "getFixedSameOrNextInvocationValue", "parameters": "(int currentValue, List<Integer> fixedInvocations)", "modifiers": "public", "return": "int", "signature": "int getFixedSameOrNextInvocationValue(int currentValue, List<Integer> fixedInvocations)", "full_signature": "public int getFixedSameOrNextInvocationValue(int currentValue, List<Integer> fixedInvocations)", "class_method_signature": "CrontabParser.getFixedSameOrNextInvocationValue(int currentValue, List<Integer> fixedInvocations)", "testcase": false, "constructor": false}, {"identifier": "getFixedNextInvocationValue", "parameters": "(int currentValue, List<Integer> fixedInvocations)", "modifiers": "public", "return": "int", "signature": "int getFixedNextInvocationValue(int currentValue, List<Integer> fixedInvocations)", "full_signature": "public int getFixedNextInvocationValue(int currentValue, List<Integer> fixedInvocations)", "class_method_signature": "CrontabParser.getFixedNextInvocationValue(int currentValue, List<Integer> fixedInvocations)", "testcase": false, "constructor": false}, {"identifier": "getFixedNextInvocationValue", "parameters": "(int currentValue, int maxValue, CrontabElement element)", "modifiers": "public", "return": "int", "signature": "int getFixedNextInvocationValue(int currentValue, int maxValue, CrontabElement element)", "full_signature": "public int getFixedNextInvocationValue(int currentValue, int maxValue, CrontabElement element)", "class_method_signature": "CrontabParser.getFixedNextInvocationValue(int currentValue, int maxValue, CrontabElement element)", "testcase": false, "constructor": false}, {"identifier": "isInvocationValueContainedInCrontabValue", "parameters": "(\n            int invocationValue, int maxValue, CrontabElement element)", "modifiers": "public", "return": "boolean", "signature": "boolean isInvocationValueContainedInCrontabValue(\n            int invocationValue, int maxValue, CrontabElement element)", "full_signature": "public boolean isInvocationValueContainedInCrontabValue(\n            int invocationValue, int maxValue, CrontabElement element)", "class_method_signature": "CrontabParser.isInvocationValueContainedInCrontabValue(\n            int invocationValue, int maxValue, CrontabElement element)", "testcase": false, "constructor": false}, {"identifier": "getIntervalInvocationCrontab", "parameters": "(Crontab crontab, String[] elements)", "modifiers": "public", "return": "Crontab", "signature": "Crontab getIntervalInvocationCrontab(Crontab crontab, String[] elements)", "full_signature": "public Crontab getIntervalInvocationCrontab(Crontab crontab, String[] elements)", "class_method_signature": "CrontabParser.getIntervalInvocationCrontab(Crontab crontab, String[] elements)", "testcase": false, "constructor": false}, {"identifier": "getLongValue", "parameters": "(String number)", "modifiers": "", "return": "long", "signature": "long getLongValue(String number)", "full_signature": " long getLongValue(String number)", "class_method_signature": "CrontabParser.getLongValue(String number)", "testcase": false, "constructor": false}, {"identifier": "getMultiplicityOfCommandWorkers", "parameters": "(String element)", "modifiers": "", "return": "long", "signature": "long getMultiplicityOfCommandWorkers(String element)", "full_signature": " long getMultiplicityOfCommandWorkers(String element)", "class_method_signature": "CrontabParser.getMultiplicityOfCommandWorkers(String element)", "testcase": false, "constructor": false}, {"identifier": "getCommandClassNameElement", "parameters": "(String element)", "modifiers": "", "return": "CrontabCommandClassNameElement", "signature": "CrontabCommandClassNameElement getCommandClassNameElement(String element)", "full_signature": " CrontabCommandClassNameElement getCommandClassNameElement(String element)", "class_method_signature": "CrontabParser.getCommandClassNameElement(String element)", "testcase": false, "constructor": false}, {"identifier": "getBasicCrontab", "parameters": "(Crontab crontab, String[] elements)", "modifiers": "", "return": "Crontab", "signature": "Crontab getBasicCrontab(Crontab crontab, String[] elements)", "full_signature": " Crontab getBasicCrontab(Crontab crontab, String[] elements)", "class_method_signature": "CrontabParser.getBasicCrontab(Crontab crontab, String[] elements)", "testcase": false, "constructor": false}, {"identifier": "isDayOfWeekNotCameAt", "parameters": "(Crontab crontab, Calendar nextInvocationTime, int dayOfWeek)", "modifiers": "", "return": "boolean", "signature": "boolean isDayOfWeekNotCameAt(Crontab crontab, Calendar nextInvocationTime, int dayOfWeek)", "full_signature": " boolean isDayOfWeekNotCameAt(Crontab crontab, Calendar nextInvocationTime, int dayOfWeek)", "class_method_signature": "CrontabParser.isDayOfWeekNotCameAt(Crontab crontab, Calendar nextInvocationTime, int dayOfWeek)", "testcase": false, "constructor": false}], "file": "taskun-scheduler/src/main/java/com/github/seratch/taskun/scheduler/crond/CrontabParser.java"}, "focal_method": {"identifier": "parseLine", "parameters": "(RawCrontabLine line)", "modifiers": "public", "return": "Crontab", "body": "public Crontab parseLine(RawCrontabLine line) {\n        Crontab crontab = new Crontab();\n        String lineString = line.toString();\n        if (lineString.equals(\"\") || lineString.startsWith(\"#\")) {\n            return crontab;\n        }\n        crontab.rawLine = new RawCrontabLine(lineString);\n        try {\n            String[] elements = lineString.split(\"\\\\s+\");\n            if (elements[0].matches(\"interval:\\\\d+?sec\")) {\n                return getIntervalInvocationCrontab(crontab, elements);\n            } else {\n                return getBasicCrontab(crontab, elements);\n            }\n        } catch (ArrayIndexOutOfBoundsException e) {\n            taskunLog.error(\"Invalid crontab expression...\");\n            throw new IllegalArgumentException(\"Invalid crontab expression...\");\n        }\n    }", "signature": "Crontab parseLine(RawCrontabLine line)", "full_signature": "public Crontab parseLine(RawCrontabLine line)", "class_method_signature": "CrontabParser.parseLine(RawCrontabLine line)", "testcase": false, "constructor": false, "invocations": ["toString", "equals", "startsWith", "split", "matches", "getIntervalInvocationCrontab", "getBasicCrontab", "error"]}, "repository": {"repo_id": 1557148, "url": "https://github.com/seratch/taskun", "language": "Java", "is_fork": false, "fork_count": 4, "stargazer_count": 6, "size": 3917, "license": "licensed"}}