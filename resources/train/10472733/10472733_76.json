{"test_class": {"identifier": "PatientControllerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private PatientController patientController;", "modifier": "private", "type": "PatientController", "declarator": "patientController", "var_name": "patientController"}, {"original_string": "private PatientService patientService;", "modifier": "private", "type": "PatientService", "declarator": "patientService", "var_name": "patientService"}, {"original_string": "private CohortService cohortService;", "modifier": "private", "type": "CohortService", "declarator": "cohortService", "var_name": "cohortService"}, {"original_string": "private FormService formService;", "modifier": "private", "type": "FormService", "declarator": "formService", "var_name": "formService"}, {"original_string": "private PatientTagService patientTagService;", "modifier": "private", "type": "PatientTagService", "declarator": "patientTagService", "var_name": "patientTagService"}], "file": "app/src/test/java/com/muzima/controller/PatientControllerTest.java"}, "test_case": {"identifier": "shouldConsolidatePatients", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void shouldConsolidatePatients() throws Exception {\n        Patient tempPatient = mock(Patient.class);\n        Patient patient = mock(Patient.class);\n        when(patientService.consolidateTemporaryPatient(tempPatient)).thenReturn(patient);\n        assertThat(patient, is(patientController.consolidateTemporaryPatient(tempPatient)));\n    }", "signature": "void shouldConsolidatePatients()", "full_signature": "@Test public void shouldConsolidatePatients()", "class_method_signature": "PatientControllerTest.shouldConsolidatePatients()", "testcase": true, "constructor": false, "invocations": ["mock", "mock", "thenReturn", "when", "consolidateTemporaryPatient", "assertThat", "is", "consolidateTemporaryPatient"]}, "focal_class": {"identifier": "PatientController", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final PatientService patientService;", "modifier": "private final", "type": "PatientService", "declarator": "patientService", "var_name": "patientService"}, {"original_string": "private final CohortService cohortService;", "modifier": "private final", "type": "CohortService", "declarator": "cohortService", "var_name": "cohortService"}, {"original_string": "private final Map<String, Integer> tagColors;", "modifier": "private final", "type": "Map<String, Integer>", "declarator": "tagColors", "var_name": "tagColors"}, {"original_string": "private List<PatientTag> selectedTags;", "modifier": "private", "type": "List<PatientTag>", "declarator": "selectedTags", "var_name": "selectedTags"}, {"original_string": "private FormService formService;", "modifier": "private", "type": "FormService", "declarator": "formService", "var_name": "formService"}, {"original_string": "private PatientTagService patientTagService;", "modifier": "private", "type": "PatientTagService", "declarator": "patientTagService", "var_name": "patientTagService"}], "methods": [{"identifier": "PatientController", "parameters": "(PatientService patientService, CohortService cohortService, FormService formService,PatientTagService patientTagService)", "modifiers": "public", "return": "", "signature": " PatientController(PatientService patientService, CohortService cohortService, FormService formService,PatientTagService patientTagService)", "full_signature": "public  PatientController(PatientService patientService, CohortService cohortService, FormService formService,PatientTagService patientTagService)", "class_method_signature": "PatientController.PatientController(PatientService patientService, CohortService cohortService, FormService formService,PatientTagService patientTagService)", "testcase": false, "constructor": true}, {"identifier": "replacePatients", "parameters": "(List<Patient> patients)", "modifiers": "public", "return": "void", "signature": "void replacePatients(List<Patient> patients)", "full_signature": "public void replacePatients(List<Patient> patients)", "class_method_signature": "PatientController.replacePatients(List<Patient> patients)", "testcase": false, "constructor": false}, {"identifier": "getPatients", "parameters": "(String cohortId)", "modifiers": "public", "return": "List<Patient>", "signature": "List<Patient> getPatients(String cohortId)", "full_signature": "public List<Patient> getPatients(String cohortId)", "class_method_signature": "PatientController.getPatients(String cohortId)", "testcase": false, "constructor": false}, {"identifier": "getPatients", "parameters": "(String cohortId,int page, int pageSize)", "modifiers": "public", "return": "List<Patient>", "signature": "List<Patient> getPatients(String cohortId,int page, int pageSize)", "full_signature": "public List<Patient> getPatients(String cohortId,int page, int pageSize)", "class_method_signature": "PatientController.getPatients(String cohortId,int page, int pageSize)", "testcase": false, "constructor": false}, {"identifier": "getAllPatients", "parameters": "()", "modifiers": "public", "return": "List<Patient>", "signature": "List<Patient> getAllPatients()", "full_signature": "public List<Patient> getAllPatients()", "class_method_signature": "PatientController.getAllPatients()", "testcase": false, "constructor": false}, {"identifier": "getPatients", "parameters": "(int page, int pageSize)", "modifiers": "public", "return": "List<Patient>", "signature": "List<Patient> getPatients(int page, int pageSize)", "full_signature": "public List<Patient> getPatients(int page, int pageSize)", "class_method_signature": "PatientController.getPatients(int page, int pageSize)", "testcase": false, "constructor": false}, {"identifier": "countAllPatients", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int countAllPatients()", "full_signature": "public int countAllPatients()", "class_method_signature": "PatientController.countAllPatients()", "testcase": false, "constructor": false}, {"identifier": "countPatients", "parameters": "(String cohortId)", "modifiers": "public", "return": "int", "signature": "int countPatients(String cohortId)", "full_signature": "public int countPatients(String cohortId)", "class_method_signature": "PatientController.countPatients(String cohortId)", "testcase": false, "constructor": false}, {"identifier": "getPatientByUuid", "parameters": "(String uuid)", "modifiers": "public", "return": "Patient", "signature": "Patient getPatientByUuid(String uuid)", "full_signature": "public Patient getPatientByUuid(String uuid)", "class_method_signature": "PatientController.getPatientByUuid(String uuid)", "testcase": false, "constructor": false}, {"identifier": "searchPatientLocally", "parameters": "(String term, String cohortUuid)", "modifiers": "public", "return": "List<Patient>", "signature": "List<Patient> searchPatientLocally(String term, String cohortUuid)", "full_signature": "public List<Patient> searchPatientLocally(String term, String cohortUuid)", "class_method_signature": "PatientController.searchPatientLocally(String term, String cohortUuid)", "testcase": false, "constructor": false}, {"identifier": "searchPatientLocally", "parameters": "(String term,  int page, int pageSize)", "modifiers": "public", "return": "List<Patient>", "signature": "List<Patient> searchPatientLocally(String term,  int page, int pageSize)", "full_signature": "public List<Patient> searchPatientLocally(String term,  int page, int pageSize)", "class_method_signature": "PatientController.searchPatientLocally(String term,  int page, int pageSize)", "testcase": false, "constructor": false}, {"identifier": "getPatientsForCohorts", "parameters": "(String[] cohortUuids)", "modifiers": "public", "return": "List<Patient>", "signature": "List<Patient> getPatientsForCohorts(String[] cohortUuids)", "full_signature": "public List<Patient> getPatientsForCohorts(String[] cohortUuids)", "class_method_signature": "PatientController.getPatientsForCohorts(String[] cohortUuids)", "testcase": false, "constructor": false}, {"identifier": "searchPatientOnServer", "parameters": "(String name)", "modifiers": "public", "return": "List<Patient>", "signature": "List<Patient> searchPatientOnServer(String name)", "full_signature": "public List<Patient> searchPatientOnServer(String name)", "class_method_signature": "PatientController.searchPatientOnServer(String name)", "testcase": false, "constructor": false}, {"identifier": "getAllPatientsCreatedLocallyAndNotSynced", "parameters": "()", "modifiers": "public", "return": "List<Patient>", "signature": "List<Patient> getAllPatientsCreatedLocallyAndNotSynced()", "full_signature": "public List<Patient> getAllPatientsCreatedLocallyAndNotSynced()", "class_method_signature": "PatientController.getAllPatientsCreatedLocallyAndNotSynced()", "testcase": false, "constructor": false}, {"identifier": "consolidateTemporaryPatient", "parameters": "(Patient patient)", "modifiers": "public", "return": "Patient", "signature": "Patient consolidateTemporaryPatient(Patient patient)", "full_signature": "public Patient consolidateTemporaryPatient(Patient patient)", "class_method_signature": "PatientController.consolidateTemporaryPatient(Patient patient)", "testcase": false, "constructor": false}, {"identifier": "savePatient", "parameters": "(Patient patient)", "modifiers": "public", "return": "void", "signature": "void savePatient(Patient patient)", "full_signature": "public void savePatient(Patient patient)", "class_method_signature": "PatientController.savePatient(Patient patient)", "testcase": false, "constructor": false}, {"identifier": "updatePatient", "parameters": "(Patient patient)", "modifiers": "public", "return": "void", "signature": "void updatePatient(Patient patient)", "full_signature": "public void updatePatient(Patient patient)", "class_method_signature": "PatientController.updatePatient(Patient patient)", "testcase": false, "constructor": false}, {"identifier": "savePatientTags", "parameters": "(PatientTag tag)", "modifiers": "public", "return": "void", "signature": "void savePatientTags(PatientTag tag)", "full_signature": "public void savePatientTags(PatientTag tag)", "class_method_signature": "PatientController.savePatientTags(PatientTag tag)", "testcase": false, "constructor": false}, {"identifier": "savePatients", "parameters": "(List<Patient> patients)", "modifiers": "public", "return": "void", "signature": "void savePatients(List<Patient> patients)", "full_signature": "public void savePatients(List<Patient> patients)", "class_method_signature": "PatientController.savePatients(List<Patient> patients)", "testcase": false, "constructor": false}, {"identifier": "deletePatient", "parameters": "(Patient localPatient)", "modifiers": "public", "return": "void", "signature": "void deletePatient(Patient localPatient)", "full_signature": "public void deletePatient(Patient localPatient)", "class_method_signature": "PatientController.deletePatient(Patient localPatient)", "testcase": false, "constructor": false}, {"identifier": "deletePatient", "parameters": "(List<Patient> localPatients)", "modifiers": "public", "return": "void", "signature": "void deletePatient(List<Patient> localPatients)", "full_signature": "public void deletePatient(List<Patient> localPatients)", "class_method_signature": "PatientController.deletePatient(List<Patient> localPatients)", "testcase": false, "constructor": false}, {"identifier": "getPatientsNotInCohorts", "parameters": "()", "modifiers": "public", "return": "List<Patient>", "signature": "List<Patient> getPatientsNotInCohorts()", "full_signature": "public List<Patient> getPatientsNotInCohorts()", "class_method_signature": "PatientController.getPatientsNotInCohorts()", "testcase": false, "constructor": false}, {"identifier": "downloadPatientByUUID", "parameters": "(String uuid)", "modifiers": "public", "return": "Patient", "signature": "Patient downloadPatientByUUID(String uuid)", "full_signature": "public Patient downloadPatientByUUID(String uuid)", "class_method_signature": "PatientController.downloadPatientByUUID(String uuid)", "testcase": false, "constructor": false}, {"identifier": "deleteAllPatients", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void deleteAllPatients()", "full_signature": "public void deleteAllPatients()", "class_method_signature": "PatientController.deleteAllPatients()", "testcase": false, "constructor": false}, {"identifier": "getPatientIdentifierTypeByUuid", "parameters": "(String uuid)", "modifiers": "public", "return": "PatientIdentifierType", "signature": "PatientIdentifierType getPatientIdentifierTypeByUuid(String uuid)", "full_signature": "public PatientIdentifierType getPatientIdentifierTypeByUuid(String uuid)", "class_method_signature": "PatientController.getPatientIdentifierTypeByUuid(String uuid)", "testcase": false, "constructor": false}, {"identifier": "getPatientIdentifierTypeByName", "parameters": "(String name)", "modifiers": "public", "return": "List<PatientIdentifierType>", "signature": "List<PatientIdentifierType> getPatientIdentifierTypeByName(String name)", "full_signature": "public List<PatientIdentifierType> getPatientIdentifierTypeByName(String name)", "class_method_signature": "PatientController.getPatientIdentifierTypeByName(String name)", "testcase": false, "constructor": false}, {"identifier": "getPersonAttributeTypeByUuid", "parameters": "(String uuid)", "modifiers": "public", "return": "PersonAttributeType", "signature": "PersonAttributeType getPersonAttributeTypeByUuid(String uuid)", "full_signature": "public PersonAttributeType getPersonAttributeTypeByUuid(String uuid)", "class_method_signature": "PatientController.getPersonAttributeTypeByUuid(String uuid)", "testcase": false, "constructor": false}, {"identifier": "getPersonAttributeTypeByName", "parameters": "(String name)", "modifiers": "public", "return": "List<PersonAttributeType>", "signature": "List<PersonAttributeType> getPersonAttributeTypeByName(String name)", "full_signature": "public List<PersonAttributeType> getPersonAttributeTypeByName(String name)", "class_method_signature": "PatientController.getPersonAttributeTypeByName(String name)", "testcase": false, "constructor": false}, {"identifier": "getTagColor", "parameters": "(String uuid)", "modifiers": "public", "return": "int", "signature": "int getTagColor(String uuid)", "full_signature": "public int getTagColor(String uuid)", "class_method_signature": "PatientController.getTagColor(String uuid)", "testcase": false, "constructor": false}, {"identifier": "getSelectedTags", "parameters": "()", "modifiers": "public", "return": "List<PatientTag>", "signature": "List<PatientTag> getSelectedTags()", "full_signature": "public List<PatientTag> getSelectedTags()", "class_method_signature": "PatientController.getSelectedTags()", "testcase": false, "constructor": false}, {"identifier": "setSelectedTags", "parameters": "(List<PatientTag> selectedTags)", "modifiers": "public", "return": "void", "signature": "void setSelectedTags(List<PatientTag> selectedTags)", "full_signature": "public void setSelectedTags(List<PatientTag> selectedTags)", "class_method_signature": "PatientController.setSelectedTags(List<PatientTag> selectedTags)", "testcase": false, "constructor": false}, {"identifier": "getAllTags", "parameters": "()", "modifiers": "public", "return": "List<PatientTag>", "signature": "List<PatientTag> getAllTags()", "full_signature": "public List<PatientTag> getAllTags()", "class_method_signature": "PatientController.getAllTags()", "testcase": false, "constructor": false}, {"identifier": "getSelectedTagUuids", "parameters": "()", "modifiers": "public", "return": "List<String>", "signature": "List<String> getSelectedTagUuids()", "full_signature": "public List<String> getSelectedTagUuids()", "class_method_signature": "PatientController.getSelectedTagUuids()", "testcase": false, "constructor": false}, {"identifier": "filterPatientByTags", "parameters": "(List<Patient> patients, List<String> tagsUuid)", "modifiers": "public", "return": "List<Patient>", "signature": "List<Patient> filterPatientByTags(List<Patient> patients, List<String> tagsUuid)", "full_signature": "public List<Patient> filterPatientByTags(List<Patient> patients, List<String> tagsUuid)", "class_method_signature": "PatientController.filterPatientByTags(List<Patient> patients, List<String> tagsUuid)", "testcase": false, "constructor": false}, {"identifier": "deletePatientByCohortMembership", "parameters": "(List<CohortMember> cohortMembers)", "modifiers": "public", "return": "void", "signature": "void deletePatientByCohortMembership(List<CohortMember> cohortMembers)", "full_signature": "public void deletePatientByCohortMembership(List<CohortMember> cohortMembers)", "class_method_signature": "PatientController.deletePatientByCohortMembership(List<CohortMember> cohortMembers)", "testcase": false, "constructor": false}, {"identifier": "deletePatientsPendingDeletion", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void deletePatientsPendingDeletion()", "full_signature": "public void deletePatientsPendingDeletion()", "class_method_signature": "PatientController.deletePatientsPendingDeletion()", "testcase": false, "constructor": false}, {"identifier": "getFormDataCount", "parameters": "(String patientUuid)", "modifiers": "public", "return": "int", "signature": "int getFormDataCount(String patientUuid)", "full_signature": "public int getFormDataCount(String patientUuid)", "class_method_signature": "PatientController.getFormDataCount(String patientUuid)", "testcase": false, "constructor": false}], "file": "app/src/main/java/com/muzima/controller/PatientController.java"}, "focal_method": {"identifier": "consolidateTemporaryPatient", "parameters": "(Patient patient)", "modifiers": "public", "return": "Patient", "body": "public Patient consolidateTemporaryPatient(Patient patient) {\n        try {\n            return patientService.consolidateTemporaryPatient(patient);\n        } catch (IOException e) {\n            Log.e(getClass().getSimpleName(), \"Error while consolidating the temporary patient.\", e);\n        }\n        return null;\n    }", "signature": "Patient consolidateTemporaryPatient(Patient patient)", "full_signature": "public Patient consolidateTemporaryPatient(Patient patient)", "class_method_signature": "PatientController.consolidateTemporaryPatient(Patient patient)", "testcase": false, "constructor": false, "invocations": ["consolidateTemporaryPatient", "e", "getSimpleName", "getClass"]}, "repository": {"repo_id": 10472733, "url": "https://github.com/muzima/muzima-android", "language": "Java", "is_fork": false, "fork_count": 39, "stargazer_count": 8, "size": 20746, "license": "licensed"}}