{"test_class": {"identifier": "BuildWorkspaceConfigurationRetrieverTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final List<String> EMPTY_CLOAKED_PATHS_LIST = Collections.emptyList();", "modifier": "private static final", "type": "List<String>", "declarator": "EMPTY_CLOAKED_PATHS_LIST = Collections.emptyList()", "var_name": "EMPTY_CLOAKED_PATHS_LIST"}], "file": "tfs/src/test/java/hudson/plugins/tfs/util/BuildWorkspaceConfigurationRetrieverTest.java"}, "test_case": {"identifier": "assertGetLatestConfgiurationOnNodeWithNoPrevioudBuild", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void assertGetLatestConfgiurationOnNodeWithNoPrevioudBuild() {\n        AbstractBuild build = mock(AbstractBuild.class);\n        Node node = mock(Node.class);\n        Node needleNode = mock(Node.class);\n        when(build.getPreviousBuild()).thenReturn(null);\n        when(build.getBuiltOn()).thenReturn(node);\n        when(node.getNodeName()).thenReturn(\"node1\");\n        when(needleNode.getNodeName()).thenReturn(\"needleNode\");\n        \n        BuildWorkspaceConfigurationRetriever retriever = new BuildWorkspaceConfigurationRetriever();\n        assertThat( retriever.getLatestForNode(needleNode, build), nullValue());\n        \n        verify(build).getBuiltOn();\n        verify(node).getNodeName();\n        verify(build).getPreviousBuild();\n        verifyNoMoreInteractions(node);\n        verifyNoMoreInteractions(build);  \n    }", "signature": "void assertGetLatestConfgiurationOnNodeWithNoPrevioudBuild()", "full_signature": "@Test public void assertGetLatestConfgiurationOnNodeWithNoPrevioudBuild()", "class_method_signature": "BuildWorkspaceConfigurationRetrieverTest.assertGetLatestConfgiurationOnNodeWithNoPrevioudBuild()", "testcase": true, "constructor": false, "invocations": ["mock", "mock", "mock", "thenReturn", "when", "getPreviousBuild", "thenReturn", "when", "getBuiltOn", "thenReturn", "when", "getNodeName", "thenReturn", "when", "getNodeName", "assertThat", "getLatestForNode", "nullValue", "getBuiltOn", "verify", "getNodeName", "verify", "getPreviousBuild", "verify", "verifyNoMoreInteractions", "verifyNoMoreInteractions"]}, "focal_class": {"identifier": "BuildWorkspaceConfigurationRetriever", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "getLatestForNode", "parameters": "(Node needleNode, Run<?,?> latestRun)", "modifiers": "public", "return": "BuildWorkspaceConfiguration", "signature": "BuildWorkspaceConfiguration getLatestForNode(Node needleNode, Run<?,?> latestRun)", "full_signature": "public BuildWorkspaceConfiguration getLatestForNode(Node needleNode, Run<?,?> latestRun)", "class_method_signature": "BuildWorkspaceConfigurationRetriever.getLatestForNode(Node needleNode, Run<?,?> latestRun)", "testcase": false, "constructor": false}], "file": "tfs/src/main/java/hudson/plugins/tfs/util/BuildWorkspaceConfigurationRetriever.java"}, "focal_method": {"identifier": "getLatestForNode", "parameters": "(Node needleNode, Run<?,?> latestRun)", "modifiers": "public", "return": "BuildWorkspaceConfiguration", "body": "public BuildWorkspaceConfiguration getLatestForNode(Node needleNode, Run<?,?> latestRun) {\n        if ((latestRun == null) || !(latestRun instanceof AbstractBuild<?, ?>)) {\n            return null;\n        }\n        \n        AbstractBuild<?, ?> build = (AbstractBuild<?, ?>) latestRun;\n        while (build != null) {\n        \tNode node = build.getBuiltOn();\n        \tif (node != null) {\n                if (node.getNodeName().equals(needleNode.getNodeName()))\n                {\n                   break;\n                }\n        \t}\n            build = build.getPreviousBuild();\n        }\n        \n        if (build != null) {\n            WorkspaceConfiguration configuration = build.getAction(WorkspaceConfiguration.class);\n            if (configuration != null) {\n                return new BuildWorkspaceConfiguration(configuration, build);\n            }\n        }\n\n        return null;\n    }", "signature": "BuildWorkspaceConfiguration getLatestForNode(Node needleNode, Run<?,?> latestRun)", "full_signature": "public BuildWorkspaceConfiguration getLatestForNode(Node needleNode, Run<?,?> latestRun)", "class_method_signature": "BuildWorkspaceConfigurationRetriever.getLatestForNode(Node needleNode, Run<?,?> latestRun)", "testcase": false, "constructor": false, "invocations": ["getBuiltOn", "equals", "getNodeName", "getNodeName", "getPreviousBuild", "getAction"]}, "repository": {"repo_id": 1163806, "url": "https://github.com/jenkinsci/tfs-plugin", "language": "Java", "is_fork": false, "fork_count": 165, "stargazer_count": 129, "size": 60608, "license": "licensed"}}