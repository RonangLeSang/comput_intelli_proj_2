{"test_class": {"identifier": "PropBindingFactoryTest", "superclass": "extends InternalBaseTestCase", "interfaces": "", "fields": [{"original_string": "private BindingFactory factory;", "modifier": "private", "type": "BindingFactory", "declarator": "factory", "var_name": "factory"}], "file": "tapestry-core/src/test/java/org/apache/tapestry5/internal/bindings/PropBindingFactoryTest.java"}, "test_case": {"identifier": "method_call_as_terminal", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void method_call_as_terminal()\n    {\n        TargetBean bean = new TargetBean();\n        ComponentResources resources = newComponentResources(bean);\n        Location l = mockLocation();\n\n        replay();\n\n        Binding binding = factory.newBinding(\"test binding\", resources, null, \"stringHolderMethod().stringValue()\", l);\n\n        assertSame(binding.getBindingType(), String.class);\n\n        bean.getStringHolder().setValue(\"first\");\n\n        assertEquals(binding.get(), \"first\");\n\n        try\n        {\n            binding.set(\"read-only\");\n            unreachable();\n        }\n        catch (TapestryException ex)\n        {\n            assertEquals(\n                    ex.getMessage(),\n                    \"Expression 'stringHolderMethod().stringValue()' for class org.apache.tapestry5.internal.bindings.TargetBean is read-only.\");\n            assertSame(ex.getLocation(), l);\n        }\n\n        verify();\n    }", "signature": "void method_call_as_terminal()", "full_signature": "@Test public void method_call_as_terminal()", "class_method_signature": "PropBindingFactoryTest.method_call_as_terminal()", "testcase": true, "constructor": false, "invocations": ["newComponentResources", "mockLocation", "replay", "newBinding", "assertSame", "getBindingType", "setValue", "getStringHolder", "assertEquals", "get", "set", "unreachable", "assertEquals", "getMessage", "assertSame", "getLocation", "verify"]}, "focal_class": {"identifier": "PropBindingFactory", "superclass": "", "interfaces": "implements BindingFactory", "fields": [{"original_string": "private final PropertyConduitSource source;", "modifier": "private final", "type": "PropertyConduitSource", "declarator": "source", "var_name": "source"}, {"original_string": "private final StringInterner interner;", "modifier": "private final", "type": "StringInterner", "declarator": "interner", "var_name": "interner"}], "methods": [{"identifier": "PropBindingFactory", "parameters": "(PropertyConduitSource propertyConduitSource, StringInterner interner)", "modifiers": "public", "return": "", "signature": " PropBindingFactory(PropertyConduitSource propertyConduitSource, StringInterner interner)", "full_signature": "public  PropBindingFactory(PropertyConduitSource propertyConduitSource, StringInterner interner)", "class_method_signature": "PropBindingFactory.PropBindingFactory(PropertyConduitSource propertyConduitSource, StringInterner interner)", "testcase": false, "constructor": true}, {"identifier": "newBinding", "parameters": "(String description, ComponentResources container,\n                              ComponentResources component, String expression, Location location)", "modifiers": "public", "return": "Binding", "signature": "Binding newBinding(String description, ComponentResources container,\n                              ComponentResources component, String expression, Location location)", "full_signature": "public Binding newBinding(String description, ComponentResources container,\n                              ComponentResources component, String expression, Location location)", "class_method_signature": "PropBindingFactory.newBinding(String description, ComponentResources container,\n                              ComponentResources component, String expression, Location location)", "testcase": false, "constructor": false}], "file": "tapestry-core/src/main/java/org/apache/tapestry5/internal/bindings/PropBindingFactory.java"}, "focal_method": {"identifier": "newBinding", "parameters": "(String description, ComponentResources container,\n                              ComponentResources component, String expression, Location location)", "modifiers": "public", "return": "Binding", "body": "public Binding newBinding(String description, ComponentResources container,\n                              ComponentResources component, String expression, Location location)\n    {\n        Object target = container.getComponent();\n        Class targetClass = target.getClass();\n\n        PropertyConduit conduit = source.create(targetClass, expression);\n\n        String toString = interner.format(\"PropBinding[%s %s(%s)]\", description, container\n                .getCompleteId(), expression);\n\n        return new PropBinding(location, target, conduit, expression, toString);\n    }", "signature": "Binding newBinding(String description, ComponentResources container,\n                              ComponentResources component, String expression, Location location)", "full_signature": "public Binding newBinding(String description, ComponentResources container,\n                              ComponentResources component, String expression, Location location)", "class_method_signature": "PropBindingFactory.newBinding(String description, ComponentResources container,\n                              ComponentResources component, String expression, Location location)", "testcase": false, "constructor": false, "invocations": ["getComponent", "getClass", "create", "format", "getCompleteId"]}, "repository": {"repo_id": 4416959, "url": "https://github.com/apache/tapestry-5", "stars": 82, "created": "5/23/2012 7:00:11 AM +00:00", "updates": "2020-01-11T21:07:48+00:00", "fork": "False", "license": "licensed"}}