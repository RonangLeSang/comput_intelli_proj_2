{"test_class": {"identifier": "RequestImplTest", "superclass": "extends InternalBaseTestCase", "interfaces": "", "fields": [{"original_string": "public static final String CHARSET = \"UTF-8\";", "modifier": "public static final", "type": "String", "declarator": "CHARSET = \"UTF-8\"", "var_name": "CHARSET"}], "file": "tapestry-core/src/test/java/org/apache/tapestry5/internal/services/RequestImplTest.java"}, "test_case": {"identifier": "get_path_for_websphere_with_nonempty_path", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void get_path_for_websphere_with_nonempty_path()\n    {\n        HttpServletRequest sr = mockHttpServletRequest();\n\n        train_getPathInfo(sr, \"\");\n\n        replay();\n\n        Request request = new RequestImpl(sr, CHARSET, null);\n\n        assertEquals(request.getPath(), \"/\");\n\n        verify();\n    }", "signature": "void get_path_for_websphere_with_nonempty_path()", "full_signature": "@Test public void get_path_for_websphere_with_nonempty_path()", "class_method_signature": "RequestImplTest.get_path_for_websphere_with_nonempty_path()", "testcase": true, "constructor": false, "invocations": ["mockHttpServletRequest", "train_getPathInfo", "replay", "assertEquals", "getPath", "verify"]}, "focal_class": {"identifier": "RequestImpl", "superclass": "", "interfaces": "implements Request", "fields": [{"original_string": "static final String REQUESTED_WITH_HEADER = \"X-Requested-With\";", "modifier": "static final", "type": "String", "declarator": "REQUESTED_WITH_HEADER = \"X-Requested-With\"", "var_name": "REQUESTED_WITH_HEADER"}, {"original_string": "static final String XML_HTTP_REQUEST = \"XMLHttpRequest\";", "modifier": "static final", "type": "String", "declarator": "XML_HTTP_REQUEST = \"XMLHttpRequest\"", "var_name": "XML_HTTP_REQUEST"}, {"original_string": "static final String X_FORWARDED_PROTO_HEADER = \"X-Forwarded-Proto\";", "modifier": "static final", "type": "String", "declarator": "X_FORWARDED_PROTO_HEADER = \"X-Forwarded-Proto\"", "var_name": "X_FORWARDED_PROTO_HEADER"}, {"original_string": "static final String X_FORWARDED_PROTO_HTTPS = \"https\";", "modifier": "static final", "type": "String", "declarator": "X_FORWARDED_PROTO_HTTPS = \"https\"", "var_name": "X_FORWARDED_PROTO_HTTPS"}, {"original_string": "private final HttpServletRequest request;", "modifier": "private final", "type": "HttpServletRequest", "declarator": "request", "var_name": "request"}, {"original_string": "private final String applicationCharset;", "modifier": "private final", "type": "String", "declarator": "applicationCharset", "var_name": "applicationCharset"}, {"original_string": "private final TapestrySessionFactory sessionFactory;", "modifier": "private final", "type": "TapestrySessionFactory", "declarator": "sessionFactory", "var_name": "sessionFactory"}, {"original_string": "private boolean encodingSet;", "modifier": "private", "type": "boolean", "declarator": "encodingSet", "var_name": "encodingSet"}, {"original_string": "private Session session;", "modifier": "private", "type": "Session", "declarator": "session", "var_name": "session"}], "methods": [{"identifier": "RequestImpl", "parameters": "(\n            HttpServletRequest request,\n            String applicationCharset,\n            TapestrySessionFactory sessionFactory)", "modifiers": "public", "return": "", "signature": " RequestImpl(\n            HttpServletRequest request,\n            String applicationCharset,\n            TapestrySessionFactory sessionFactory)", "full_signature": "public  RequestImpl(\n            HttpServletRequest request,\n            String applicationCharset,\n            TapestrySessionFactory sessionFactory)", "class_method_signature": "RequestImpl.RequestImpl(\n            HttpServletRequest request,\n            String applicationCharset,\n            TapestrySessionFactory sessionFactory)", "testcase": false, "constructor": true}, {"identifier": "getParameterNames", "parameters": "()", "modifiers": "public", "return": "List<String>", "signature": "List<String> getParameterNames()", "full_signature": "public List<String> getParameterNames()", "class_method_signature": "RequestImpl.getParameterNames()", "testcase": false, "constructor": false}, {"identifier": "getHeaderNames", "parameters": "()", "modifiers": "public", "return": "List<String>", "signature": "List<String> getHeaderNames()", "full_signature": "public List<String> getHeaderNames()", "class_method_signature": "RequestImpl.getHeaderNames()", "testcase": false, "constructor": false}, {"identifier": "getParameter", "parameters": "(String name)", "modifiers": "public", "return": "String", "signature": "String getParameter(String name)", "full_signature": "public String getParameter(String name)", "class_method_signature": "RequestImpl.getParameter(String name)", "testcase": false, "constructor": false}, {"identifier": "getParameters", "parameters": "(String name)", "modifiers": "public", "return": "String[]", "signature": "String[] getParameters(String name)", "full_signature": "public String[] getParameters(String name)", "class_method_signature": "RequestImpl.getParameters(String name)", "testcase": false, "constructor": false}, {"identifier": "getHeader", "parameters": "(String name)", "modifiers": "public", "return": "String", "signature": "String getHeader(String name)", "full_signature": "public String getHeader(String name)", "class_method_signature": "RequestImpl.getHeader(String name)", "testcase": false, "constructor": false}, {"identifier": "getPath", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getPath()", "full_signature": "public String getPath()", "class_method_signature": "RequestImpl.getPath()", "testcase": false, "constructor": false}, {"identifier": "getContextPath", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getContextPath()", "full_signature": "public String getContextPath()", "class_method_signature": "RequestImpl.getContextPath()", "testcase": false, "constructor": false}, {"identifier": "isSessionInvalidated", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isSessionInvalidated()", "full_signature": "public boolean isSessionInvalidated()", "class_method_signature": "RequestImpl.isSessionInvalidated()", "testcase": false, "constructor": false}, {"identifier": "getSession", "parameters": "(boolean create)", "modifiers": "public", "return": "Session", "signature": "Session getSession(boolean create)", "full_signature": "public Session getSession(boolean create)", "class_method_signature": "RequestImpl.getSession(boolean create)", "testcase": false, "constructor": false}, {"identifier": "getLocale", "parameters": "()", "modifiers": "public", "return": "Locale", "signature": "Locale getLocale()", "full_signature": "public Locale getLocale()", "class_method_signature": "RequestImpl.getLocale()", "testcase": false, "constructor": false}, {"identifier": "getDateHeader", "parameters": "(String name)", "modifiers": "public", "return": "long", "signature": "long getDateHeader(String name)", "full_signature": "public long getDateHeader(String name)", "class_method_signature": "RequestImpl.getDateHeader(String name)", "testcase": false, "constructor": false}, {"identifier": "setupEncoding", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void setupEncoding()", "full_signature": "private void setupEncoding()", "class_method_signature": "RequestImpl.setupEncoding()", "testcase": false, "constructor": false}, {"identifier": "isXHR", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isXHR()", "full_signature": "public boolean isXHR()", "class_method_signature": "RequestImpl.isXHR()", "testcase": false, "constructor": false}, {"identifier": "isSecure", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isSecure()", "full_signature": "public boolean isSecure()", "class_method_signature": "RequestImpl.isSecure()", "testcase": false, "constructor": false}, {"identifier": "isRequestedSessionIdValid", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isRequestedSessionIdValid()", "full_signature": "public boolean isRequestedSessionIdValid()", "class_method_signature": "RequestImpl.isRequestedSessionIdValid()", "testcase": false, "constructor": false}, {"identifier": "getAttribute", "parameters": "(String name)", "modifiers": "public", "return": "Object", "signature": "Object getAttribute(String name)", "full_signature": "public Object getAttribute(String name)", "class_method_signature": "RequestImpl.getAttribute(String name)", "testcase": false, "constructor": false}, {"identifier": "getAttributeNames", "parameters": "()", "modifiers": "public", "return": "List<String>", "signature": "List<String> getAttributeNames()", "full_signature": "public List<String> getAttributeNames()", "class_method_signature": "RequestImpl.getAttributeNames()", "testcase": false, "constructor": false}, {"identifier": "setAttribute", "parameters": "(String name, Object value)", "modifiers": "public", "return": "void", "signature": "void setAttribute(String name, Object value)", "full_signature": "public void setAttribute(String name, Object value)", "class_method_signature": "RequestImpl.setAttribute(String name, Object value)", "testcase": false, "constructor": false}, {"identifier": "getMethod", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getMethod()", "full_signature": "public String getMethod()", "class_method_signature": "RequestImpl.getMethod()", "testcase": false, "constructor": false}, {"identifier": "getServerName", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getServerName()", "full_signature": "public String getServerName()", "class_method_signature": "RequestImpl.getServerName()", "testcase": false, "constructor": false}, {"identifier": "getLocalPort", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getLocalPort()", "full_signature": "public int getLocalPort()", "class_method_signature": "RequestImpl.getLocalPort()", "testcase": false, "constructor": false}, {"identifier": "getServerPort", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getServerPort()", "full_signature": "public int getServerPort()", "class_method_signature": "RequestImpl.getServerPort()", "testcase": false, "constructor": false}, {"identifier": "getRemoteHost", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getRemoteHost()", "full_signature": "public String getRemoteHost()", "class_method_signature": "RequestImpl.getRemoteHost()", "testcase": false, "constructor": false}], "file": "tapestry-core/src/main/java/org/apache/tapestry5/internal/services/RequestImpl.java"}, "focal_method": {"identifier": "getPath", "parameters": "()", "modifiers": "public", "return": "String", "body": "public String getPath()\n    {\n        String pathInfo = request.getPathInfo();\n\n        if (pathInfo == null)\n            return request.getServletPath();\n\n        // Websphere 6.1 is a bit wonky (see TAPESTRY-1713), and tends to return the empty string\n        // for the servlet path, and return the true path in pathInfo.\n\n        return pathInfo.length() == 0 ? \"/\" : pathInfo;\n    }", "signature": "String getPath()", "full_signature": "public String getPath()", "class_method_signature": "RequestImpl.getPath()", "testcase": false, "constructor": false, "invocations": ["getPathInfo", "getServletPath", "length"]}, "repository": {"repo_id": 4416959, "url": "https://github.com/apache/tapestry-5", "stars": 82, "created": "5/23/2012 7:00:11 AM +00:00", "updates": "2020-01-11T21:07:48+00:00", "fork": "False", "license": "licensed"}}