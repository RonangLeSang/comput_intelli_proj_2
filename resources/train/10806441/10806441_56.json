{"test_class": {"identifier": "DefaultContentNegotiatorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private DefaultContentNegotiator contentNegotiator = new DefaultContentNegotiator();", "modifier": "private", "type": "DefaultContentNegotiator", "declarator": "contentNegotiator = new DefaultContentNegotiator()", "var_name": "contentNegotiator"}, {"original_string": "private HttpServletRequest req;", "modifier": "private", "type": "HttpServletRequest", "declarator": "req", "var_name": "req"}], "file": "spring-soy-view/src/test/java/pl/matisoft/soy/DefaultContentNegotiatorTest.java"}, "test_case": {"identifier": "testContentTypesWhenNeedsSplitWithWhitespace", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testContentTypesWhenNeedsSplitWithWhitespace() {\n        when(req.getHeaders(ACCEPT_HEADER)).thenReturn(\n                enumeration(asList(\"text/html, application/xhtml+xml, application/xml;q=0.9\")));\n\n        assertEquals(asList(\"text/html\", \"application/xhtml+xml\", \"application/xml;q=0.9\"),\n                contentNegotiator.contentTypes());\n    }", "signature": "void testContentTypesWhenNeedsSplitWithWhitespace()", "full_signature": "@Test public void testContentTypesWhenNeedsSplitWithWhitespace()", "class_method_signature": "DefaultContentNegotiatorTest.testContentTypesWhenNeedsSplitWithWhitespace()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "getHeaders", "enumeration", "asList", "assertEquals", "asList", "contentTypes"]}, "focal_class": {"identifier": "DefaultContentNegotiator", "superclass": "", "interfaces": "implements ContentNegotiator", "fields": [{"original_string": "private static final Logger logger = LoggerFactory.getLogger(DefaultContentNegotiator.class);", "modifier": "private static final", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(DefaultContentNegotiator.class)", "var_name": "logger"}, {"original_string": "public static final String DEFAULT_FAVORED_PARAMETER_NAME = \"format\";", "modifier": "public static final", "type": "String", "declarator": "DEFAULT_FAVORED_PARAMETER_NAME = \"format\"", "var_name": "DEFAULT_FAVORED_PARAMETER_NAME"}, {"original_string": "public static final List<String> DEFAULT_SUPPORTED_CONTENT_TYPES = unmodifiableList(asList(\"text/html\"));", "modifier": "public static final", "type": "List<String>", "declarator": "DEFAULT_SUPPORTED_CONTENT_TYPES = unmodifiableList(asList(\"text/html\"))", "var_name": "DEFAULT_SUPPORTED_CONTENT_TYPES"}, {"original_string": "public static final String ACCEPT_HEADER = \"Accept\";", "modifier": "public static final", "type": "String", "declarator": "ACCEPT_HEADER = \"Accept\"", "var_name": "ACCEPT_HEADER"}, {"original_string": "private static final String CONTENT_TYPE_DELIMITER = \",\\\\s*\";", "modifier": "private static final", "type": "String", "declarator": "CONTENT_TYPE_DELIMITER = \",\\\\s*\"", "var_name": "CONTENT_TYPE_DELIMITER"}, {"original_string": "private List<String> supportedContentTypes;", "modifier": "private", "type": "List<String>", "declarator": "supportedContentTypes", "var_name": "supportedContentTypes"}, {"original_string": "private boolean favorParameterOverAcceptHeader;", "modifier": "private", "type": "boolean", "declarator": "favorParameterOverAcceptHeader", "var_name": "favorParameterOverAcceptHeader"}, {"original_string": "private String favoredParameterName;", "modifier": "private", "type": "String", "declarator": "favoredParameterName", "var_name": "favoredParameterName"}, {"original_string": "private Comparator<List<String>> contentTypeComparator;", "modifier": "private", "type": "Comparator<List<String>>", "declarator": "contentTypeComparator", "var_name": "contentTypeComparator"}], "methods": [{"identifier": "DefaultContentNegotiator", "parameters": "()", "modifiers": "public", "return": "", "signature": " DefaultContentNegotiator()", "full_signature": "public  DefaultContentNegotiator()", "class_method_signature": "DefaultContentNegotiator.DefaultContentNegotiator()", "testcase": false, "constructor": true}, {"identifier": "getSupportedContentTypes", "parameters": "()", "modifiers": "public", "return": "List<String>", "signature": "List<String> getSupportedContentTypes()", "full_signature": "public List<String> getSupportedContentTypes()", "class_method_signature": "DefaultContentNegotiator.getSupportedContentTypes()", "testcase": false, "constructor": false}, {"identifier": "setSupportedContentTypes", "parameters": "(final List<String> supportedContentTypes)", "modifiers": "public", "return": "void", "signature": "void setSupportedContentTypes(final List<String> supportedContentTypes)", "full_signature": "public void setSupportedContentTypes(final List<String> supportedContentTypes)", "class_method_signature": "DefaultContentNegotiator.setSupportedContentTypes(final List<String> supportedContentTypes)", "testcase": false, "constructor": false}, {"identifier": "isFavorParameterOverAcceptHeader", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isFavorParameterOverAcceptHeader()", "full_signature": "public boolean isFavorParameterOverAcceptHeader()", "class_method_signature": "DefaultContentNegotiator.isFavorParameterOverAcceptHeader()", "testcase": false, "constructor": false}, {"identifier": "setFavorParameterOverAcceptHeader", "parameters": "(final boolean favorParameterOverAcceptHeader)", "modifiers": "public", "return": "void", "signature": "void setFavorParameterOverAcceptHeader(final boolean favorParameterOverAcceptHeader)", "full_signature": "public void setFavorParameterOverAcceptHeader(final boolean favorParameterOverAcceptHeader)", "class_method_signature": "DefaultContentNegotiator.setFavorParameterOverAcceptHeader(final boolean favorParameterOverAcceptHeader)", "testcase": false, "constructor": false}, {"identifier": "getFavoredParameterName", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getFavoredParameterName()", "full_signature": "public String getFavoredParameterName()", "class_method_signature": "DefaultContentNegotiator.getFavoredParameterName()", "testcase": false, "constructor": false}, {"identifier": "setFavoredParameterName", "parameters": "(final String parameterName)", "modifiers": "public", "return": "void", "signature": "void setFavoredParameterName(final String parameterName)", "full_signature": "public void setFavoredParameterName(final String parameterName)", "class_method_signature": "DefaultContentNegotiator.setFavoredParameterName(final String parameterName)", "testcase": false, "constructor": false}, {"identifier": "getContentTypeComparator", "parameters": "()", "modifiers": "public", "return": "Comparator<List<String>>", "signature": "Comparator<List<String>> getContentTypeComparator()", "full_signature": "public Comparator<List<String>> getContentTypeComparator()", "class_method_signature": "DefaultContentNegotiator.getContentTypeComparator()", "testcase": false, "constructor": false}, {"identifier": "setContentTypeComparator", "parameters": "(final Comparator<List<String>> contentTypeComparator)", "modifiers": "public", "return": "void", "signature": "void setContentTypeComparator(final Comparator<List<String>> contentTypeComparator)", "full_signature": "public void setContentTypeComparator(final Comparator<List<String>> contentTypeComparator)", "class_method_signature": "DefaultContentNegotiator.setContentTypeComparator(final Comparator<List<String>> contentTypeComparator)", "testcase": false, "constructor": false}, {"identifier": "isSupportedContentTypes", "parameters": "(final List<String> contentTypes)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean isSupportedContentTypes(final List<String> contentTypes)", "full_signature": "@Override public boolean isSupportedContentTypes(final List<String> contentTypes)", "class_method_signature": "DefaultContentNegotiator.isSupportedContentTypes(final List<String> contentTypes)", "testcase": false, "constructor": false}, {"identifier": "contentTypes", "parameters": "()", "modifiers": "@Override public", "return": "List<String>", "signature": "List<String> contentTypes()", "full_signature": "@Override public List<String> contentTypes()", "class_method_signature": "DefaultContentNegotiator.contentTypes()", "testcase": false, "constructor": false}, {"identifier": "getHttpRequest", "parameters": "()", "modifiers": "private", "return": "HttpServletRequest", "signature": "HttpServletRequest getHttpRequest()", "full_signature": "private HttpServletRequest getHttpRequest()", "class_method_signature": "DefaultContentNegotiator.getHttpRequest()", "testcase": false, "constructor": false}, {"identifier": "getFavoredParameterValueAsList", "parameters": "(HttpServletRequest request)", "modifiers": "private", "return": "List<String>", "signature": "List<String> getFavoredParameterValueAsList(HttpServletRequest request)", "full_signature": "private List<String> getFavoredParameterValueAsList(HttpServletRequest request)", "class_method_signature": "DefaultContentNegotiator.getFavoredParameterValueAsList(HttpServletRequest request)", "testcase": false, "constructor": false}, {"identifier": "getAcceptHeaderValues", "parameters": "(HttpServletRequest request)", "modifiers": "@SuppressWarnings(\"unchecked\") private", "return": "List<String>", "signature": "List<String> getAcceptHeaderValues(HttpServletRequest request)", "full_signature": "@SuppressWarnings(\"unchecked\") private List<String> getAcceptHeaderValues(HttpServletRequest request)", "class_method_signature": "DefaultContentNegotiator.getAcceptHeaderValues(HttpServletRequest request)", "testcase": false, "constructor": false}, {"identifier": "splitContentTypes", "parameters": "(final List<String> contentTypes)", "modifiers": "private", "return": "List<String>", "signature": "List<String> splitContentTypes(final List<String> contentTypes)", "full_signature": "private List<String> splitContentTypes(final List<String> contentTypes)", "class_method_signature": "DefaultContentNegotiator.splitContentTypes(final List<String> contentTypes)", "testcase": false, "constructor": false}], "file": "spring-soy-view/src/main/java/pl/matisoft/soy/DefaultContentNegotiator.java"}, "focal_method": {"identifier": "contentTypes", "parameters": "()", "modifiers": "@Override public", "return": "List<String>", "body": "@Override\n\tpublic List<String> contentTypes() {\n\t\tList<String> contentTypes = null;\n\t\tfinal HttpServletRequest request = getHttpRequest();\n\n\t\tif (favorParameterOverAcceptHeader) {\n\t\t\tcontentTypes = getFavoredParameterValueAsList(request);\n\t\t} else {\n\t\t\tcontentTypes = getAcceptHeaderValues(request);\n\t\t}\n\n\t\tif (isEmpty(contentTypes)) {\n\t\t\tlogger.debug(\"Setting content types to default: {}.\", DEFAULT_SUPPORTED_CONTENT_TYPES);\n\n\t\t\tcontentTypes = DEFAULT_SUPPORTED_CONTENT_TYPES;\n\t\t}\n\n\t\treturn unmodifiableList(contentTypes);\n\t}", "signature": "List<String> contentTypes()", "full_signature": "@Override public List<String> contentTypes()", "class_method_signature": "DefaultContentNegotiator.contentTypes()", "testcase": false, "constructor": false, "invocations": ["getHttpRequest", "getFavoredParameterValueAsList", "getAcceptHeaderValues", "isEmpty", "debug", "unmodifiableList"]}, "repository": {"repo_id": 10806441, "url": "https://github.com/matiwinnetou/spring-soy-view", "language": "Java", "is_fork": false, "fork_count": 10, "stargazer_count": 17, "size": 2147, "license": "licensed"}}