{"test_class": {"identifier": "MemoryMetricObserverTest", "superclass": "", "interfaces": "", "fields": [], "file": "servo-core/src/test/java/com/netflix/servo/publish/MemoryMetricObserverTest.java"}, "test_case": {"identifier": "testExceedN", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testExceedN() throws Exception {\n    MemoryMetricObserver mmo = new MemoryMetricObserver(\"test\", 2);\n    mmo.update(mkList(1));\n    mmo.update(mkList(2));\n    mmo.update(mkList(3));\n    assertEquals(mmo.getObservations(),\n        UnmodifiableList.of(mkList(2), mkList(3)));\n  }", "signature": "void testExceedN()", "full_signature": "@Test public void testExceedN()", "class_method_signature": "MemoryMetricObserverTest.testExceedN()", "testcase": true, "constructor": false, "invocations": ["update", "mkList", "update", "mkList", "update", "mkList", "assertEquals", "getObservations", "of", "mkList", "mkList"]}, "focal_class": {"identifier": "MemoryMetricObserver", "superclass": "extends BaseMetricObserver", "interfaces": "", "fields": [{"original_string": "private static final int DEFAULT_N = 10;", "modifier": "private static final", "type": "int", "declarator": "DEFAULT_N = 10", "var_name": "DEFAULT_N"}, {"original_string": "private final List<Metric>[] observations;", "modifier": "private final", "type": "List<Metric>[]", "declarator": "observations", "var_name": "observations"}, {"original_string": "private int next;", "modifier": "private", "type": "int", "declarator": "next", "var_name": "next"}], "methods": [{"identifier": "MemoryMetricObserver", "parameters": "()", "modifiers": "public", "return": "", "signature": " MemoryMetricObserver()", "full_signature": "public  MemoryMetricObserver()", "class_method_signature": "MemoryMetricObserver.MemoryMetricObserver()", "testcase": false, "constructor": true}, {"identifier": "MemoryMetricObserver", "parameters": "(String name, int num)", "modifiers": "@SuppressWarnings(\"unchecked\") public", "return": "", "signature": " MemoryMetricObserver(String name, int num)", "full_signature": "@SuppressWarnings(\"unchecked\") public  MemoryMetricObserver(String name, int num)", "class_method_signature": "MemoryMetricObserver.MemoryMetricObserver(String name, int num)", "testcase": false, "constructor": true}, {"identifier": "updateImpl", "parameters": "(List<Metric> metrics)", "modifiers": "public", "return": "void", "signature": "void updateImpl(List<Metric> metrics)", "full_signature": "public void updateImpl(List<Metric> metrics)", "class_method_signature": "MemoryMetricObserver.updateImpl(List<Metric> metrics)", "testcase": false, "constructor": false}, {"identifier": "getObservations", "parameters": "()", "modifiers": "public", "return": "List<List<Metric>>", "signature": "List<List<Metric>> getObservations()", "full_signature": "public List<List<Metric>> getObservations()", "class_method_signature": "MemoryMetricObserver.getObservations()", "testcase": false, "constructor": false}], "file": "servo-core/src/main/java/com/netflix/servo/publish/MemoryMetricObserver.java"}, "focal_method": {"identifier": "getObservations", "parameters": "()", "modifiers": "public", "return": "List<List<Metric>>", "body": "public List<List<Metric>> getObservations() {\n    List<List<Metric>> builder = new ArrayList<>();\n    int pos = next;\n    for (List<Metric> ignored : observations) {\n      if (observations[pos] != null) {\n        builder.add(observations[pos]);\n      }\n      pos = (pos + 1) % observations.length;\n    }\n    return Collections.unmodifiableList(builder);\n  }", "signature": "List<List<Metric>> getObservations()", "full_signature": "public List<List<Metric>> getObservations()", "class_method_signature": "MemoryMetricObserver.getObservations()", "testcase": false, "constructor": false, "invocations": ["add", "unmodifiableList"]}, "repository": {"repo_id": 2997701, "url": "https://github.com/Netflix/servo", "language": "Java", "is_fork": false, "fork_count": 281, "stargazer_count": 1326, "size": 5380, "license": "licensed"}}