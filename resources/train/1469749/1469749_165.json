{"test_class": {"identifier": "WorkspaceItemTest", "superclass": "extends AbstractUnitTest", "interfaces": "", "fields": [{"original_string": "private static final Logger log = Logger.getLogger(WorkspaceItemTest.class);", "modifier": "private static final", "type": "Logger", "declarator": "log = Logger.getLogger(WorkspaceItemTest.class)", "var_name": "log"}, {"original_string": "private WorkspaceItem wi;", "modifier": "private", "type": "WorkspaceItem", "declarator": "wi", "var_name": "wi"}], "file": "dspace-api/src/test/java/org/dspace/content/WorkspaceItemTest.java"}, "test_case": {"identifier": "testFindByCollection", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testFindByCollection() throws Exception\n    {\n        Collection c = wi.getCollection();\n        WorkspaceItem[] found = WorkspaceItem.findByCollection(context, c);\n        assertThat(\"testFindByCollection 0\",found,notNullValue());\n        assertTrue(\"testFindByCollection 1\",found.length >= 1);\n        assertThat(\"testFindByCollection 2\",found[0].getID(), equalTo(wi.getID()));\n        assertThat(\"testFindByCollection 3\",found[0], equalTo(wi));\n        assertThat(\"testFindByCollection 4\",found[0].getCollection(),equalTo(wi.getCollection()));\n    }", "signature": "void testFindByCollection()", "full_signature": "@Test public void testFindByCollection()", "class_method_signature": "WorkspaceItemTest.testFindByCollection()", "testcase": true, "constructor": false, "invocations": ["getCollection", "findByCollection", "assertThat", "notNullValue", "assertTrue", "assertThat", "getID", "equalTo", "getID", "assertThat", "equalTo", "assertThat", "getCollection", "equalTo", "getCollection"]}, "focal_class": {"identifier": "WorkspaceItem", "superclass": "", "interfaces": "implements InProgressSubmission", "fields": [{"original_string": "private static Logger log = Logger.getLogger(WorkspaceItem.class);", "modifier": "private static", "type": "Logger", "declarator": "log = Logger.getLogger(WorkspaceItem.class)", "var_name": "log"}, {"original_string": "private Item item;", "modifier": "private", "type": "Item", "declarator": "item", "var_name": "item"}, {"original_string": "private Context ourContext;", "modifier": "private", "type": "Context", "declarator": "ourContext", "var_name": "ourContext"}, {"original_string": "private TableRow wiRow;", "modifier": "private", "type": "TableRow", "declarator": "wiRow", "var_name": "wiRow"}, {"original_string": "private Collection collection;", "modifier": "private", "type": "Collection", "declarator": "collection", "var_name": "collection"}], "methods": [{"identifier": "WorkspaceItem", "parameters": "(Context context, TableRow row)", "modifiers": "", "return": "", "signature": " WorkspaceItem(Context context, TableRow row)", "full_signature": "  WorkspaceItem(Context context, TableRow row)", "class_method_signature": "WorkspaceItem.WorkspaceItem(Context context, TableRow row)", "testcase": false, "constructor": true}, {"identifier": "find", "parameters": "(Context context, int id)", "modifiers": "public static", "return": "WorkspaceItem", "signature": "WorkspaceItem find(Context context, int id)", "full_signature": "public static WorkspaceItem find(Context context, int id)", "class_method_signature": "WorkspaceItem.find(Context context, int id)", "testcase": false, "constructor": false}, {"identifier": "create", "parameters": "(Context c, Collection coll,\n            boolean template)", "modifiers": "public static", "return": "WorkspaceItem", "signature": "WorkspaceItem create(Context c, Collection coll,\n            boolean template)", "full_signature": "public static WorkspaceItem create(Context c, Collection coll,\n            boolean template)", "class_method_signature": "WorkspaceItem.create(Context c, Collection coll,\n            boolean template)", "testcase": false, "constructor": false}, {"identifier": "findByEPerson", "parameters": "(Context context, EPerson ep)", "modifiers": "public static", "return": "WorkspaceItem[]", "signature": "WorkspaceItem[] findByEPerson(Context context, EPerson ep)", "full_signature": "public static WorkspaceItem[] findByEPerson(Context context, EPerson ep)", "class_method_signature": "WorkspaceItem.findByEPerson(Context context, EPerson ep)", "testcase": false, "constructor": false}, {"identifier": "findByCollection", "parameters": "(Context context, Collection c)", "modifiers": "public static", "return": "WorkspaceItem[]", "signature": "WorkspaceItem[] findByCollection(Context context, Collection c)", "full_signature": "public static WorkspaceItem[] findByCollection(Context context, Collection c)", "class_method_signature": "WorkspaceItem.findByCollection(Context context, Collection c)", "testcase": false, "constructor": false}, {"identifier": "findByItem", "parameters": "(Context context, Item i)", "modifiers": "public static", "return": "WorkspaceItem", "signature": "WorkspaceItem findByItem(Context context, Item i)", "full_signature": "public static WorkspaceItem findByItem(Context context, Item i)", "class_method_signature": "WorkspaceItem.findByItem(Context context, Item i)", "testcase": false, "constructor": false}, {"identifier": "findAll", "parameters": "(Context context)", "modifiers": "public static", "return": "WorkspaceItem[]", "signature": "WorkspaceItem[] findAll(Context context)", "full_signature": "public static WorkspaceItem[] findAll(Context context)", "class_method_signature": "WorkspaceItem.findAll(Context context)", "testcase": false, "constructor": false}, {"identifier": "getID", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getID()", "full_signature": "public int getID()", "class_method_signature": "WorkspaceItem.getID()", "testcase": false, "constructor": false}, {"identifier": "getStageReached", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getStageReached()", "full_signature": "public int getStageReached()", "class_method_signature": "WorkspaceItem.getStageReached()", "testcase": false, "constructor": false}, {"identifier": "setStageReached", "parameters": "(int v)", "modifiers": "public", "return": "void", "signature": "void setStageReached(int v)", "full_signature": "public void setStageReached(int v)", "class_method_signature": "WorkspaceItem.setStageReached(int v)", "testcase": false, "constructor": false}, {"identifier": "getPageReached", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getPageReached()", "full_signature": "public int getPageReached()", "class_method_signature": "WorkspaceItem.getPageReached()", "testcase": false, "constructor": false}, {"identifier": "setPageReached", "parameters": "(int v)", "modifiers": "public", "return": "void", "signature": "void setPageReached(int v)", "full_signature": "public void setPageReached(int v)", "class_method_signature": "WorkspaceItem.setPageReached(int v)", "testcase": false, "constructor": false}, {"identifier": "update", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void update()", "full_signature": "public void update()", "class_method_signature": "WorkspaceItem.update()", "testcase": false, "constructor": false}, {"identifier": "equals", "parameters": "(Object o)", "modifiers": "public", "return": "boolean", "signature": "boolean equals(Object o)", "full_signature": "public boolean equals(Object o)", "class_method_signature": "WorkspaceItem.equals(Object o)", "testcase": false, "constructor": false}, {"identifier": "hashCode", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int hashCode()", "full_signature": "public int hashCode()", "class_method_signature": "WorkspaceItem.hashCode()", "testcase": false, "constructor": false}, {"identifier": "deleteAll", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void deleteAll()", "full_signature": "public void deleteAll()", "class_method_signature": "WorkspaceItem.deleteAll()", "testcase": false, "constructor": false}, {"identifier": "deleteEpersonGroup2WorkspaceItem", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void deleteEpersonGroup2WorkspaceItem()", "full_signature": "private void deleteEpersonGroup2WorkspaceItem()", "class_method_signature": "WorkspaceItem.deleteEpersonGroup2WorkspaceItem()", "testcase": false, "constructor": false}, {"identifier": "deleteWrapper", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void deleteWrapper()", "full_signature": "public void deleteWrapper()", "class_method_signature": "WorkspaceItem.deleteWrapper()", "testcase": false, "constructor": false}, {"identifier": "getItem", "parameters": "()", "modifiers": "public", "return": "Item", "signature": "Item getItem()", "full_signature": "public Item getItem()", "class_method_signature": "WorkspaceItem.getItem()", "testcase": false, "constructor": false}, {"identifier": "getCollection", "parameters": "()", "modifiers": "public", "return": "Collection", "signature": "Collection getCollection()", "full_signature": "public Collection getCollection()", "class_method_signature": "WorkspaceItem.getCollection()", "testcase": false, "constructor": false}, {"identifier": "getSubmitter", "parameters": "()", "modifiers": "public", "return": "EPerson", "signature": "EPerson getSubmitter()", "full_signature": "public EPerson getSubmitter()", "class_method_signature": "WorkspaceItem.getSubmitter()", "testcase": false, "constructor": false}, {"identifier": "hasMultipleFiles", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean hasMultipleFiles()", "full_signature": "public boolean hasMultipleFiles()", "class_method_signature": "WorkspaceItem.hasMultipleFiles()", "testcase": false, "constructor": false}, {"identifier": "setMultipleFiles", "parameters": "(boolean b)", "modifiers": "public", "return": "void", "signature": "void setMultipleFiles(boolean b)", "full_signature": "public void setMultipleFiles(boolean b)", "class_method_signature": "WorkspaceItem.setMultipleFiles(boolean b)", "testcase": false, "constructor": false}, {"identifier": "hasMultipleTitles", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean hasMultipleTitles()", "full_signature": "public boolean hasMultipleTitles()", "class_method_signature": "WorkspaceItem.hasMultipleTitles()", "testcase": false, "constructor": false}, {"identifier": "setMultipleTitles", "parameters": "(boolean b)", "modifiers": "public", "return": "void", "signature": "void setMultipleTitles(boolean b)", "full_signature": "public void setMultipleTitles(boolean b)", "class_method_signature": "WorkspaceItem.setMultipleTitles(boolean b)", "testcase": false, "constructor": false}, {"identifier": "isPublishedBefore", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isPublishedBefore()", "full_signature": "public boolean isPublishedBefore()", "class_method_signature": "WorkspaceItem.isPublishedBefore()", "testcase": false, "constructor": false}, {"identifier": "setPublishedBefore", "parameters": "(boolean b)", "modifiers": "public", "return": "void", "signature": "void setPublishedBefore(boolean b)", "full_signature": "public void setPublishedBefore(boolean b)", "class_method_signature": "WorkspaceItem.setPublishedBefore(boolean b)", "testcase": false, "constructor": false}], "file": "dspace-api/src/main/java/org/dspace/content/WorkspaceItem.java"}, "focal_method": {"identifier": "findByCollection", "parameters": "(Context context, Collection c)", "modifiers": "public static", "return": "WorkspaceItem[]", "body": "public static WorkspaceItem[] findByCollection(Context context, Collection c)\n            throws SQLException\n    {\n        List<WorkspaceItem> wsItems = new ArrayList<WorkspaceItem>();\n\n        TableRowIterator tri = DatabaseManager.queryTable(context, \"workspaceitem\",\n                \"SELECT workspaceitem.* FROM workspaceitem WHERE \" +\n                \"workspaceitem.collection_id= ? \",\n                c.getID());\n\n        try\n        {\n            while (tri.hasNext())\n            {\n                TableRow row = tri.next();\n\n                // Check the cache\n                WorkspaceItem wi = (WorkspaceItem) context.fromCache(\n                        WorkspaceItem.class, row.getIntColumn(\"workspace_item_id\"));\n\n                // not in cache? turn row into workspaceitem\n                if (wi == null)\n                {\n                    wi = new WorkspaceItem(context, row);\n                }\n\n                wsItems.add(wi);\n            }\n        }\n        finally\n        {\n            // close the TableRowIterator to free up resources\n            if (tri != null)\n            {\n                tri.close();\n            }\n        }\n\n        return wsItems.toArray(new WorkspaceItem[wsItems.size()]);\n    }", "signature": "WorkspaceItem[] findByCollection(Context context, Collection c)", "full_signature": "public static WorkspaceItem[] findByCollection(Context context, Collection c)", "class_method_signature": "WorkspaceItem.findByCollection(Context context, Collection c)", "testcase": false, "constructor": false, "invocations": ["queryTable", "getID", "hasNext", "next", "fromCache", "getIntColumn", "add", "close", "toArray", "size"]}, "repository": {"repo_id": 1469749, "url": "https://github.com/DSpace/DSpace-SVN-Deprecated", "language": "Java", "is_fork": false, "fork_count": 35, "stargazer_count": 10, "size": 81375, "license": "licensed"}}