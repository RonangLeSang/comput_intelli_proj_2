{"test_class": {"identifier": "OkuriganaValidatorTest", "superclass": "", "interfaces": "", "fields": [], "file": "redpen-core/src/test/java/cc/redpen/validator/sentence/OkuriganaValidatorTest.java"}, "test_case": {"identifier": "testValidOkuriganaWithUmare3", "parameters": "()", "modifiers": "@Test", "return": "void", "body": "@Test\n    void testValidOkuriganaWithUmare3() throws Exception {\n        String sampleText = \"\u308f\u305f\u3057\u306b\u30a2\u30a4\u30c7\u30a2\u304c\u751f\u307e\u308c\u308b\u3002\";\n        Configuration config = Configuration.builder(\"ja\")\n                .addValidatorConfig(new ValidatorConfiguration(\"Okurigana\"))\n                .build();\n\n        DocumentParser parser = DocumentParser.MARKDOWN;\n        List<Document> documents = new ArrayList<>();\n        Document document  = parser.parse(sampleText,\n                new SentenceExtractor(config.getSymbolTable()),\n                config.getTokenizer());\n        documents.add(document);\n\n        RedPen redPen = new RedPen(config);\n        Map<Document, List<ValidationError>> errors = redPen.validate(documents);\n\n        assertEquals(0, errors.get(documents.get(0)).size());\n\n    }", "signature": "void testValidOkuriganaWithUmare3()", "full_signature": "@Test void testValidOkuriganaWithUmare3()", "class_method_signature": "OkuriganaValidatorTest.testValidOkuriganaWithUmare3()", "testcase": true, "constructor": false, "invocations": ["build", "addValidatorConfig", "builder", "parse", "getSymbolTable", "getTokenizer", "add", "validate", "assertEquals", "size", "get", "get"]}, "focal_class": {"identifier": "OkuriganaValidator", "superclass": "extends Validator", "interfaces": "", "fields": [{"original_string": "private static final Set<String> invalidOkurigana;", "modifier": "private static final", "type": "Set<String>", "declarator": "invalidOkurigana", "var_name": "invalidOkurigana"}, {"original_string": "private static final Set<ExpressionRule> invalidOkuriganaTokens;", "modifier": "private static final", "type": "Set<ExpressionRule>", "declarator": "invalidOkuriganaTokens", "var_name": "invalidOkuriganaTokens"}], "methods": [{"identifier": "validate", "parameters": "(Sentence sentence)", "modifiers": "@Override public", "return": "void", "signature": "void validate(Sentence sentence)", "full_signature": "@Override public void validate(Sentence sentence)", "class_method_signature": "OkuriganaValidator.validate(Sentence sentence)", "testcase": false, "constructor": false}, {"identifier": "getSupportedLanguages", "parameters": "()", "modifiers": "@Override public", "return": "List<String>", "signature": "List<String> getSupportedLanguages()", "full_signature": "@Override public List<String> getSupportedLanguages()", "class_method_signature": "OkuriganaValidator.getSupportedLanguages()", "testcase": false, "constructor": false}, {"identifier": "init", "parameters": "()", "modifiers": "@Override protected", "return": "void", "signature": "void init()", "full_signature": "@Override protected void init()", "class_method_signature": "OkuriganaValidator.init()", "testcase": false, "constructor": false}], "file": "redpen-core/src/main/java/cc/redpen/validator/sentence/OkuriganaValidator.java"}, "focal_method": {"identifier": "validate", "parameters": "(Sentence sentence)", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void validate(Sentence sentence) {\n        invalidOkurigana.stream().forEach(value -> {\n                    int startPosition = sentence.getContent().indexOf(value);\n                    if (startPosition != -1) {\n                        addLocalizedErrorWithPosition(sentence,\n                               startPosition,\n                               startPosition + value.length(),\n                                value);\n                    }\n                }\n        );\n\n        for (ExpressionRule rule : invalidOkuriganaTokens) {\n            if (rule.match(sentence.getTokens())) {\n                addLocalizedError(sentence, rule.toString());\n            }\n        }\n    }", "signature": "void validate(Sentence sentence)", "full_signature": "@Override public void validate(Sentence sentence)", "class_method_signature": "OkuriganaValidator.validate(Sentence sentence)", "testcase": false, "constructor": false, "invocations": ["forEach", "stream", "indexOf", "getContent", "addLocalizedErrorWithPosition", "length", "match", "getTokens", "addLocalizedError", "toString"]}, "repository": {"repo_id": 13490595, "url": "https://github.com/redpen-cc/redpen", "language": "Java", "is_fork": false, "fork_count": 68, "stargazer_count": 438, "size": 9306, "license": "licensed"}}